/*! Kontentblocks ProdVersion 2018-10-11 08:10 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=window.KB||{};d.Events={},_.extend(d,Backbone.Events),_.extend(d.Events,Backbone.Events),d.currentModule={},d.currentArea={};var e=a("shared/ViewsCollection"),f=a("fields/FieldControlsCollection"),g=a("backend/Collections/AreasCollection"),h=a("common/Payload"),i=a("common/Index"),j=a("common/UI"),k=(a("common/Autosave"),a("common/Config")),l=a("backend/Views/ModuleView"),m=a("backend/Models/ModuleModel"),n=a("backend/Views/AreaView"),o=a("backend/Views/SystemAreaView"),p=a("backend/Models/AreaModel"),q=a("backend/Models/PanelModel"),r=a("backend/Views/PanelView"),s=a("backend/Views/ContextView"),t=a("backend/Models/ContextModel"),u=a("backend/Views/Ui/TabbedEditScreen"),v=a("shared/ChangeObserver"),w=(a("fields/RefieldsController"),a("fieldsAPI/FieldsAPIController"),a("shared/Collections/ObjectProxyCollection"));d.Views={Modules:new e,Areas:new e,Context:new e,Panels:new e,Contexts:new e},d.Modules=new Backbone.Collection([],{model:m}),d.Areas=new g([],{model:p}),d.Panels=new Backbone.Collection([],{model:q}),d.Contexts=new Backbone.Collection([],{model:t}),d.ObjectProxy=new w,d.ChangeObserver=new v,d.App=function(){function b(){d.Modules.on("add",e),d.Areas.on("add",g),d.Panels.on("add",m),d.Modules.on("remove",q),d.Contexts.on("add",p),c(),d.Menus=a("backend/Menus"),d.Window=a("common/Window").init(),j.init(),"default-tabs"===k.getLayoutMode()&&new u,d.Index=i}function c(){_.each(h.getPayload("Areas"),function(a){"_internal"!==a.id&&d.ObjectProxy.add(d.Areas.add(a))}),_.each(h.getPayload("Modules"),function(a){d.ObjectProxy.add(d.Modules.add(a))}),_.each(h.getPayload("Panels"),function(a){d.ObjectProxy.add(d.Panels.add(a))}),_.each(h.getPayload("Contexts"),function(a){d.ObjectProxy.add(d.Contexts.add(a))}),_.isArray(d.payload.Fields)&&0==d.payload.Fields.length&&(d.payload.Fields={}),d.FieldControls=new f,d.FieldControls.add(_.toArray(h.getPayload("Fields")))}function e(a){d.Views.Modules.add(a.get("mid"),new l({model:a,el:"#"+a.get("mid")})),j.initTabs()}function g(a){a.get("public")?d.Views.Areas.add(a.get("id"),new n({model:a,el:"#"+a.get("id")+"-container"})):d.Views.Areas.add(a.get("id"),new o({model:a,el:"#"+a.get("id")+"-container"}))}function m(a){d.Views.Areas.add(a.get("baseId"),new r({model:a,el:"#kbp-"+a.get("baseId")+"-container"}))}function p(a){d.Views.Contexts.add(a.get("id"),new s({model:a,el:"#context_"+a.get("id")}))}function q(a){d.Views.Modules.remove(a.get("mid"))}return{init:b}}(jQuery),jQuery(document).ready(function(){d.App.init(),d.appData&&!d.appData.config.frontend&&d.Views.Modules.ready()})},{"backend/Collections/AreasCollection":2,"backend/Menus":3,"backend/Models/AreaModel":4,"backend/Models/ContextModel":5,"backend/Models/ModuleModel":6,"backend/Models/PanelModel":7,"backend/Views/AreaView":12,"backend/Views/ContextView":21,"backend/Views/ModuleView":33,"backend/Views/PanelView":34,"backend/Views/SystemAreaView":37,"backend/Views/Ui/TabbedEditScreen":49,"common/Autosave":51,"common/Config":53,"common/Index":55,"common/Payload":58,"common/UI":60,"common/Window":62,"fields/FieldControlsCollection":66,"fields/RefieldsController":69,"fieldsAPI/FieldsAPIController":113,"shared/ChangeObserver":140,"shared/Collections/ObjectProxyCollection":141,"shared/ViewsCollection":164}],2:[function(a,b,c){b.exports=Backbone.Collection.extend({_bycontext:{},_globalAreas:{},initialize:function(){this.listenTo(this,"add",this.categorize)},categorize:function(a){var b=a.get("context");this._bycontext[b]||(this._bycontext[b]={}),this._bycontext[b][a.get("id")]=a,a.get("dynamic")&&(this._globalAreas[a.get("id")]=a)},getByContext:function(a){return this._bycontext[a]?this._bycontext[a]:{}},getGlobalAreas:function(){return this._globalAreas}})},{}],3:[function(a,b,c){var d=a("common/Ajax"),e=a("common/Config");b.exports={loadingContainer:null,initiatorEl:null,sendButton:null,createSanitizedId:function(a,b){this.initiatorEl=jQuery(a),this.loadingContainer=this.initiatorEl.closest(".kb-menu-field").addClass("loading"),this.$sendButton=jQuery("#kb-submit"),this.disableSendButton(),d.send({inputvalue:a.value,checkmode:b,action:"getSanitizedId",_ajax_nonce:e.getNonce("read")},this.insertId,this)},insertId:function(a){a.success?(jQuery(".kb-js-area-id").val(a.data.id),this.enableSendButton()):(this.initiatorEl.addClass(),jQuery(".kb-js-area-id").val("Please chose a different name")),this.loadingContainer.removeClass("loading")},disableSendButton:function(){this.$sendButton.attr("disabled","disabled").val("Disabled")},enableSendButton:function(){this.$sendButton.attr("disabled",!1).val("Create")},reloadContext:function(a){var b=a.value;window.location.href=window.location+"&area-context="+b}}},{"common/Ajax":50,"common/Config":53}],4:[function(a,b,c){b.exports=Backbone.Model.extend({idAttribute:"id"})},{}],5:[function(a,b,c){b.exports=Backbone.Model.extend({idAttribute:"id"})},{}],6:[function(a,b,c){var d=a("common/Notice"),e=a("common/Ajax"),f=a("common/Config");b.exports=Backbone.Model.extend({idAttribute:"mid",attachedFields:{},initialize:function(){this.type="module",this.listenTo(this,"change:area",this.areaChanged),this.subscribeToArea()},destroy:function(){this.unsubscribeFromArea(),this.stopListening()},attachField:function(a){this.attachedFields[a.id]=a,this.listenTo(a,"remove",this.removeAttachedField)},removeAttachedField:function(a){this.attachedFields[a.id]&&delete this.attachedFields[a.id]},connectView:function(a){this.View=a,this.trigger("module.model.view.connected",a)},setArea:function(a){this.setEnvVar("area",a.get("id")),this.setEnvVar("areaContext",a.get("context")),this.set("areaContext",a.get("context")),this.set("area",a.get("id")),this.Area=a,this.subscribeToArea(a)},areaChanged:function(){this.View.updateModuleForm()},subscribeToArea:function(a){a||(a=KB.Areas.get(this.get("area"))),a&&(a.View.attachModule(this),this.Area=a)},unsubscribeFromArea:function(){this.Area.View.removeModule(this)},setEnvVar:function(a,b){var c=_.clone(this.get("envVars"));c[a]=b,this.set("envVars",c)},sync:function(){e.send({action:"updateModuleData",module:this.toJSON(),data:this.View.serialize(),_ajax_nonce:f.getNonce("update")},this.success,this)},success:function(a){a&&a.data.newModuleData||_K.error("Failed to save module data."),this.set("entityData",a.data.newModuleData,{silent:!0}),this.trigger("module.model.updated",this),d.notice("Data saved","success")}})},{"common/Ajax":50,"common/Config":53,"common/Notice":57}],7:[function(a,b,c){b.exports=Backbone.Model.extend({idAttribute:"baseId",attachedFields:{},attachField:function(a){this.attachedFields[a.id]=a,this.listenTo(a,"remove",this.removeAttachedField)},removeAttachedField:function(a){this.attachedFields[a.id]&&delete this.attachedFields[a.id]}})},{}],8:[function(a,b,c){var d=a("backend/Views/ModuleControls/ControlsView");b.exports=d.extend({initialize:function(){this.$menuWrap=jQuery(".kb-area__title-text",this.$el),this.$menuWrap.append("<div class='kb-area-actions'><div class='kb-area-actions-list'></div></div>"),this.$menuList=jQuery(".kb-area-actions-list",this.$menuWrap)}})},{"backend/Views/ModuleControls/ControlsView":23}],9:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=(a("common/Checks"),a("common/Config")),f=a("common/Notice"),g=a("common/Ajax");b.exports=d.extend({initialize:function(a){this.options=a||{},this.parent=a.parent},attributes:{},className:"dashicons dashicons-no-alt",events:{click:"detach"},detach:function(){var a=_.clone(this.model.get("settings"));a.attached=!a.attached,g.send({action:"syncAreaSettings",_ajax_nonce:e.getNonce("update"),areaId:this.model.get("id"),settings:a},this.success,this)},isValid:function(){return KB.Environment&&"kb-dyar"===KB.Environment.postType?!1:this.model.get("dynamic")},success:function(a){a.success?(this.model.set("settings",a.data),f.notice("Area status updated","success"),this.parent.$el.remove()):f.notice(a.message,"error")}})},{"backend/Views/BaseControlView":13,"common/Ajax":50,"common/Checks":52,"common/Config":53,"common/Notice":57}],10:[function(a,b,c){var d=a("backend/Views/BaseControlView");a("common/Checks"),a("common/Config"),a("common/Notice"),a("common/Ajax");b.exports=d.extend({initialize:function(a){this.options=a||{},this.parent=a.parent},attributes:{},className:"genericon genericon-draggable kb-area-move-handle",isValid:function(){return KB.Environment&&"kb-dyar"===KB.Environment.postType?!1:!0}})},{"backend/Views/BaseControlView":13,"common/Ajax":50,"common/Checks":52,"common/Config":53,"common/Notice":57}],11:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=(a("common/Checks"),a("common/Config")),f=a("common/Notice"),g=a("common/Ajax");b.exports=d.extend({initialize:function(a){this.options=a||{},this.parent=a.parent},attributes:{},className:"dashicons dashicons-visibility kb-area-status-action",events:{click:"changeStatus"},render:function(){var a=this.model.get("settings");this.parent.$el.removeClass("kb-area-status-inactive"),a.active||this.parent.$el.addClass("kb-area-status-inactive")},changeStatus:function(){var a=this.model.get("settings");a.active=!a.active,g.send({action:"syncAreaSettings",_ajax_nonce:e.getNonce("update"),areaId:this.model.get("id"),settings:a},this.success,this)},isValid:function(){return KB.Environment&&"kb-dyar"===KB.Environment.postType?!1:!0},success:function(a){a.success?(this.model.set("settings",a.data),this.render(),f.notice("Area status updated","success")):f.notice(a.message,"error")}})},{"backend/Views/BaseControlView":13,"common/Ajax":50,"common/Checks":52,"common/Config":53,"common/Notice":57}],12:[function(a,b,c){var d=a("templates/backend/area-item-placeholder.hbs"),e=a("templates/backend/area-add-module.hbs"),f=a("shared/ModuleBrowser/ModuleBrowserController"),g=a("backend/Views/AreaControls/AreaControlsView"),h=a("backend/Views/AreaControls/controls/StatusControl"),i=a("backend/Views/AreaControls/controls/DetachControl"),j=a("backend/Views/AreaControls/controls/MoveControl"),k=a("common/Checks");b.exports=Backbone.View.extend({initialize:function(){this.attachedModules={},this.$controlsContainer=this.$(".add-modules"),this.$modulesList=this.$("#"+this.model.get("id")),this.$placeholder=jQuery(d({i18n:KB.i18n})),this.$footer=this.$(".kb-area--footer"),this.model.View=this,this.listenTo(this,"module.attached",this.ui),this.AreaControls=new g({el:this.$el,parent:this}),this.setupDefaultMenuItems(),this.render()},events:{"click .modules-link":"openModuleBrowser",mouseenter:"setActive"},render:function(){this.addControls(),this.ui()},resetElement:function(){this.setElement("#"+this.model.get("id")+"-container"),this.initialize()},addControls:function(){var a=parseInt(this.model.get("limit"),10)>0;k.userCan("create_kontentblocks")&&this.model.get("assignedModules").length>1&&this.$footer.append(e({i18n:KB.i18n,model:this.model.toJSON(),showLimit:a}))},openModuleBrowser:function(a){a.preventDefault(),this.ModuleBrowser||(this.ModuleBrowser=new f({area:this})),this.ModuleBrowser.render()},setActive:function(){KB.currentArea=this.model},attachModule:function(a){this.attachedModules[a.cid]=a,this.listenTo(a,"change:area",this.removeModule),this.trigger("module.attached",a)},removeModule:function(a){var b;b=a.cid,this.attachedModules[b]&&(delete this.attachedModules[b],this.stopListening(a,"change:area",this.removeModule)),this.trigger("module.detached",a)},ui:function(){var a;a=_.size(this.attachedModules),0===a?this.renderPlaceholder():this.$placeholder.remove()},renderPlaceholder:function(){this.$modulesList.before(this.$placeholder)},setupDefaultMenuItems:function(){this.AreaControls.addItem(new h({model:this.model,parent:this})),this.AreaControls.addItem(new i({model:this.model,parent:this})),this.AreaControls.addItem(new j({model:this.model,parent:this}))}})},{"backend/Views/AreaControls/AreaControlsView":8,"backend/Views/AreaControls/controls/DetachControl":9,"backend/Views/AreaControls/controls/MoveControl":10,"backend/Views/AreaControls/controls/StatusControl":11,"common/Checks":52,"shared/ModuleBrowser/ModuleBrowserController":142,"templates/backend/area-add-module.hbs":165,"templates/backend/area-item-placeholder.hbs":166}],13:[function(a,b,c){b.exports=Backbone.View.extend({tagName:"div",className:"",isValid:function(){return!0}})},{}],14:[function(a,b,c){var d=a("backend/Views/ContextBrowserAreaView"),e=a("templates/backend/context-browser.hbs");b.exports=Backbone.View.extend({tagName:"div",className:"kb-global-areas-browser-wrap base-box-border base-box-shadow",initialize:function(a){this.isOpen=!1,this.Controller=a.Controller,this.subViews=this.setupViews(),this.setupElements(),this.render(),this.open()},events:{"click .close-browser":"close"},render:function(){var a=this;this.$list.empty(),_.each(this.subViews,function(b){var c=b.render();c&&a.$list.append(c)})},setupElements:function(){this.$backdrop=jQuery("<div class='kb-global-areas-backdrop'></div>"),this.$el.append(e({i18n:KB.i18n})),this.$list=this.$(".kb-global-areas-list")},open:function(){this.$backdrop.appendTo("body"),jQuery("#wpwrap").addClass("module-browser-open"),this.$el.appendTo("body")},close:function(){this.$backdrop.detach(),jQuery("#wpwrap").removeClass("module-browser-open"),this.$el.detach()},setupViews:function(){var a=this,b=this.Controller.GlobalAreas;return _.map(b,function(b){return new d({model:b,Browser:a})})}})},{"backend/Views/ContextBrowserAreaView":15,"templates/backend/context-browser.hbs":170}],15:[function(a,b,c){var d=a("templates/backend/cb-global-area-item.hbs"),e=a("common/Ajax"),f=a("common/Config"),g=a("common/Notice");b.exports=Backbone.View.extend({tagName:"li",initialize:function(a){this.Browser=a.Browser,this.listenTo(this.model,"change:settings",this.visibility)},events:{click:"add"},visibility:function(){this.model.get("settings").attached?this.$el.hide():this.$el.show()},render:function(){this.$el.append(d({item:this.model.toJSON(),i18n:KB.i18n})),this.$el.appendTo(this.Browser.$list),this.visibility()},add:function(){var a=_.clone(this.model.get("settings"));a.attached=!0,e.send({action:"getGlobalAreaHTML",_ajax_nonce:f.getNonce("update"),areaId:this.model.get("id"),settings:a},this.success,this)},success:function(a){a.success?(this.model.set("settings",a.data.settings),this.Browser.Controller.$inner.append(a.data.html),this.Browser.close(),this.model.View.resetElement(),g.notice("Area attached","success")):g.notice(a.message,"error")}})},{"common/Ajax":50,"common/Config":53,"common/Notice":57,"templates/backend/cb-global-area-item.hbs":168}],16:[function(a,b,c){b.exports=Backbone.View.extend({initialize:function(a){this.Controller=a.Controller,this.ContextsViews=this.setupContextsViews(),this.isVisible=!0,this.listenTo(this.Controller,"columns.rendered",this.columnActivated),this.listenTo(this.Controller,"columns.reset",this.reset)},setupContextsViews:function(){var a={},b=this,c=this.$(".kb-context-container");return _.each(c,function(c,d){var e=c.dataset.kbcontext,f=KB.Contexts.get(e);a[f.View.cid]=f.View,f.View.isVisible=!0,f.View.ColumnView=b,b.listenTo(f.View,"context.activated",b.activateColumn)}),a},activateColumn:function(){this.trigger("column.activate",this)},columnActivated:function(a){a.cid!==this.cid?_.each(this.ContextsViews,function(a){a.renderProxy()}):_.each(this.ContextsViews,function(a){a.removeProxy()})},reset:function(){_.each(this.ContextsViews,function(a){a.removeProxy()})}})},{}],17:[function(a,b,c){var d=a("templates/backend/context-bar.hbs"),e=a("backend/Views/ContextUi/ContextUiView"),f=a("backend/Views/ContextUi/ContextColumnView"),g=a("backend/Views/ContextUi/controls/ResetControl"),h=a("backend/Views/ContextUi/controls/ColumnControl");b.exports=Backbone.View.extend({initialize:function(){var a=this;this.columns=this.setupColumns(),this.layoutBackup=this.createLayoutBackup(),this.cols=_.toArray(this.columns).length,this.render(),jQuery(window).resize(function(){a.resetLayout()})},setupColumns:function(){var a=this,b=this.$(".kb-context-col");return _.map(b,function(b){var c=new f({el:b,Controller:a});return a.listenTo(c,"column.activate",a.evalLayout),c})},render:function(){var a=jQuery(d({}));this.$el.before(a),this.BarView=new e({el:a}),this.setupMenuItems()},setupMenuItems:function(){var a=this;this.BarView.addItem(new g({model:this.model,parent:this})),_.each(this.columns,function(b){a.BarView.addItem(new h({model:a.model,parent:a,ColumnView:b}))})},createLayoutBackup:function(){var a={};return _.each(this.columns,function(b,c){a[c]=b.$el.attr("class")}),a},resetLayout:function(){var a=this;_.each(this.columns,function(b){b.isVisible||b.Control["switch"](),b.$el.attr("class",a.layoutBackup[b.cid]),b.$el.width("")}),this.trigger("columns.reset")},evalLayout:function(a){var b=this.$el.width()-20*this.cols,c=this.findProportion(this.cols);return 1100>b?!1:(_.each(this.columns,function(d){d.cid===a.cid?d.$el.width(Math.floor(b*c.large)):d.$el.width(Math.floor(b*c.small))}),void this.trigger("columns.rendered",a))},renderLayout:function(){var a=_.filter(this.columns,function(a){return a.isVisible}),b=a.length,c=this.$el.width()-20*b;_.each(a,function(a){a.$el.width(Math.floor(c*(100/b/100)))})},findProportion:function(a){switch(a){case 3:return{small:.1,large:.8};case 2:return{small:.3333,large:.6666};default:return{small:1,large:1}}}})},{"backend/Views/ContextUi/ContextColumnView":16,"backend/Views/ContextUi/ContextUiView":18,"backend/Views/ContextUi/controls/ColumnControl":19,"backend/Views/ContextUi/controls/ResetControl":20,"templates/backend/context-bar.hbs":169}],18:[function(a,b,c){var d=a("backend/Views/ModuleControls/ControlsView");b.exports=d.extend({initialize:function(){this.$menuList=jQuery(".kb-context-bar--actions",this.$el)}})},{"backend/Views/ModuleControls/ControlsView":23}],19:[function(a,b,c){var d=a("backend/Views/BaseControlView");b.exports=d.extend({initialize:function(a){this.options=a||{},this.Controller=a.parent,this.ColumnView=a.ColumnView,this.ColumnView.Control=this},className:"context-visibility",events:{click:"switch"},render:function(){this.$el.append('<span class="kb-button-small">'+this.ColumnView.$el.data("kbcolname")+"</span>")},isValid:function(){return!0},"switch":function(){this.$el.toggleClass("kb-context-hidden"),this.ColumnView.$el.toggle(),this.ColumnView.isVisible=!this.ColumnView.isVisible,this.Controller.renderLayout()}})},{"backend/Views/BaseControlView":13}],20:[function(a,b,c){var d=a("backend/Views/BaseControlView");b.exports=d.extend({initialize:function(a){this.options=a||{},this.Controller=a.parent},className:"context-reset-layout",events:{click:"resetLayout"},render:function(){this.$el.append('<span class="kb-button-small">Reset</span>')},isValid:function(){return!0},resetLayout:function(){this.Controller.resetLayout()}})},{"backend/Views/BaseControlView":13}],21:[function(a,b,c){var d=a("templates/backend/context-header.hbs"),e=a("backend/Views/ContextBrowser");b.exports=Backbone.View.extend({initialize:function(){this.active=!1,this.model.View=this,this.Areas=this.setupAreas(),this.GlobalAreas=this.filterGlobalAreas(),this.AttachedGlobalAreas=this.filterAttachedGlobalAreas(),this.setupElements(),this.bindHandlers(),this.render(),this.listenTo(KB.Events,"context.activate",this.activate)},events:{"click .kb-js-add-global-area":"openBrowser","click .kb-context__header":function(){KB.Events.trigger("context.activate",this)},"click .kb-context-inner--overlay":function(){KB.Events.trigger("context.activate",this)}},setupElements:function(){this.$header=this.$(".kb-context__header"),this.$header.append(d({i18n:KB.i18n})),this.$button=jQuery(".kb-button-small",this.$header),this.$inner=this.$(".kb-context__inner"),this.$overlay=jQuery('<div class="kb-context-inner--overlay"><span>'+this.model.get("title")+"</span><br>click to show</div>")},render:function(){_.isEmpty(this.GlobalAreas)?this.$button.hide():this.$button.show()},activate:function(a){a.cid!==this.cid||this.active?this.active&&a.cid!==this.cid&&(this.active=!1,this.$el.removeClass("kb-context-focus"),this.trigger("context.deactivated",this)):(this.active=!0,this.trigger("context.activated",this),this.$el.addClass("kb-context-focus"))},setupAreas:function(){return KB.Areas.getByContext(this.model.get("id"))},filterGlobalAreas:function(){var a={};return _.each(this.Areas,function(b){b.get("dynamic")&&!b.get("settings").attached&&(a[b.get("id")]=b)}),a},filterAttachedGlobalAreas:function(){var a={};return _.each(this.Areas,function(b){b.get("settings").attached&&b.get("dynamic")&&(a[b.get("id")]=b)}),a},bindHandlers:function(){var a=this;_.each(this.Areas,function(b){a.listenTo(b,"change:settings",a.observeAttachedAreas)})},observeAttachedAreas:function(a){this.GlobalAreas=this.filterGlobalAreas(),this.render()},openBrowser:function(){this.Browser||(this.Browser=new e({Controller:this})),this.Browser.open()},renderProxy:function(){this.$el.addClass("kb-context-downsized"),this.$inner.append(this.$overlay)},removeProxy:function(){this.$el.removeClass("kb-context-downsized"),this.$overlay.detach()}})},{"backend/Views/ContextBrowser":14,"templates/backend/context-header.hbs":171}],22:[function(a,b,c){var d=a("templates/backend/fullscreen-inner.hbs"),e=a("common/TinyMCE"),f=a("common/UI");b.exports=Backbone.View.extend({className:"kb-fullscreen--holder",initialize:function(){return this.$parent=this.model.View.$el,this.$body=jQuery(".kb-module__body",this.$parent),this},events:{"click .kb-fullscreen-js-close":"close","change .kb-template-select":"viewfileChange"},viewfileChange:function(a){var b=this;this.model.View.viewfileChange(a),this.listenToOnce(this.model.View,"kb:backend::viewUpdated",function(){f.repaint(b.$body)})},open:function(){var a=this;a.model.View.open=!0,e.removeEditors(),this.$backdrop=jQuery('<div class="kb-fullscreen-backdrop"></div>').appendTo("body"),this.$fswrap=jQuery(d()).appendTo(this.$el),this.$el.width(.7*jQuery(window).width()),jQuery("#wpwrap").addClass("module-browser-open"),this.$body.detach().appendTo(this.$fswrap.find(".kb-fullscreen--inner")).show().addClass("kb-module--fullscreen"),jQuery(window).resize(function(){a.$fswrap.width(.7*jQuery(window).width())}),this.$el.appendTo("body"),e.restoreEditors(),this.trigger("open"),this.reposition();var b=jQuery(window).height();jQuery(".kb-nano",this.$el).height(b-100),jQuery(".kb-nano").nanoScroller({preventPageScrolling:!0,contentClass:"kb-nano-content"})},reposition:function(){var a=jQuery(window).scrollTop();this.$el.css("top",a+30+"px")},close:function(){e.removeEditors(),jQuery("#wpwrap").removeClass("module-browser-open"),this.$body.detach().appendTo(this.$parent),this.$backdrop.remove(),this.$fswrap.remove(),this.$el.detach(),jQuery(window).off("scroll",jQuery.proxy(this.reposition,this)),this.model.View.open=!1,setTimeout(function(){e.restoreEditors()},250),this.trigger("close")}})},{"common/TinyMCE":59,"common/UI":60,"templates/backend/fullscreen-inner.hbs":172}],23:[function(a,b,c){b.exports=Backbone.View.extend({id:"",$menuWrap:{},$menuList:{},initialize:function(){this.$menuWrap=jQuery(".menu-wrap",this.$el),this.$menuWrap.append("<div class='module-actions'></div>"),this.$menuList=jQuery(".module-actions",this.$menuWrap)},addItem:function(a){if(this.controls=this.controls||{},a.isValid&&a.isValid()===!0){var b=jQuery('<div class="kb-controls-item"></div>').appendTo(this.$menuList),c=b.append(a.el);this.$menuList.append(c),a.render.call(a),this.controls[a.id]=a}},getView:function(a){return this.controls[a]?this.controls[a]:!1}})},{}],24:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("common/Checks"),f=a("common/Notice"),g=a("common/Ajax"),h=a("common/Config"),i=a("common/TinyMCE"),j=a("common/Window"),k=a("shared/BatchDelete/BatchDeleteController"),l=a("common/I18n");b.exports=d.extend({id:"delete",marked:!1,className:"kb-delete block-menu-icon",attributes:{"data-kbtooltip":l.getString("Modules.controls.be.tooltips.delete")},initialize:function(){_.bindAll(this,"yes","no")},events:{click:"deleteModule"},deleteModule:function(){j.ctrlPressed()?this.marked?(k.remove(this),this.unmark()):(k.add(this),this.mark()):f.confirm("Delete Module?",KB.i18n.EditScreen.notices.confirmDeleteMsg,this.yes,this.no,this)},mark:function(){this.$el.addClass("kb-batch-marked"),this.marked=!0},unmark:function(){this.$el.removeClass("kb-batch-marked"),this.marked=!1},isValid:function(){return!(this.model.get("predefined")||this.model.get("disabled")||this.model.get("submodule")||!e.userCan("delete_kontentblocks"))},yes:function(){g.send({action:"removeModules",_ajax_nonce:h.getNonce("delete"),module:this.model.get("mid")},this.success,this)},no:function(){return!1},success:function(a){a.success?(i.removeEditors(this.model.View.$el),KB.ObjectProxy.removeModel(this.model),KB.Modules.remove(this.model),wp.heartbeat.interval("fast",2)):f.notice("Error while removing a module","error")}})},{"backend/Views/BaseControlView":13,"common/Ajax":50,"common/Checks":52,"common/Config":53,"common/I18n":54,"common/Notice":57,"common/TinyMCE":59,"common/Window":62,"shared/BatchDelete/BatchDeleteController":139}],25:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("common/Checks"),f=a("common/Notice"),g=a("common/Ajax"),h=a("common/Config"),i=a("common/UI"),j=a("common/Payload"),k=a("common/I18n");b.exports=d.extend({id:"duplicate",className:"kb-duplicate block-menu-icon",events:{click:"duplicateModule"},attributes:{"data-kbtooltip":k.getString("Modules.controls.be.tooltips.duplicate")},duplicateModule:function(){g.send({action:"duplicateModule",module:this.model.get("mid"),areaContext:this.model.Area.get("context"),_ajax_nonce:h.getNonce("create"),"class":this.model.get("class")},this.success,this)},isValid:function(){return this.model.get("predefined")||this.model.get("disabled")||this.model.get("submodule")||!e.userCan("edit_kontentblocks")?!1:!0},success:function(a){var b,c=this;if(!a.success)return f.notice("Request Error","error"),!1;this.model.Area.View.$modulesList.append(a.data.html),b=a.data.module,b.mid&&(b.id=b.mid);var d=KB.ObjectProxy.add(KB.Modules.add(b));this.model.Area.View.attachModule(d),f.notice("Module Duplicated","success"),_.defer(function(){c.parseAdditionalJSON(a.data.json),i.repaint("#"+a.data.module.mid),KB.Fields.trigger("update")})},parseAdditionalJSON:function(a){KB.payload.Fields||(KB.payload.Fields={}),_.extend(KB.payload.Fields,a.Fields),KB.payload.fieldData||(KB.payload.fieldData={}),_.extend(KB.payload.fieldData,a.fieldData),j.parseAdditionalJSON(a)}})},{"backend/Views/BaseControlView":13,"common/Ajax":50,"common/Checks":52,"common/Config":53,"common/I18n":54,"common/Notice":57,"common/Payload":58,"common/UI":60}],26:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("common/Checks"),f=(a("common/Notice"),a("common/Ajax"),a("common/Config"),a("common/UI"),a("common/Payload"),a("common/I18n"));b.exports=d.extend({id:"save",initialize:function(a){this.options=a||{},this.parentView=a.parent,this.listenTo(this.parentView,"kb::module.input.changed",this.getDirty),this.listenTo(this.parentView,"kb::module.data.updated",this.getClean),this.listenTo(this.model,"change:entityData",this.getDirty)},attributes:{"data-kbtooltip":f.getString("Modules.controls.be.tooltips.save")},className:"kb-save block-menu-icon",events:{click:"saveData"},saveData:function(){tinyMCE.triggerSave(),this.model.sync()},getDirty:function(){this.$el.addClass("is-dirty")},getClean:function(){this.$el.removeClass("is-dirty")},isValid:function(){return this.model.get("master")?!1:!this.model.get("disabled")&&e.userCan("edit_kontentblocks")}})},{"backend/Views/BaseControlView":13,"common/Ajax":50,"common/Checks":52,"common/Config":53,"common/I18n":54,"common/Notice":57,"common/Payload":58,"common/UI":60}],27:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("common/Checks"),f=a("common/Config"),g=a("common/Notice"),h=a("common/Ajax"),i=a("common/I18n");b.exports=d.extend({id:"status",initialize:function(a){this.options=a||{}},className:"module-status block-menu-icon",events:{click:"changeStatus"},attributes:function(){return this.model.get("state").active?{"data-kbtooltip":i.getString("Modules.controls.be.tooltips.status.off")}:{"data-kbtooltip":i.getString("Modules.controls.be.tooltips.status.on")}},changeStatus:function(){h.send({action:"changeModuleStatus",module:this.model.get("mid"),_ajax_nonce:f.getNonce("update")},this.success,this)},isValid:function(){return!this.model.get("disabled")&&e.userCan("deactivate_kontentblocks")?!0:!1},success:function(){var a=this.model.get("state");a.active=!a.active,this.model.set("state",a),a.active?this.$el.attr("data-kbtooltip",i.getString("Modules.controls.be.tooltips.status.off")):this.$el.attr("data-kbtooltip",i.getString("Modules.controls.be.tooltips.status.on")),this.options.parent.$head.toggleClass("module-inactive"),this.options.parent.$el.toggleClass("activated deactivated"),g.notice("Status changed","success")}})},{"backend/Views/BaseControlView":13,"common/Ajax":50,"common/Checks":52,"common/Config":53,"common/I18n":54,"common/Notice":57}],28:[function(a,b,c){var d=a("backend/Views/ModuleControls/ControlsView");b.exports=d.extend({initialize:function(){this.$menuWrap=jQuery(".ui-wrap",this.$el),this.$menuWrap.append("<div class='ui-actions'></div>"),this.$menuList=jQuery(".ui-actions",this.$menuWrap)}})},{"backend/Views/ModuleControls/ControlsView":23}],29:[function(a,b,c){var d=a("backend/Views/BaseControlView");b.exports=d.extend({id:"disable",initialize:function(a){this.options=a||{}},className:"ui-disabled kb-disabled block-menu-icon dashicons dashicons-dismiss",isValid:function(){return this.model.get("settings").disabled?!0:!1}})},{"backend/Views/BaseControlView":13}],30:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("backend/Views/FullscreenView"),f=a("common/Checks"),g=a("common/I18n");b.exports=d.extend({id:"fullscreen",initialize:function(a){this.options=a||{},this.$parent=this.model.View.$el,this.$body=jQuery(".kb-module__body",this.$parent)},attributes:{"data-kbtooltip":g.getString("Modules.tooltips.toggleFullscreen")},events:{click:"openFullscreen"},className:"ui-fullscreen kb-fullscreen block-menu-icon",isValid:function(){return!this.model.get("settings").disabled&&f.userCan("edit_kontentblocks")?!0:!1},openFullscreen:function(){this.FullscreenView||(this.FullscreenView=new e({model:this.model}).open())},getFullscreenView:function(){return this.FullscreenView||(this.FullscreenView=new e({model:this.model})),this.FullscreenView}})},{"backend/Views/BaseControlView":13,"backend/Views/FullscreenView":22,"common/Checks":52,"common/I18n":54}],31:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("common/Checks"),f=a("common/I18n");b.exports=d.extend({id:"move",initialize:function(a){this.options=a||{}},attributes:{"data-kbtooltip":f.getString("Modules.tooltips.dragToSort")},className:"ui-move kb-move block-menu-icon",isValid:function(){return this.model.get("settings").disabled||!e.userCan("edit_kontentblocks")||this.model.get("submodule")?!1:!0}})},{"backend/Views/BaseControlView":13,"common/Checks":52,"common/I18n":54}],32:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("common/Checks");b.exports=d.extend({id:"toggle",initialize:function(a){this.options=a||{},this.parent=a.parent,this.listenTo(this.parent,"toggle.open",this.toggleBody),store.get(this.parent.model.get("mid")+"_open")?(this.toggleBody(),this.parent.open=!0):this.parent.model.get("globalModule")||(this.parent.open=!1)},events:{
click:"toggleBody"},className:"ui-toggle kb-toggle block-menu-icon",isValid:function(){return this.model.get("settings").disabled||this.model.get("submodule")||!e.userCan("edit_kontentblocks")?!1:!0},toggleBody:function(a){var b=a||400;e.userCan("edit_kontentblocks")&&(this.parent.$body.slideToggle(b),this.parent.$el.toggleClass("kb-open"),KB.currentModule=this.model,this.setOpenStatus())},setOpenStatus:function(){this.parent.open=!this.parent.open,store.set(this.parent.model.get("mid")+"_open",this.parent.open),this.parent.trigger("kb.module.view.open",this.parent.open),this.parent.model.trigger("kb.module.view.open",this.parent.open)}})},{"backend/Views/BaseControlView":13,"common/Checks":52}],33:[function(a,b,c){var d=a("backend/Views/ModuleControls/ControlsView"),e=a("backend/Views/ModuleUi/ModuleUiView"),f=a("shared/ModuleStatusBar/ModuleStatusBarView"),g=a("backend/Views/ModuleControls/controls/DeleteControl"),h=a("backend/Views/ModuleControls/controls/DuplicateControl"),i=a("backend/Views/ModuleControls/controls/SaveControl"),j=a("backend/Views/ModuleControls/controls/StatusControl"),k=a("backend/Views/ModuleUi/controls/MoveControl"),l=a("backend/Views/ModuleUi/controls/ToggleControl"),m=a("backend/Views/ModuleUi/controls/FullscreenControl"),n=a("backend/Views/ModuleUi/controls/DisabledControl"),o=a("shared/ModuleStatusBar/status/DraftStatus"),p=a("shared/ModuleStatusBar/status/OriginalNameStatus"),q=a("shared/ModuleStatusBar/status/SettingsStatus"),r=a("shared/ModuleStatusBar/status/LoggedInStatus"),s=a("shared/ModuleStatusBar/status/TemplateStatus"),t=a("shared/ModuleStatusBar/status/TemplateEditorStatus"),u=(a("common/Checks"),a("common/Ajax")),v=a("common/UI"),w=a("common/Config"),x=a("common/Payload");b.exports=Backbone.View.extend({$head:{},$body:{},ModuleMenu:{},instanceId:"",events:{mouseenter:"setFocusedModule","change .kb-template-select":"viewfileChange","tinymce.change":"handleChange"},setFocusedModule:function(){KB.focusedModule=this.model},handleChange:function(){this.trigger("kb::module.input.changed",this)},viewfileChange:function(a){var b=jQuery(a.currentTarget);this.model.set("viewfile",b.val()),this.clearFields(),this.updateModuleForm(),this.trigger("KB::backend.module.viewfile.changed")},initialize:function(){this.open=!1,1==this.model.get("globalModule")&&(this.open=!0),this.$head=jQuery(".kb-module__header",this.$el),this.$body=jQuery(".kb-module__body",this.$el),this.$inner=jQuery(".kb-module__controls-inner",this.$el),this.$innerForm=jQuery(".kb-module__controls-inner-form",this.$el),this.attachedFields={},this.instanceId=this.model.get("mid"),this.ModuleMenu=new d({el:this.$el,parent:this}),this.ModuleUi=new e({el:this.$el,parent:this}),this.ModuleStatusBar=new f({el:this.$el,parent:this}),this.model.connectView(this),this.setupDefaultMenuItems(),this.setupDefaultUiItems(),this.setupDefaultStatusItems(),KB.Views.Modules.on("kb.modules.view.deleted",function(a){a.$el.fadeOut(500,function(){a.$el.remove()})}),this.$(".kb-template-select").select2({templateResult:function(a){if(!a.id)return a.text;var b=a.element.dataset.tpldesc;return jQuery("<span>"+a.text+'<br><span class="kb-tpl-desc">'+b+"</span></span>")}})},setupDefaultMenuItems:function(){this.ModuleMenu.addItem(new i({model:this.model,parent:this})),this.ModuleMenu.addItem(new h({model:this.model,parent:this})),this.ModuleMenu.addItem(new g({model:this.model,parent:this})),this.ModuleMenu.addItem(new j({model:this.model,parent:this})),this.trigger("module.view.setup.menu",this.ModuleMenu,this.model,this)},setupDefaultUiItems:function(){this.ModuleUi.addItem(new k({model:this.model,parent:this})),this.ModuleUi.addItem(new l({model:this.model,parent:this})),this.ModuleUi.addItem(new m({model:this.model,parent:this})),this.ModuleUi.addItem(new n({model:this.model,parent:this})),this.trigger("module.view.setup.ui",this.ModuleUi,this.model,this)},setupDefaultStatusItems:function(){this.ModuleStatusBar.addItem(new q({model:this.model,parent:this})),this.ModuleStatusBar.addItem(new o({model:this.model,parent:this})),this.ModuleStatusBar.addItem(new p({model:this.model,parent:this})),this.ModuleStatusBar.addItem(new r({model:this.model,parent:this})),this.ModuleStatusBar.addItem(new s({model:this.model,parent:this})),this.ModuleStatusBar.addItem(new t({model:this.model,parent:this}))},updateModuleForm:function(){u.send({action:"afterAreaChange",module:this.model.toJSON(),_ajax_nonce:w.getNonce("read")},this.insertNewUpdateForm,this)},insertNewUpdateForm:function(a){a.success?this.$innerForm.html(a.data.html):this.$innerForm.html("empty"),a.data.json.Fields&&(KB.payload.Fields=_.extend(x.getPayload("Fields"),a.data.json.Fields),KB.payload.fieldData=_.extend(x.getPayload("fieldData"),a.data.json.fieldData),KB.FieldControls.add(_.toArray(KB.payload.Fields))),v.repaint(this.$el),KB.Fields.trigger("update"),this.trigger("kb:backend::viewUpdated"),this.model.trigger("after.change.area")},serialize:function(){var a,b;return a=jQuery("#post").serializeJSON(),b=a[this.model.get("mid")],delete b.areaContext,this.trigger("kb::module.data.updated"),b},addField:function(a,b,c){_.isEmpty(c)?this.attachedFields[a]=b:this.attachedFields[c][a]=b},hasField:function(a,b){return _.isEmpty(b)?a in this.attachedFields:(this.attachedFields[b]||(this.attachedFields[b]={}),a in this.attachedFields[b])},getField:function(a,b){return _.isEmpty(b)?this.attachedFields[a]:this.attachedFields[b][a]},clearFields:function(){this.attachedFields={}},dispose:function(){},getDirty:function(){},getClean:function(){},isOpen:function(){return this.open}})},{"backend/Views/ModuleControls/ControlsView":23,"backend/Views/ModuleControls/controls/DeleteControl":24,"backend/Views/ModuleControls/controls/DuplicateControl":25,"backend/Views/ModuleControls/controls/SaveControl":26,"backend/Views/ModuleControls/controls/StatusControl":27,"backend/Views/ModuleUi/ModuleUiView":28,"backend/Views/ModuleUi/controls/DisabledControl":29,"backend/Views/ModuleUi/controls/FullscreenControl":30,"backend/Views/ModuleUi/controls/MoveControl":31,"backend/Views/ModuleUi/controls/ToggleControl":32,"common/Ajax":50,"common/Checks":52,"common/Config":53,"common/Payload":58,"common/UI":60,"shared/ModuleStatusBar/ModuleStatusBarView":150,"shared/ModuleStatusBar/status/DraftStatus":151,"shared/ModuleStatusBar/status/LoggedInStatus":152,"shared/ModuleStatusBar/status/OriginalNameStatus":153,"shared/ModuleStatusBar/status/SettingsStatus":161,"shared/ModuleStatusBar/status/TemplateEditorStatus":162,"shared/ModuleStatusBar/status/TemplateStatus":163}],34:[function(a,b,c){var d=a("common/Logger"),e=a("backend/Views/Renderer/FieldsRendererSections");b.exports=Backbone.View.extend({initialize:function(){this.open=!0,this.model.View=this,this.setupRenderer()},getDirty:function(){d.Debug.info("Panel data dirty")},getClean:function(){d.Debug.info("Panel data clean")},setupRenderer:function(){var a=this.$el.data();a&&a.kbFieldRenderer&&"fields-renderer-sections"===a.kbFieldRenderer&&new e({el:this.el})},isOpen:function(){return this.open}})},{"backend/Views/Renderer/FieldsRendererSections":35,"common/Logger":56}],35:[function(a,b,c){var d=a("backend/Views/Renderer/ToggleSection");b.exports=Backbone.View.extend({initialize:function(){this.quicknav=this.$("ul.kbf-sections-quicknav"),this.sections=this.setupSections()},setupSections:function(){var a=this,b=this.$("[data-kb-toggle-trigger]"),c=[];return _.each(b,function(b){var e=jQuery(b),f=e.data("kb-toggle-trigger"),g=this.$('[data-kb-toggle-container="'+f+'"]'),h=e.find("h2").text(),i=e.parent().attr("id");setTimeout(function(){e.is(":visible")&&a.quicknav.append('<li><a href="#'+i+'">'+h+"</a></li>")},120),c.push(new d({el:g,$toggle:jQuery(b),uid:f}))},this),c}})},{"backend/Views/Renderer/ToggleSection":36}],36:[function(a,b,c){var d=a("common/Utilities");b.exports=Backbone.View.extend({initialize:function(a){var b=this;this.$toggle=a.$toggle,this.uid=a.uid;var c=d.store.get(this.uid);window.store.enabled&&(_.isUndefined(c)&&d.store.set(this.uid,{open:!0}),this.bindHandlers(),_.defer(function(){b.initialState()}))},bindHandlers:function(){var a=this;this.$toggle.on("click",function(){a.toggle()})},toggle:function(){var a=d.store.get(this.uid);this.$el.slideToggle(250),a=!a.open,d.store.set(this.uid,{open:a}),this.$toggle.toggleClass("kb-toggle-open")},initialState:function(){var a=d.store.get(this.uid);return a&&!_.isUndefined(a.open)&&a.open===!1?(this.$el.slideUp(200),this.$toggle.removeClass("kb-toggle-open"),null):void this.$toggle.addClass("kb-toggle-open")}})},{"common/Utilities":61}],37:[function(a,b,c){a("templates/backend/area-item-placeholder.hbs"),a("templates/backend/area-add-module.hbs"),a("shared/ModuleBrowser/ModuleBrowserController"),a("backend/Views/AreaControls/AreaControlsView"),a("backend/Views/AreaControls/controls/StatusControl"),a("backend/Views/AreaControls/controls/DetachControl"),a("backend/Views/AreaControls/controls/MoveControl"),a("common/Checks");b.exports=Backbone.View.extend({initialize:function(){this.attachedModules={},this.$controlsContainer=this.$(".add-modules"),this.$modulesList=this.$("#"+this.model.get("id")),this.model.View=this,this.render()},render:function(){},attachModule:function(a){this.attachedModules[a.cid]=a,this.listenTo(a,"change:area",this.removeModule),this.trigger("module.attached",a)},removeModule:function(a){var b;b=a.cid,this.attachedModules[b]&&(delete this.attachedModules[b],this.stopListening(a,"change:area",this.removeModule)),this.trigger("module.detached",a)}})},{"backend/Views/AreaControls/AreaControlsView":8,"backend/Views/AreaControls/controls/DetachControl":9,"backend/Views/AreaControls/controls/MoveControl":10,"backend/Views/AreaControls/controls/StatusControl":11,"common/Checks":52,"shared/ModuleBrowser/ModuleBrowserController":142,"templates/backend/area-add-module.hbs":165,"templates/backend/area-item-placeholder.hbs":166}],38:[function(a,b,c){var d=a("common/Ajax"),e=a("common/Config"),f=a("./ViewsList"),g=a("./Controls"),h=a("./FieldsList"),i=a("templates/backend/template-editor/wrap.hbs");b.exports=Backbone.View.extend({className:"kb-codemirror-overlay",currentView:null,initialize:function(a){this.viewfile=a.viewfile,this.moduleView=a.moduleView,this.$wrap=jQuery(i()).appendTo(this.$el),this.$sidebar=this.$(".kb-tpled--sidebar"),this.$content=this.$(".kb-tpled--content"),this.moduleModel=a.module,this.views=this.prepareViews(this.moduleModel.get("views")),this.open()},events:{"click .kb-tpled--close":"close"},open:function(){this.$backdrop=jQuery('<div class="kb-fullscreen-backdrop"></div>').appendTo("body"),jQuery("#wpwrap").addClass("module-browser-open"),this.$el.appendTo("body"),this.trigger("open"),this.editor=CodeMirror(document.getElementById("codemirror"),{mode:"twig",theme:"dracula",lineNumbers:!0,lineWrapping:!0,tabMode:"indent",indentUnit:4}),this.render()},close:function(){this.$backdrop.remove(),jQuery("#wpwrap").removeClass("module-browser-open"),this.$el.detach(),this.trigger("close")},render:function(){this.List=new f({$container:this.$("[data-views]"),views:this.views,controller:this}).render(),this.Controls=new g({$container:this.$("[data-controls]"),controller:this}).render(),this.Fields=new h({$container:this.$("[data-fields]"),controller:this}),this.load(this.List.getActiveView())},load:function(a){var b=this;this.currentView&&this.currentView.deselect(),d.send({viewfile:a.model.toJSON(),action:"getTemplateString",module:this.moduleModel.toJSON(),_ajax_nonce:e.getNonce("read")},function(c){b.editor.setValue(c.data.string),b.currentView=a,b.currentView.select(),b.Fields.setFields(c.data.fields).render()},this)},getCurrentView:function(){return this.currentView},prepareViews:function(a){return _.map(a,function(a){return a.selected=a.filename===this.moduleModel.get("viewfile")?'selected="selected"':"",a.isActive=a.filename===this.moduleModel.get("viewfile"),a},this)}})},{"./Controls":39,"./FieldsList":41,"./ViewsList":43,"common/Ajax":50,"common/Config":53,"templates/backend/template-editor/wrap.hbs":188}],39:[function(a,b,c){var d=a("backend/Views/TemplateEditor/controls/UpdateControl"),e=a("backend/Views/TemplateEditor/controls/CreateControl"),f=a("backend/Views/TemplateEditor/controls/DuplicateControl"),g=a("backend/Views/TemplateEditor/controls/FeedbackControl"),h=a("backend/Views/TemplateEditor/controls/DeleteControl");b.exports=Backbone.View.extend({tagName:"ul",className:"kb-tpl-editor-controls",initialize:function(a){this.$container=a.$container,this.controller=a.controller},render:function(){return this.$container.empty().append(this.$el),this.createControls(),this},createControls:function(){this.$el.append(new d({controller:this.controller,controls:this}).render()),this.$el.append(new e({controller:this.controller,controls:this}).render()),this.$el.append(new f({controller:this.controller,controls:this}).render()),this.$el.append(new h({controller:this.controller,controls:this}).render()),this.$el.append(new g({controller:this.controller,controls:this}).render())}})},{"backend/Views/TemplateEditor/controls/CreateControl":44,"backend/Views/TemplateEditor/controls/DeleteControl":45,"backend/Views/TemplateEditor/controls/DuplicateControl":46,"backend/Views/TemplateEditor/controls/FeedbackControl":47,"backend/Views/TemplateEditor/controls/UpdateControl":48}],40:[function(a,b,c){var d=a("templates/backend/template-editor/field-item.hbs");b.exports=Backbone.View.extend({tagName:"li",initialize:function(a){this.controller=a.controller,this.$list=a.$list},render:function(){console.log(this.model.toJSON()),this.$el.append(d({data:this.model.toJSON()})),this.$list.append(this.$el)}})},{"templates/backend/template-editor/field-item.hbs":186}],41:[function(a,b,c){var d=a("backend/Views/TemplateEditor/FieldItem");b.exports=Backbone.View.extend({tagName:"ul",initialize:function(a){this.$container=a.$container,this.controller=a.controller},render:function(){return this.$container.empty().append(this.$el),this.$el.empty(),_.each(this.fields,function(a){a.render()}),this},setFields:function(a){return this.fields=this.createViews(a),this},createViews:function(a){return _.map(a,function(a){return new d({controller:this.controller,$list:this.$el,model:new Backbone.Model(a)})},this)}})},{"backend/Views/TemplateEditor/FieldItem":40}],42:[function(a,b,c){var d=a("templates/backend/template-editor/list-item.hbs");b.exports=Backbone.View.extend({tagName:"li",initialize:function(a){this.controller=a.controller,this.$list=a.$list},events:{click:"loadView"},render:function(){this.$el.append(d({data:this.model.toJSON()})),this.$list.append(this.$el)},loadView:function(){this.controller.load(this)},select:function(){this.$el.addClass("kb-active-template")},deselect:function(){this.$el.removeClass("kb-active-template")}})},{"templates/backend/template-editor/list-item.hbs":187}],43:[function(a,b,c){var d=a("backend/Views/TemplateEditor/ListItem");b.exports=Backbone.View.extend({tagName:"ul",initialize:function(a){this.$container=a.$container,this.controller=a.controller,this.views=this.createViews(a.views)},render:function(){return this.$container.empty().append(this.$el),_.each(this.views,function(a){a.render()}),this},updateViews:function(a){var b=this.controller.prepareViews(a);this.views=this.createViews(b),this.$el.empty(),this.render();var c=this.controller.moduleView.ModuleStatusBar.getView("templates");c.render(b)},getActiveView:function(){return _.find(this.views,function(a){return a.model.get("isActive")})},createViews:function(a){return _.map(a,function(a){return new d({controller:this.controller,$list:this.$el,model:new Backbone.Model(a)})},this)}})},{"backend/Views/TemplateEditor/ListItem":42}],44:[function(a,b,c){var d=a("common/Ajax"),e=a("common/Config"),f=a("common/Notice");b.exports=Backbone.View.extend({tagName:"li",initialize:function(a){this.controller=a.controller,this.controls=a.controls},events:{click:"ask"},render:function(){return this.$el.html('<span class="dashicons dashicons-welcome-add-page"></span> Create new template')},ask:function(){var a;f.prompt("Template Name","Please provide a unique template name",".twig",function(b,c){a=c,this.create(a)},function(a,b){},this)},create:function(a){this.controller.getCurrentView();d.send({action:"createModuleViewTemplate",_ajax_nonce:e.getNonce("update"),module:this.controller.moduleModel.toJSON(),tplstring:"",filename:a},this.success,this)},success:function(a){return a.success===!1?void f.notice(a.message,"error",8):(this.controller.List.updateViews(a.data.views),void this.controller.trigger("broadcast",a.message))}})},{"common/Ajax":50,"common/Config":53,"common/Notice":57}],45:[function(a,b,c){var d=a("common/Ajax"),e=a("common/Config"),f=a("common/Notice");b.exports=Backbone.View.extend({tagName:"li",initialize:function(a){this.controller=a.controller,this.controls=a.controls},events:{click:"ask"},render:function(){return this.$el.html('<span class="dashicons dashicons-trash"></span> Delete loaded template')},ask:function(){f.confirm("Template Name","Delete template?",function(a,b){this["delete"]()},function(a,b){},this)},"delete":function(){var a=this.controller.getCurrentView();d.send({action:"deleteModuleViewTemplate",_ajax_nonce:e.getNonce("update"),module:this.controller.moduleModel.toJSON(),view:a.model.toJSON()},this.success,this)},success:function(a){return a.success===!1?(f.notice(a.message,"error",8),void this.controller.trigger("broadcast",a.message)):(this.controller.List.updateViews(a.data.views),void this.controller.trigger("broadcast",a.message))}})},{"common/Ajax":50,"common/Config":53,"common/Notice":57}],46:[function(a,b,c){var d=a("common/Ajax"),e=a("common/Config"),f=a("common/Notice");b.exports=Backbone.View.extend({tagName:"li",initialize:function(a){this.controller=a.controller,this.controls=a.controls},events:{click:"ask"},render:function(){return this.$el.html('<span class="dashicons dashicons-admin-page"></span> Copy')},ask:function(){var a;f.prompt("Template Name","Please provide a unique template name",".twig",function(b,c){a=c,this.create(a)},function(a,b){},this)},create:function(a){this.controller.getCurrentView();d.send({action:"createModuleViewTemplate",_ajax_nonce:e.getNonce("update"),module:this.controller.moduleModel.toJSON(),filename:a,tplstring:this.controller.editor.getValue()},this.success,this)},success:function(a){return a.success===!1?void f.notice(a.message,"error",8):(this.controller.List.updateViews(a.data.views),void this.controller.trigger("broadcast",a.message))}})},{"common/Ajax":50,"common/Config":53,"common/Notice":57}],47:[function(a,b,c){a("common/Ajax"),a("common/Config"),a("common/Notice");b.exports=Backbone.View.extend({tagName:"li",className:"kb-tpled--notice",initialize:function(a){this.controller=a.controller,this.controls=a.controls,this.listenTo(this.controller,"broadcast",this.setMessage)},events:{click:"update"},render:function(){return this.$el.html('<span class="dashicons dashicons-warning"></span><div class="" data-message></div>')},setMessage:function(a){var b=this.$("[data-message]");b.hide().html(a).fadeIn(1500),setTimeout(function(){b.fadeOut(2e3)},5e3)}})},{"common/Ajax":50,"common/Config":53,"common/Notice":57}],48:[function(a,b,c){var d=a("common/Ajax"),e=a("common/Config"),f=a("common/Notice");b.exports=Backbone.View.extend({tagName:"li",initialize:function(a){this.controller=a.controller,this.controls=a.controls},events:{click:"update"},render:function(){return this.$el.html('<span class="dashicons dashicons-update"></span> Update')},update:function(){var a=this.controller.getCurrentView();d.send({action:"updateModuleViewTemplate",_ajax_nonce:e.getNonce("update"),view:a.model.toJSON(),tplstring:this.controller.editor.getValue(),module:this.controller.moduleModel.toJSON()},this.success,this)},success:function(a){a.success===!1&&(f.notice(a.message,"error",8),this.controller.trigger("broadcast",a.message)),this.controller.trigger("broadcast",a.message)}})},{"common/Ajax":50,"common/Config":53,"common/Notice":57}],49:[function(a,b,c){b.exports=Backbone.View.extend({el:"#kb-contexts-tabs",initialize:function(){var a=this,b=this.$el.tabs({}),c=jQuery("ul:first li",b).droppable({accept:".kb-module-ui__sortable--connect li",hoverClass:"ui-state-hover",tolerance:"pointer",over:function(b,d){var e=jQuery(this);a.$el.tabs("option","active",c.index(e)),a.$(".kb-module-ui__sortable").sortable("refresh")}})}})},{}],50:[function(a,b,c){var d=a("common/Notice");b.exports={send:function(a,b,c,e){var f,g=e||{};f=a.postId?a.postId:KB.Environment&&KB.Environment.postId?KB.Environment.postId:!1;var h=_.extend({supplemental:a.supplemental||{},nonce:jQuery("#_kontentblocks_ajax_nonce").val(),post_id:f,postId:f,kbajax:!0},a);return jQuery("#publish").attr("disabled","disabled"),jQuery.ajax({url:ajaxurl,data:h,type:"POST",dataType:"json",success:function(a){a&&(c&&b?b.call(c,a,g):b&&b(a,g))},error:function(){d.notice("<p>Generic Ajax Error</p>","error")},complete:function(){jQuery("#publish").removeAttr("disabled")}})}}},{"common/Notice":57}],51:[function(a,b,c){var d=a("common/Ajax"),e=a("common/Config");b.exports=Backbone.View.extend({initialize:function(){var a=this;jQuery(document).ajaxSend(function(b,c,d){var e=d.data;-1!==e.indexOf("wp_autosave")&&c.then(function(b){b&&b.wp_autosave&&b.wp_autosave.success&&a.handleAutosave()})})},handleAutosave:function(){var a=jQuery("#post");if(0===a.length)return!1;var b=a.serializeJSON();d.send({action:"autosave",data:b,_ajax_nonce:e.getNonce("update")},this.success,this)},success:function(a){console.log(a)}})},{"common/Ajax":50,"common/Config":53}],52:[function(a,b,c){var d=a("common/Config");b.exports={blockLimit:function(a){var b=a.get("limit"),c=jQuery("#"+a.get("id")+" li.kb-module").length;return!(0!==b&&c===b)},userCan:function(a){var b=jQuery.inArray(a,d.get("caps"));return-1!==b}}},{"common/Config":53}],53:[function(a,b,c){var d=function(a){var b=KB.appData.config||{};return{get:function(a){return a?b[a]?b[a]:null:b},getNonce:function(a){var c=["update","create","delete","read"];return-1!==_.indexOf(c,a)?b.nonces[a]:(console.error("Invalid nonce requested in kb.cm.Config.js"),null)},isAdmin:function(){return!b.frontend},inDevMode:function(){return b.env.dev},getRootURL:function(){return b.env.rootUrl},getFieldJsUrl:function(){return b.env.fieldJsUrl},getHash:function(){return b.env.hash},getLayoutMode:function(){return b.layoutMode||"default-boxes"}}}(jQuery);b.exports=d},{}],54:[function(a,b,c){var d=a("common/Utilities");b.exports={getString:function(a){return a&&KB&&KB.i18n?d.getIndex(KB.i18n,a):null}}},{"common/Utilities":61}],55:[function(a,b,c){b.exports={fields:[],strings:[],getFields:function(){this.fields=[],this.strings=[];var a=jQuery("[data-kbfuid]");_.each(a,function(a){var b=jQuery(a).data("kbfuid"),c=KB.FieldControls.get(b);c&&this.fields.push(c)},this)},getStrings:function(){this.getFields(),_.each(this.fields,function(a){a.FieldControlView&&this.strings.push(a.FieldControlView.toString())},this)},concatStrings:function(){this.getStrings();var a="";return _.each(this.strings,function(b){a=a+b+"\n"}),a}}},{}],56:[function(a,b,c){var d=a("common/Config");Function.prototype.bind&&window.console&&"object"==typeof console.log&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(a){console[a]=this.bind(console[a],console)},Function.prototype.call),Logger.useDefaults();var e=Logger.get("_K"),f=Logger.get("_KS");e.setLevel(e.INFO),f.setLevel(f.INFO),d.inDevMode()||e.setLevel(Logger.OFF),Logger.setHandler(function(a,b){if(KB.Menubar&&2===b.level.value&&"_KS"===b.name)a[0]&&KB.Menubar.StatusBar.setMsg(a[0]);else{var c=window.console,d=c.log;b.name&&(a[0]="["+b.name+"] "+a[0]),b.level===Logger.WARN&&c.warn?d=c.warn:b.level===Logger.ERROR&&c.error?d=c.error:b.level===Logger.INFO&&c.info&&(d=c.info),d.apply(c,a)}}),b.exports={Debug:e,User:f}},{"common/Config":53}],57:[function(a,b,c){"use strict";b.exports={notice:function(a,b,c){var d=c||3;window.alertify.notify(a,b,d)},confirm:function(a,b,c,d,e){var f=a||"Title";window.alertify.confirm(f,b,function(){c.call(e)},function(){d.call(e)})},prompt:function(a,b,c,d,e,f){var g=a||"Title";window.alertify.prompt(g,b,c,function(a,b){d.call(f,a,b)},function(a,b){e.call(f,a,b)})}}},{}],58:[function(a,b,c){b.exports={getFieldData:function(a,b,c,d){var e;return this._typeExists(a)?(e=KB.payload.fieldData[a],e[b]?_.isEmpty(d)?e[b][c]?e[b][c]:[]:e[b][d]&&e[b][d][c]?e[b][d][c]:[]:[]):[]},_typeExists:function(a){return!_.isUndefined(KB.payload.fieldData[a])},getFieldArgs:function(a,b){return KB.payload.Fields&&KB.payload.Fields[a]?b&&KB.payload.Fields[a][b]?KB.payload.Fields[a][b]:KB.payload.Fields[a]:null},parseAdditionalJSON:function(a){var b;return b={Fields:[]},a&&a.Areas&&_.each(a.Areas,function(a){KB.ObjectProxy.add(KB.Areas.add(a))}),a&&a.Fields&&(b.Fields=KB.FieldControls.add(_.toArray(a.Fields))),b},getPayload:function(a){return KB&&KB.payload&&KB.payload[a]?KB.payload[a]:{}}}},{}],59:[function(a,b,c){var d=a("common/Ajax"),e=a("common/Logger"),f=a("common/Config");b.exports={removeEditors:function(a){a||(a=jQuery("body")),jQuery(".wp-editor-area",a).each(function(){if("wp-content-wrap"===jQuery(this).attr("id")||"ghosteditor"===jQuery(this).attr("id")||"replycontent"===jQuery(this).attr("id"));else{var a=this.id;tinyMCE.execCommand("mceRemoveEditor",!0,a)}})},restoreEditors:function(a){a||(a=jQuery("body")),jQuery(".wp-editor-wrap",a).each(function(){var a=jQuery(this).find("textarea").attr("id"),b=jQuery(this).find("textarea");"ghosteditor"!==a&&"replycontent"!==a&&(b.val(switchEditors.wpautop(b.val())),tinyMCE.execCommand("mceAddEditor",!0,a),switchEditors.go(a,"tmce"))})},addEditor:function(a,b,c,d){if(!a)return e.Debug.error("No scope element ($el) provided"),!1;if(_.isUndefined(tinyMCEPreInit))return!1;var f=c||350,g=_.isUndefined(d)?!0:!1;jQuery(".wp-editor-area",a).each(function(){var a=this.id,b=window.tinyMCE.get(a);b&&tinyMCE.execCommand("mceRemoveEditor",null,a);var c=tinyMCEPreInit&&tinyMCEPreInit.mceInit&&tinyMCEPreInit.mceInit.ghosteditor?"ghosteditor":"content",d=_.clone(tinyMCEPreInit.mceInit[c]);d.elements=a,d.selector="#"+a,d.id=a,d.kblive=g,d.height=f,d.remove_linebreaks=!1,d.setup=function(a){a.on("init",function(){KB.Events.trigger("kb.tinymce.new-editor",a)}),a.on("change",function(){})},tinymce.init(d),tinyMCEPreInit.mceInit[a]||(tinyMCEPreInit.mceInit[a]=d);var e={buttons:"",disabled_buttons:"",id:a};window.quicktags(e)}),setTimeout(function(){jQuery(".wp-editor-wrap",a).removeClass("html-active").addClass("tmce-active"),window.QTags._buttonsInit()},1500)},remoteGetEditor:function(a,b,c,g,h,i,j){var k=h||KB.appData.config.post.ID,c=c||a.attr("id");if(!i)var i=!1;var l=g||"";return d.send({action:"getRemoteEditor",editorId:c+"_ed",editorName:b,post_id:k,postId:k,editorContent:l,_ajax_nonce:f.getNonce("read"),args:{media_buttons:i}},function(b){b.success?(a.empty().append(b.data.html),this.addEditor(a,null,250,j)):e.Debug.info("Editor markup could not be retrieved from the server")},this)}}},{"common/Ajax":50,"common/Config":53,"common/Logger":56}],60:[function(a,b,c){var d=jQuery,e=a("common/Config"),f=a("common/Ajax"),g=a("common/TinyMCE"),h=a("common/Notice"),i=a("backend/Views/ContextUi/ContextRowGrid"),j={isSorting:!1,init:function(){var a=this,b=d("body");this.initTabs(),this.initSortable(),this.initSortableAreas(),this.initToggleBoxes(),this.flexContext(),this.flushLocalStorage(),this.initTipsy(),b.on("mousedown",".kb-field",function(a){activeField=this}),b.on("mousedown",".kb-module",function(a){activeBlock=this.id}),b.on("mouseenter","[data-kbfield]",function(){KB.currentFieldId=this.id}),b.on("mouseenter",".kb-area__list-item li",function(){KB.currentModuleId=this.id}),jQuery(document).ajaxComplete(function(b,c,d){a.metaBoxReorder(b,c,d,"restore")}),jQuery(document).ajaxSend(function(b,c,d){a.metaBoxReorder(b,c,d,"remove")})},flexContext:function(){jQuery(".kb-context-row").each(function(a,b){var c=jQuery(b);c.data("KB.ContextRow",new i({el:b}))})},repaint:function(a){this.initTabs(a),this.initToggleBoxes(),g.addEditor(a)},initTabs:function(a){var b=a||jQuery("body"),c=d(".kb-field--tabs",b);c.tabs({activate:function(a,b){_.defer(function(){d(".kb-nano").nanoScroller({contentClass:"kb-nano-content"}),KB.Events.trigger("modal.recalibrate")})}}),c.each(function(){var a=d(".ui-tabs-nav li",d(this)).length;1===a&&d(this).find(".ui-tabs-nav").css("display","none")});d("[data-kbfsubtabs]",b).tabs({activate:function(){KB.Events.trigger("modal.recalibrate")}})},initToggleBoxes:function(){d(".kb-togglebox-header").on("click",function(){d(this).next("div").slideToggle()}),d(".kb_fieldtoggles div:first-child").trigger("click")},initSortable:function(a){function b(){var a=i.get("limit"),b=c(i.get("id"));return-1===_.indexOf(i.get("assignedModules"),f.get("settings")["class"])?!1:0!==a&&b-1>=a?(h.notice("Not allowed here","error"),!1):!0}function c(a){return d("#"+a+" li.kb-module").length}var f,i,j=a||jQuery("body"),k=this,l="parent";"default-tabs"===e.getLayoutMode()&&(l="#kb-contexts-tabs"),d(".kb-module-ui__sortable",j).sortable({placeholder:"ui-state-highlight",ghost:!0,connectWith:".kb-module-ui__sortable--connect",helper:"clone",handle:".kb-move",cancel:"li.disabled, li.cantsort",tolerance:"pointer",delay:150,revert:350,appendTo:l,start:function(a,b){k.isSorting=!0,d("body").addClass("kb-is-sorting"),f=KB.Modules.get(b.item.attr("id")),i=KB.currentArea,d(KB).trigger("kb:sortable::start"),d(".kb-open").toggleClass("kb-open"),d(".kb-module__body").hide(),g.removeEditors(),d(document).trigger("kb_sortable_start",[a,b])},stop:function(a,b){k.isSorting=!1,d("body").removeClass("kb-is-sorting"),g.restoreEditors(),d(document).trigger("kb_sortable_stop",[a,b]),f.get("open")&&f.View.toggleBody(155)},over:function(a,b){i=KB.Areas.get(this.id)},receive:function(a,c){b()||(h.notice("Module not allowed in this area","error"),d(c.sender).sortable("cancel"))},update:function(a,c){if(!b())return!1;if(this!==c.item.parent("ul")[0]||c.sender){if(c.sender){if(c.item.parent("ul")[0].id===c.sender.attr("id"))return!1;d.when(k.changeArea(i,f)).then(function(a){return a.success?void k.resort(c.sender):!1}).done(function(){k.triggerAreaChange(i,f),d(KB).trigger("kb:sortable::update"),f.View.clearFields(),h.notice("Area change and order were updated successfully","success")})}}else d.when(k.resort(c.sender)).done(function(a){return a.success?(d(KB).trigger("kb:sortable::update"),void h.notice(a.message,"success")):(h.notice(a.message,"error"),!1)})}})},flushLocalStorage:function(){var a=e.get("env").hash;store.get("kbhash")!==a&&(store.clear(),store.set("kbhash",a))},resort:function(a){var b={};return d(".kb-module-ui__sortable").each(function(){b[this.id]=d("#"+this.id).sortable("serialize",{attribute:"rel"})}),f.send({action:"resortModules",data:b,_ajax_nonce:e.getNonce("update")})},changeArea:function(a,b){return f.send({action:"changeArea",_ajax_nonce:e.getNonce("update"),mid:b.get("mid"),area_id:a.get("id"),context:a.get("context")})},triggerAreaChange:function(a,b){b.unsubscribeFromArea(),b.setArea(a)},toggleModule:function(){d("body").on("click",".kb-toggle",function(){KB.isLocked()&&!KB.userCan("lock_kontentblocks")?h.notice(kontentblocks.l18n.gen_no_permission,"alert"):(d(this).parent().nextAll(".kb-module__body:first").slideToggle("fast",function(){d("body").trigger("module::opened")}),d("#"+activeBlock).toggleClass("kb-open",1e3))})},initSortableAreas:function(){jQuery(".kb-context__inner").sortable({items:".kb-area__wrap",handle:".kb-area-move-handle",start:function(a,b){g.removeEditors()},stop:function(a,b){var c=jQuery("#post").serializeJSON(),d=c.kbcontext;d&&f.send({action:"updateContextAreaOrder",_ajax_nonce:e.getNonce("update"),data:d},function(a){a.success?h.notice(a.message,"success"):h.notice(a.message,"error"),g.restoreEditors()},this)}})},initTipsy:function(){jQuery("body").on("mouseenter","[data-kbtooltip]",function(a){
jQuery(this).qtip({content:{attr:"data-kbtooltip"},style:"qtip-dark qtip-shadow",show:{event:a.type,effect:!0,delay:180,solo:!0,ready:!0}})})},metaBoxReorder:function(a,b,c,e){if(c.data){var f=c.data;if(f&&f.split){var h=f.split("&"),i={};d.each(h,function(a,b){var c=b.split("=");i[c[0]]=c[1]}),"meta-box-order"===i.action&&("restore"===e?g.restoreEditors():"remove"===e&&g.removeEditors())}}}};b.exports=j},{"backend/Views/ContextUi/ContextRowGrid":17,"common/Ajax":50,"common/Config":53,"common/Notice":57,"common/TinyMCE":59}],61:[function(a,b,c){var d=function(a){return{stex:{set:function(a,b,c){store.set(a,{val:b,exp:c,time:(new Date).getTime()})},get:function(a){var b=store.get(a);return b?(new Date).getTime()-b.time>b.exp?null:b.val:null}},store:{set:function(a,b){store.set(a,b)},get:function(a){return store.get(a)}},setIndex:function(a,b,c){return _.isObject(a)||(a={}),"string"==typeof b?this.setIndex(a,b.split("."),c):1==b.length&&void 0!==c?a[b[0]]=c:0==b.length?a:this.setIndex(a[b[0]],b.slice(1),c)},getIndex:function(a,b){b=b.replace(/\[(\w+)\]/g,".$1"),b=b.replace(/^\./,"");for(var c=b.split(".");c.length;){var d=c.shift();if(!(_.isObject(a)&&d in a))return{};a=a[d]}return a},hashString:function(a){var b,c,d,e=0;if(0==a)return e;for(b=0,d=a.length;d>b;b++)c=a.charCodeAt(b),e=(e<<5)-e+c,e|=0;return Math.abs(e)},sleep:function(a){for(var b=(new Date).getTime(),c=0;1e7>c&&!((new Date).getTime()-b>a);c++);}}}(jQuery);b.exports=d},{}],62:[function(a,b,c){b.exports={cntrlIsPressed:!1,init:function(){var a=this;jQuery(document).keydown(function(b){"17"==b.which&&(a.cntrlIsPressed=!0)}),jQuery(document).keyup(function(){a.cntrlIsPressed=!1})},ctrlPressed:function(){return this.cntrlIsPressed}}},{}],63:[function(a,b,c){b.exports=Backbone.View.extend({rerender:function(){this.render()},gone:function(){this.trigger("field.view.gone",this)},toString:function(){return""}})},{}],64:[function(a,b,c){var d=a("common/Checks"),e=a("common/Utilities"),f=a("common/Payload"),g=a("common/Config"),h=a("common/Logger");b.exports=Backbone.Model.extend({initialize:function(){this.cleanUp();var a=this.get("fieldId");a&&(this.ModuleModel=KB.ObjectProxy.get(a))&&this.getType()&&(this.set("ModuleModel",this.ModuleModel),this.setData(),this.bindHandlers(),this.setupType(),this.ModuleModel.attachField(this))},cleanUp:function(){var a=this.get("linkedFields")||{};a.hasOwnProperty(this.get("uid"))&&delete a[this.get("uid")]},bindHandlers:function(){this.listenTo(this,"field.model.settings",this.updateLinkedFields),this.listenTo(this.ModuleModel,"remove",this.remove),this.listenTo(this.ModuleModel,"change:entityData",this.setData),this.listenTo(this.ModuleModel,"module.model.updated",this.getClean),this.listenTo(this,"change:value",this.upstreamData),this.listenTo(this.ModuleModel,"modal.serialize.before",this.unbind),this.listenTo(this.ModuleModel,"modal.serialize",this.rebind),this.listenTo(this.ModuleModel,"change:area",this.unbind),this.listenTo(this.ModuleModel,"change:viewfile",this.unbind),this.listenTo(this.ModuleModel,"after.change.area",this.rebind)},setupType:function(){var a;(a=this.getType())&&(this.FieldControlView=new a({el:this.getElement(),model:this}))},updateLinkedFields:function(a){a.linkedFields&&(this.set("linkedFields",a.linkedFields),this.cleanUp())},getElement:function(){return jQuery('*[data-kbfuid="'+this.get("uid")+'"]')[0]},getType:function(){var a=this.get("type");if(!d.userCan("edit_kontentblocks"))return!1;var b=KB.Fields.get(a);return b&&b.prototype.hasOwnProperty("initialize")?b:!1},getClean:function(){this.trigger("field.model.clean",this)},setData:function(a){var b,c,d,g,h,i={};b=a||this.get("ModuleModel"),c=f.getPayload("fieldData"),c[this.get("type")]&&(d=c[this.get("type")],d[this.get("fieldId")]&&(g=d[this.get("fieldId")],i=e.getIndex(g,this.get("kpath")))),h=_.clone(e.getIndex(b.get("entityData"),this.get("kpath"))),this.set("value",_.extend(h,i))},upstreamData:function(){var a;if(a=this.get("ModuleModel")){var b=_.clone(this.get("ModuleModel").get("entityData"));e.setIndex(b,this.get("kpath"),this.get("value")),a.set("entityData",b,{silent:!1})}},externalUpdate:function(a){this.FieldControlView.synchronize(a)},remove:function(){this.stopListening(),KB.FieldControls.remove(this)},rebind:function(){var a=this;_.defer(function(){_.isUndefined(a.getElement())?_.defer(_.bind(a.FieldControlView.gone,a.FieldControlView)):a.FieldControlView&&(a.FieldControlView.setElement(a.getElement()),_.defer(_.bind(a.FieldControlView.rerender,a.FieldControlView)))},!0)},unbind:function(){this.FieldControlView&&this.FieldControlView.derender&&this.FieldControlView.derender()},sync:function(a){var b=this;KB.Events.trigger("field.before.sync",this.model);var c=b.toJSON(),d=c.ModuleModel.type,e=c.ModuleModel.toJSON();return delete c.ModuleModel,delete c.linkedFields,jQuery.ajax({url:ajaxurl,data:{action:"updateFieldModel",data:b.get("value"),field:c,module:e,type:d,_ajax_nonce:g.getNonce("update")},context:a?a:b,type:"POST",dataType:"json",success:function(a){b.trigger("field.model.updated",b)},error:function(){h.Debug.error("serialize | FrontendModal | Ajax error")}})},getEntityModel:function(){return this.ModuleModel?this.ModuleModel:!1}})},{"common/Checks":52,"common/Config":53,"common/Logger":56,"common/Payload":58,"common/Utilities":61}],65:[function(a,b,c){var d=a("./FieldControlModel");b.exports=d.extend({bindHandlers:function(){this.listenToOnce(this.ModuleModel,"remove",this.remove),this.listenTo(this.ModuleModel,"change:entityData",this.setData),this.listenTo(KB.Events,"modal.reload",this.rebind),this.listenTo(KB.Events,"modal.close",this.remove)},rebind:function(){this.FieldControlView&&(this.FieldControlView.setElement(this.getElement()),this.FieldControlView.rerender())},getElement:function(){return jQuery('*[data-kbfuid="'+this.get("uid")+'"]')}})},{"./FieldControlModel":64}],66:[function(a,b,c){var d=a("./FieldControlModel");b.exports=Backbone.Collection.extend({initialize:function(){this._byModule={},this._byArea={},this._linkedFields=[],this.listenTo(this,"add",this.addToModules),this.listenTo(this,"add",this.bindLinkedFields)},model:d,addToModules:function(a){if(a.ModuleModel){var b=a.ModuleModel.id;if(this._byModule[b]||(this._byModule[b]={}),a.ModuleModel.Area){var c=a.ModuleModel.Area.id;this._byArea[c]||(this._byArea[c]={}),this._byArea[c][a.id]=a}this._byModule[b][a.id]=a}},getFieldsforModule:function(a){return this._byModule[a]?this._byModule[a]:{}},bindLinkedFields:function(a){var b=a.get("linkedFields");_.each(b,function(c,d){if(_.isNull(c)){var e=this.get(d);e&&(b[d]=e,a.listenTo(e,"external.change",a.externalUpdate),this.bindLinkedFields(e))}},this)},updateModels:function(a){a&&_.each(a,function(a){var b=this.get(a.uid);b?b.trigger("field.model.settings",a):this.add(a)},this)}})},{"./FieldControlModel":64}],67:[function(a,b,c){var d={};a("common/Logger");_.extend(d,Backbone.Events),_.extend(d,{fields:{},registerObject:function(a,b){_.extend(b,Backbone.Events),this.fields[a]=b},get:function(a){return this.fields[a]?this.fields[a]:null}}),b.exports=d},{"common/Logger":56}],68:[function(a,b,c){b.exports=Backbone.View.extend({type:"",render:function(){this.setupElements(),this.bindHandlers(),this.initialSetup()},initialSetup:function(){var a=this.setupData();_.isArray(a)?(_.each(a,function(a,b){var c=this.model.get("limit");c&&c>=b+1?this.createElement(a):this.createElement(a)},this),this.handleLimit()):this.createElement()},setupData:function(){return this.model.get("value")},createElement:function(a){var b=a||"",c=this,d=_.extend(this.model.toJSON(),{value:b,uniqueId:_.uniqueId("mdate"),arrayKey:this.model.get("arrayKey"),fieldkey:this.model.get("fieldkey"),primeKey:this.model.get("fieldkey"),fieldId:this.model.get("fieldId"),type:this.type}),e=KB.FieldsAPI.getRefByType(this.type,d);this.$list.append(e.render()),_.defer(function(){e.postRender&&e.postRender.call(e)}),e.$el.on("click",'[data-kbfaction="delete"]',function(){e.$el.off(),e.remove(),c.handleLimit(),c.handleEmptyList()}),this.handleLimit()},setupElements:function(){this.$list=this.$('[data-kfel="list"]'),this.$button=this.$('[data-kfui="add-entry"]'),this.$list.sortable()},bindHandlers:function(){var a=this;this.$button.on("click",function(){a.createElement()})},handleLimit:function(){var a=this.model.get("limit");if(a){var b=jQuery(".kb-field--"+this.type+"-item",this.$list).length;b>=a?this.$button.hide():this.$button.show()}},handleEmptyList:function(){var a=jQuery(".kb-field--"+this.type+"-item",this.$list).length;0==a&&this.createElement("")}})},{}],69:[function(a,b,c){var d=a("./Fields");window.KB.Fields=d,d.registerObject("color",a("./controls/color")),d.registerObject("datetime",a("./controls/datetime")),d.registerObject("file",a("./controls/file")),d.registerObject("flexfields",a("./controls/flexfields")),d.registerObject("gallery",a("./controls/gallery")),d.registerObject("gallery2",a("./controls/gallery2")),d.registerObject("image",a("./controls/image")),d.registerObject("cropimage",a("./controls/cropimage")),d.registerObject("link",a("./controls/link")),d.registerObject("textarea",a("./controls/textarea")),d.registerObject("code",a("./controls/code")),d.registerObject("text",a("./controls/text")),d.registerObject("checkbox",a("./controls/checkbox")),d.registerObject("text-multiple",a("./controls/text-multiple")),d.registerObject("multitext",a("./controls/text-multiple")),d.registerObject("date-multiple",a("./controls/date-multiple")),d.registerObject("tagsinput",a("./controls/tagsinput")),d.registerObject("multiselect",a("./controls/multiselect")),d.registerObject("select",a("./controls/select")),d.registerObject("editor",a("./controls/editor")),d.registerObject("otimes",a("./controls/otimes")),d.registerObject("oembed",a("./controls/oembed")),d.registerObject("subarea",a("./controls/subarea")),d.registerObject("medium",a("./controls/medium")),d.registerObject("imageselect",a("./controls/imageselect")),d.registerObject("osm",a("./controls/osm"))},{"./Fields":67,"./controls/checkbox":70,"./controls/code":71,"./controls/color":72,"./controls/cropimage":73,"./controls/date-multiple":74,"./controls/datetime":76,"./controls/editor":77,"./controls/file":78,"./controls/flexfields":79,"./controls/gallery":85,"./controls/gallery2":88,"./controls/image":91,"./controls/imageselect":92,"./controls/link":93,"./controls/medium":94,"./controls/multiselect":95,"./controls/oembed":96,"./controls/osm":97,"./controls/otimes":98,"./controls/select":99,"./controls/subarea":100,"./controls/tagsinput":107,"./controls/text":110,"./controls/text-multiple":108,"./controls/textarea":111}],70:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){this.render()},render:function(){var a=this;this.$input=this.$(".kb-field--checkbox input"),this.$input.on("change",function(){a.update(a.$input.prop("checked"))})},derender:function(){this.$input.off()},update:function(a){this.model.set("value",a)},toString:function(){return this.$input.val()}})},{"../FieldControlBaseView":63}],71:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){this.defaults={mode:"htmlmixed",theme:"dracula",lineNumbers:!0,lineWrapping:!0,tabMode:"indent",indentUnit:4,autoCloseBrackets:!0,autoCloseTags:!0},this.settings=this.model.get("settings")||{},this.render()},render:function(){var a=this;this.$textarea=this.$("textarea"),this.editor=this.getEditor(),this.editor.on("change",function(b){b.save(),a.update(b.getTextArea().value)})},derender:function(){this.editor&&(this.editor.save(),this.editor.toTextArea()),this.editor=null,delete this.editor},getEditor:function(){if(this.editor)return this.editor;var a=_.extend(this.defaults,this.settings);return this.editor=CodeMirror.fromTextArea(this.$textarea.get(0),a),this.editor},update:function(a){this.model.set("value",a)},toString:function(){if(this.editor){var a=this.editor.getTextArea().value;return a}return this.$textarea.val()}})},{"../FieldControlBaseView":63}],72:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){this.render()},events:{"mouseup .kb-field--color":"recalibrate"},render:function(){this.$(".kb-color-picker").wpColorPicker({}),jQuery("body").on("click.wpcolorpicker",this.update)},derender:function(){jQuery("body").off("click.wpcolorpicker",this.update)},update:function(){},recalibrate:function(){_.delay(function(){KB.Events.trigger("modal.recalibrate")},150)}})},{"../FieldControlBaseView":63}],73:[function(a,b,c){var d=a("../FieldControlBaseView"),e=a("common/Utilities"),f=a("common/Config");b.exports=d.extend({initialize:function(){this.render()},events:{"click .kb-js-add-image":"openFrame","click .kb-js-reset-image":"resetImage"},render:function(){this.$reset=this.$(".kb-js-reset-image"),this.$container=this.$(".kb-field-image-container"),this.$saveId=this.$(".kb-js-image-id"),this.$description=this.$(".kb-js-image-description"),this.$title=this.$(".kb-js-image-title")},editImage:function(){this.openFrame(!0)},derender:function(){this.frame&&this.frame.dispose()},openFrame:function(a){var b,c,d=this;this.frame&&this.frame.dispose();var e={};""!==this.model.get("value").id&&(e.post__in=[this.model.get("value").id]),wp.media.query(e).more().done(function(){var a=this.first();d.attachment=a,a?(a.set("attachment_id",a.get("id")),b=d.attachment.toJSON()):b={},c={cropOptions:{maxWidth:d.model.get("width")||300,maxHeight:d.model.get("height")||300},croppedCallback:d.handleAttachment,parentController:d,library:{type:"image",cache:!1}},d.model.get("uploadedTo")===!0&&(c.library.uploadedTo=KB.Environment.postId||0),d.frame=new wp.media.view.KBCropperFrame(c).on("update",function(a){d.update(a)}).on("close",function(a){d.frame.image&&d.frame.image.attachment&&(d.$description.val(d.frame.image.attachment.get("caption")),d.$title.val(d.frame.image.attachment.get("title")))}).on("ready",function(){d.ready()}).on("replace",function(){}).on("select",function(a){}).on("cropped",function(a){}).open()})},ready:function(){jQuery(".media-modal").addClass("smaller kb-image-frame")},replace:function(a){this.attachment=a,this.handleAttachment(a)},update:function(a){this.attachment.set(a),this.attachment.sync("update",this.attachment)},prepareArgs:function(){var a=this;return{width:a.model.get("previewWidth")||null,height:a.model.get("previewHeight")||null,crop:!0,upscale:a.model.get("upscale")||!1}},handleAttachment:function(a){var b=this,c=a.get("id"),d=this.prepareValue(a),f=_.clone(this.model.get("ModuleModel").get("entityData")),g=this.model.get("kpath");e.setIndex(f,g,d),this.model.get("ModuleModel").set("entityData",f);var h=this.model.get("previewWidth"),i=this.model.get("previewHeight");if(h&&i){var j=b.prepareArgs();b.retrieveImage(j,c)}else{var k=a.get("sizes").full.url;b.$container.html('<img src="'+k+' " >')}this.$saveId.val(a.get("id")),this.$description.val(a.get("caption")),this.$title.val(a.get("title")),this.model.get("ModuleModel").trigger("data.updated",{silent:!0})},retrieveImage:function(a,b){var c=this;jQuery.ajax({url:ajaxurl,data:{action:"fieldGetImage",args:a,id:b,_ajax_nonce:f.getNonce("read")},type:"POST",dataType:"json",success:function(a){c.$container.html('<img src="'+a.data.src+'" >')},error:function(){}})},prepareValue:function(a){var b={id:a.get("id"),title:a.get("title"),caption:a.get("caption"),alt:a.get("alt")},c=this.model.get("value");return _.defaults(c,b)},resetImage:function(){this.$container.html(""),this.$saveId.val(""),this.model.set("value",{id:null,caption:"",title:""}),this.$description.val(""),this.$title.val("")},toString:function(){if(this.attachment){var a=this.attachment.get("sizes").thumbnail?this.attachment.get("sizes").thumbnail:this.attachment.get("sizes").full;return"<img src='"+a.url+"'>"}return""}})},{"../FieldControlBaseView":63,"common/Config":53,"common/Utilities":61}],74:[function(a,b,c){var d=a("../FieldControlBaseView"),e=a("fields/controls/date-multiple/DateMultipleController");b.exports=d.extend({initialize:function(){this.createController(),this.render()},render:function(){var a=this;this.$stage=this.$('[data-kftype="date-multiple"]'),this.DateMultipleController.setElement(this.$stage.get(0)),_.defer(function(){a.DateMultipleController.render()})},derender:function(){this.FlexFieldsController.derender()},rerender:function(){this.render()},createController:function(){return this.DateMultipleController?void 0:this.DateMultipleController=new e({el:this.$('[data-kftype="date-multiple"]'),model:this.model,parentView:this})}})},{"../FieldControlBaseView":63,"fields/controls/date-multiple/DateMultipleController":75}],75:[function(a,b,c){var d=a("fields/MultipleControllerBase");b.exports=d.extend({type:"date-multiple",setupData:function(){var a=this.model.get("value");return a.sort(function(a,b){return a.unix<b.unix?-1:1}),a}})},{"fields/MultipleControllerBase":68}],76:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){var a=this;this.defaults={format:"d.m.Y H:i",inline:!1,mask:!0,lang:"de",allowBlank:!0,onChangeDateTime:function(b,c){a.$unixIn.val(b.dateFormat("unixtime")),a.$sqlIn.val(b.dateFormat("Y-m-d H:i:s"))}},this.settings=this.model.get("settings")||{},this.render()},render:function(){this.$unixIn=this.$(".kb-datetimepicker--js-unix"),this.$sqlIn=this.$(".kb-datetimepicker--js-sql"),this.$(".kb-datetimepicker").datetimepicker(_.extend(this.defaults,this.settings))},derender:function(){this.$(".kb-datetimepicker").datetimepicker("destroy")}})},{"../FieldControlBaseView":63}],77:[function(a,b,c){var d=a("../FieldControlBaseView");a("common/TinyMCE");b.exports=d.extend({initialize:function(){this.render()},render:function(){var a=this,b=this.model.toJSON();this.$textarea=this.$("textarea"),tinymce.on("AddEditor",function(c){var d=c.editor;if(d&&d.id===a.$textarea.attr("id")&&!a.editor&&(a.editor=d,d.on("change",function(){a.update(d.getContent())}),b.settings&&b.settings.charlimit)){var e=b.settings.charlimit,f=a.$(".char-limit");d.on("keyDown SetContent",function(a,b){var c=tinyMCE.activeEditor.getContent(),d=e,g=c.length;if(g>=d)f.html('<span class="text-error">Limit reached</span>');else{var h=d-g;f.html(h+" characters left")}})}})},derender:function(){this.stopListening(),this.editor=null},update:function(a){this.model.set("value",a)},toString:function(){if(this.editor)try{return this.editor.getContent()}catch(a){return""}return""}})},{"../FieldControlBaseView":63,"common/TinyMCE":59}],78:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){this.render()},events:{"click .kb-js-add-file":"openFrame","click .kb-js-reset-file":"reset"},render:function(){this.$container=this.$(".kb-field-file-wrapper"),this.$IdIn=this.$(".kb-file-attachment-id"),this.$resetIn=this.$(".kb-js-reset-file")},derender:function(){this.frame&&(this.frame.dispose(),this.frame=null)},openFrame:function(){var a=this;return this.frame?this.frame.open():(this.frame=wp.media({title:KB.i18n.Refields.file.modalTitle,button:{text:KB.i18n.Refields.common.select},multiple:!1,library:{type:""}}),this.frame.on("ready",function(){a.ready(this)}),this.frame.state("library").on("select",function(){a.select(this)}),this.frame.open())},ready:function(a){this.$(".media-modal").addClass(" smaller no-sidebar")},select:function(a){var b=a.get("selection").first();this.handleAttachment(b)},handleAttachment:function(a){this.$(".kb-file-filename",this.$container).html(a.get("filename")),this.$(".kb-file-attachment-id",this.$container).val(a.get("id")),this.$(".kb-file-title",this.$container).html(a.get("title")),this.$(".kb-file-id",this.$container).html(a.get("id")),this.$(".kb-file-editLink",this.$container).attr("href",a.get("editLink")),this.$resetIn.show(),this.$container.show(450,function(){KB.Events.trigger("modal.recalibrate")})},reset:function(){this.$IdIn.val(""),this.$container.hide(450),this.$resetIn.hide()}})},{"../FieldControlBaseView":63}],79:[function(a,b,c){var d=a("../FieldControlBaseView"),e=a("fields/controls/flexfields/FlexfieldsController");b.exports=d.extend({initialize:function(){this.createController(),this.render()},render:function(){var a=this;this.$stage=this.$(".flexible-fields--stage"),this.FlexFieldsController.setElement(this.$stage.get(0)),_.defer(function(){a.FlexFieldsController.render()})},derender:function(){this.FlexFieldsController.derender()},rerender:function(){this.FlexFieldsController.derender(),this.render()},createController:function(){return this.FlexFieldsController?void 0:this.FlexFieldsController=new e({el:this.$(".flexible-fields2--stage"),model:this.model,parentView:this})}})},{"../FieldControlBaseView":63,"fields/controls/flexfields/FlexfieldsController":82}],80:[function(a,b,c){var d=a("fields/FieldControlModelModal");b.exports=Backbone.Collection.extend({model:d})},{"fields/FieldControlModelModal":65}],81:[function(a,b,c){b.exports=Backbone.View.extend({initialize:function(a){this.controller=a.controller,this.types=this.model.get("fields")},factorNewItem:function(a,b){var c=b._meta.uid||null,d=b._meta.title||null,e=b._meta.type,f=c||_.uniqueId("ff2"),g=this.model.get("newitemtext")||"Enter a title : ",h=this.model.get("requesttitle")||!1;d=h?d||prompt(g,""):d||"#"+this.controller.subviews.length;var i=this.types[e].sections||[];_.clone(this.types);return _.each(i,function(b){_.each(b.fields,function(b){var c=a&&a[b.key]?a[b.key]:b.std,d=_.extend(b,{value:c||"",arrayKey:this.model.get("arrayKey"),fieldkey:this.model.get("fieldkey"),primeKey:b.key,fieldId:this.model.get("fieldId"),index:f,type:b.type});b.view=KB.FieldsAPI.getRefByType(b.type,d),c||b.view.setDefaults()},this)},this),{itemId:f,fftype:e,title:d,sections:i}}})},{}],82:[function(a,b,c){var d=a("fields/controls/flexfields/ToggleBoxItem"),e=a("fields/controls/flexfields/SectionBoxItem"),f=a("fields/controls/flexfields/FlexFieldsFactory"),g=a("common/TinyMCE"),h=a("common/UI"),i=a("common/Logger"),j=a("fields/controls/flexfields/FlexFieldsCollection"),k=a("templates/fields/FlexibleFields/skeleton.hbs"),l=a("common/I18n");b.exports=Backbone.View.extend({initialize:function(a){this.parentView=a.parentView,this.active=!1,this.Renderer="sections"==this.model.get("renderer")?e:d,this.Fields=new j,this.subviews=[],this.factory=new f({controller:this,model:this.model}),i.Debug.log("Fields: Flexfields2 instance created and initialized")},events:{"click .kb-flexible-fields--js-add-item":"addItem"},initialSetup:function(){var a,b;a=this.model.get("value"),b=this.model.get("fields"),_.isEmpty(a)||_.each(a,function(c,d){if(c&&(c._meta.type||(c._meta.type="default"),b[c._meta.type])){var e=this.factory.factorNewItem(a[c._meta.uid],c),f=new this.Renderer({controller:this,model:new Backbone.Model(e)});this.subviews.push(f),this.$list.append(f.render()),h.initTabs(),KB.Events.trigger("modal.recalibrate")}},this),h.initTabs(),this.$list.sortable({handle:".flexible-fields--js-drag-handle",start:function(){g.removeEditors()},stop:function(){g.restoreEditors()}}),KB.Events.trigger("modal.recalibrate"),this._initialized=!0},render:function(){return this.active?null:(this.$el.append(k({i18n:l.getString("Refields.flexfields"),model:this.model.toJSON()})),this.setupElements(),this.initialSetup(),void(this.active=!0))},derender:function(){this.trigger("derender"),this.subviews=[],this.active=!1},setupElements:function(){this.$list=this.$(".flexible-fields--item-list"),this.$addButton=this.$(".kb-flexible-fields--js-add-item")},addItem:function(a){var b=jQuery(a.currentTarget),c=b.data("kbf-addtype"),d=this.factory.factorNewItem(null,{_meta:{type:c}}),e=new this.Renderer({controller:this,model:new Backbone.Model(d)});this.subviews.push(e),this.$list.append(e.render()),h.initTabs(),KB.Events.trigger("modal.recalibrate")}})},{"common/I18n":54,"common/Logger":56,"common/TinyMCE":59,"common/UI":60,"fields/controls/flexfields/FlexFieldsCollection":80,"fields/controls/flexfields/FlexFieldsFactory":81,"fields/controls/flexfields/SectionBoxItem":83,"fields/controls/flexfields/ToggleBoxItem":84,"templates/fields/FlexibleFields/skeleton.hbs":197}],83:[function(a,b,c){var d=a("fields/controls/flexfields/ToggleBoxItem"),e=a("templates/fields/FlexibleFields/single-section-box.hbs");b.exports=d.extend({events:function(){return _.extend({},d.prototype.events,{mouseenter:"mousein",mouseleave:"mouseout"})},mousein:function(){},mouseout:function(){},render:function(){var a=this.createInputName(this.model.get("itemId")),b=this.model.toJSON(),c=this.$el.append(e({item:b,inputName:a,uid:this.model.get("itemId"),fftype:this.model.get("fftype")}));return this.renderTabs(c),c}})},{"fields/controls/flexfields/ToggleBoxItem":84,"templates/fields/FlexibleFields/single-section-box.hbs":195}],84:[function(a,b,c){var d=a("common/Notice"),e=a("templates/fields/FlexibleFields/single-toggle-box.hbs"),f=a("handlebars"),g=a("common/TinyMCE");b.exports=Backbone.View.extend({tagName:"li",className:"kb-flexible-fields--item-wrapper",initialize:function(a){this.Controller=a.controller,this.listenTo(this.Controller,"derender",this.derender),this.FieldViews={}},events:{"click .flexible-fields--js-toggle":"toggleItem","click .flexible-fields--js-trash":"deleteItem"},toggleItem:function(){this.$(".flexible-fields--toggle-title").next().slideToggle(250,function(){jQuery(this).toggleClass("kb-togglebox-open"),jQuery(this).hasClass("kb-togglebox-open")&&(g.removeEditors(jQuery(this)),g.restoreEditors(jQuery(this))),_.defer(function(){KB.Events.trigger("modal.recalibrate")})})},deleteItem:function(){this.$el.hide(250);var a=this.createInputName(this.model.get("itemId"));this.$el.append('<input type="hidden" name="'+a+'[_meta][delete]" value="'+this.model.get("itemId")+'" >'),d.notice("Please click update to save the changes","success")},render:function(){var a=this.createInputName(this.model.get("itemId")),b=this.model.toJSON(),c=this.$el.append(e({item:b,inputName:a,uid:this.model.get("itemId"),fftype:this.model.get("fftype")}));return this.renderTabs(c),c},renderTabs:function(a){var b=this,c=f.compile("<li><a href='#tab-{{ uid }}-{{ index }}'>{{ section.label }}</a></li>"),d=f.compile("<div id='tab-{{ uid }}-{{ index }}'></div>");_.each(this.model.get("sections"),function(e,f){jQuery(".flexible-field--tab-nav",a).append(c({uid:b.model.get("itemId"),section:e,index:f}));var g=jQuery(".kb-field--tabs",a),h=jQuery(d({uid:b.model.get("itemId"),index:f})).appendTo(g);b.renderFields(e,h)})},renderFields:function(a,b){var c,d;_.each(a.fields,function(a){var e=f.compile("<div class='kb-field-wrapper' data-kbfuid='{{ kbfuid }}' id='{{ kbfuid }}'></div>");c=a.view,d=this.model.get("value"),c.listenTo(this,"derender",c.derender);var g=jQuery(e({kbfuid:c.model.get("uid")}));g.append(c.render()),b.append(g),this.setupFieldInstance(c,b)},this)},createInputName:function(a){return this.createBaseId()+"["+this.Controller.model.get("fieldkey")+"]["+a+"]"},createBaseId:function(){return _.isEmpty(this.Controller.model.get("arrayKey"))?this.Controller.model.get("fieldId"):this.Controller.model.get("fieldId")+"["+this.Controller.model.get("arrayKey")+"]"},derender:function(){this.stopListening(),this.remove()},setupFieldInstance:function(a,b){var c=this;c.Controller.parentView&&_.defer(function(){var b=c.Controller.Fields.findWhere({uid:a.model.get("uid")});_.isUndefined(b)?a.fieldModel=c.Controller.Fields.add(a.model.toJSON()):b.rebind()}),_.defer(function(){a.setElement(b),a.postRender&&a.postRender.call(a)})}})},{"common/Notice":57,"common/TinyMCE":59,handlebars:243,"templates/fields/FlexibleFields/single-toggle-box.hbs":196}],85:[function(a,b,c){var d=a("fields/FieldControlBaseView"),e=a("./gallery/GalleryController");b.exports=d.extend({initialize:function(){this.render()},render:function(){this.$stage=this.$(".kb-gallery--stage"),this.createController()},derender:function(){this.GalleryController.dispose()},rerender:function(){this.derender(),this.render()},createController:function(){return this.GalleryController?(this.GalleryController.setElement(this.$stage.get(0)),this.GalleryController.render()):this.GalleryController=new e({el:this.$stage.get(0),model:this.model})}})},{"./gallery/GalleryController":86,"fields/FieldControlBaseView":63}],86:[function(a,b,c){var d=a("common/Logger"),e=a("./ImageView");b.exports=Backbone.View.extend({initialize:function(a){this._frame=null,this.subviews=[],this.listenTo(KB.Events,"modal.saved",this.frontendSave),this.setupElements(),this.initialSetup(),d.Debug.log("Fields: Gallery instance created and initialized")},events:{"click .kb-gallery--js-add-images":"addImages"},setupElements:function(){this.$list=jQuery('<div class="kb-gallery--item-list"></div>').appendTo(this.$el),this.$list.sortable({revert:!0,delay:300}),this.$addButton=jQuery('<a class="button button-primary kb-gallery--js-add-images">'+KB.i18n.Refields.image.addButton+"</a>").appendTo(this.$el)},addImages:function(){this.openModal()},frame:function(){return this._frame?this._frame:void 0},openModal:function(){var a=this;return this._frame?void this._frame.open():(this._frame=wp.media({title:KB.i18n.Refields.image.modalHelpTitle,button:{text:KB.i18n.Refields.common.select},multiple:!0,library:{type:"image"}}),this._frame.state("library").on("select",function(){a.select(this)}),this._frame.open(),this._frame)},select:function(a){var b=a.get("selection");b.length>0&&this.handleModalSelection(b.models)},handleModalSelection:function(a){var b=this;_.each(a,function(a){var c={file:a.toJSON(),details:{title:"",alt:"",description:""},id:a.get("id")},d=new Backbone.Model(c),f=new e({model:d,Controller:b});b.subviews.push(f),b.$list.append(f.render()),setTimeout(function(){KB.Events.trigger("modal.recalibrate")},250)})},initialSetup:function(){var a=this,b=this.model.get("value").images||{};_.toArray(b).length>0&&_.each(b,function(b){var c=new Backbone.Model(b),d=new e({model:c,Controller:a});a.subviews.push(d),a.$list.append(d.render())})},frontendSave:function(){var a=this;this.subviews.length>0&&_.each(this.subviews,function(b,c){b._remove&&(delete a.subviews[c],b.remove())})}})},{"./ImageView":87,"common/Logger":56}],87:[function(a,b,c){var d=a("common/TinyMCE"),e=a("common/UI"),f=a("templates/fields/Gallery/single-image.hbs");b.exports=Backbone.View.extend({tagName:"div",className:"kb-gallery--image-wrapper",initialize:function(a){this.Controller=a.Controller,this.uid=this.model.get("uid")||_.uniqueId("kbg"),this.editorAdded=!1,this._remove=!1},events:{"click .kb-gallery--js-edit":"edit","click .kb-gallery--js-delete":"delete","click .kb-gallery--js-meta-close":"close"},edit:function(){this.$el.wrap('<div class="kb-gallery--item-placeholder kb-gallery--image-wrapper"></div>'),this._placeholder=this.$el.parent(),this.$el.addClass("kb-gallery--active-item kb-field").appendTo("body"),jQuery("#wpwrap").addClass("module-browser-open"),this.handleEditor(),e.initTabs()},handleEditor:function(){var a=this,b=jQuery(".kb-js--remote-editor",this.$el),c=this.createInputName(this.uid)+"[details][description]";if(this.editorAdded)d.addEditor(b,null,150);else{var f=d.remoteGetEditor(b,c,this.uid,this.model.get("details").description,null,!1,!1);f.done(function(b){a.editorAdded=b,e.initTabs()})}},"delete":function(){this._remove?(this.$el.fadeTo(450,1).css("borderColor","#ccc"),jQuery(".kb-gallery--image-remove",this.$el).val(""),this._remove=!1):(this.$el.fadeTo(450,.5).css("borderColor","red"),this._remove=!0,jQuery(".kb-gallery--image-remove",this.$el).val("true"))},remove:function(){this.$el.remove(),delete this.$el},close:function(){var a=tinymce.get(this.uid+"_ededitor"),b=this.model.get("details");b.description=this.getEditorContent(a),tinymce.remove(a),this.$el.appendTo(this._placeholder).unwrap(),this.$el.removeClass("kb-gallery--active-item").removeClass("kb-field"),jQuery("#wpwrap").removeClass("module-browser-open")},getEditorContent:function(a){var b=jQuery("#wp-"+this.uid+"_ededitor-wrap"),c=b.hasClass("tmce-active");
if(c)return a.getContent();var d=document.getElementById(this.uid+"_ededitor").value;return d=d.replace(/<br\s*\/?>/gm,"\n"),a.setContent(d),d},render:function(){var a=this.createInputName(this.uid),b=this.model.toJSON();return this.$el.append(f({image:b,id:b.id,inputName:a,uid:this.uid}))},createInputName:function(a){return this.createBaseId()+"["+this.Controller.model.get("fieldkey")+"][images]["+a+"]"},createBaseId:function(){return _.isEmpty(this.Controller.model.get("arrayKey"))?this.Controller.model.get("baseId"):this.Controller.model.get("baseId")+"["+this.Controller.model.get("arrayKey")+"]"}})},{"common/TinyMCE":59,"common/UI":60,"templates/fields/Gallery/single-image.hbs":198}],88:[function(a,b,c){var d=a("fields/FieldControlBaseView"),e=a("./gallery2/Gallery2Controller");b.exports=d.extend({initialize:function(){this.selection=null,this.render()},render:function(){this.$stage=this.$(".kb-gallery2__stage"),this.createController(),this.$stage.append(this.GalleryController.render())},derender:function(){this.GalleryController&&this.GalleryController.$el.detach()},createController:function(){return this.GalleryController||(this.GalleryController=new e({el:this.$stage.get(0),model:this.model})),this.GalleryController}})},{"./gallery2/Gallery2Controller":89,"fields/FieldControlBaseView":63}],89:[function(a,b,c){var d=a("common/Logger"),e=a("./ImageView");b.exports=Backbone.View.extend({initialize:function(a){this._frame=null,this.subviews={},this.ids=[],d.Debug.log("Fields: Gallery instance created and initialized"),this.renderElements(),this.initialSetup()},render:function(){return this.trigger("render"),this.setupElements(),this.delegateEvents(),this.$el},events:{"click .kb-gallery2--js-add-images":"addImages"},derender:function(){},renderElements:function(){jQuery('<div class="kb-gallery2--item-list"></div>').appendTo(this.$el),jQuery('<a class="button button-primary kb-gallery2--js-add-images">'+KB.i18n.Refields.gallery.addButton+"</a>").appendTo(this.$el)},setupElements:function(){this.$list=this.$(".kb-gallery2--item-list"),this.$list.sortable({revert:!0,delay:300,helper:"clone",stop:_.bind(this.updateOrder,this)})},addImages:function(){this.openModal()},updateOrder:function(){this.resortSelection(),this.model.set("value",this.ids)},frame:function(){return this._frame?this._frame:void 0},openModal:function(){var a=this;return this._frame?void this._frame.open():(this._frame=new wp.media.view.KBGallery({state:"gallery-edit",multiple:!0,selection:this.selection,editing:!0}),this._frame.state("gallery-edit").on("update",function(b){a.selection=b,a.resortToSelection(),setTimeout(function(){KB.Events.trigger("modal.recalibrate")},250)}),this._frame.options.selection.on("add",function(b){a.add(b)}),this._frame.on("ready",function(a){jQuery(".media-modal").addClass("kb-gallery-frame")}),this._frame.options.selection.on("remove",function(b){a.remove(b)}),this._frame.open(),this._frame)},initialSetup:function(){var a=this,b=this.model.get("value").images||{};if(this.setIds(b),""!=this.ids){var c={post__in:this.ids,suppress_filters:!0},d=wp.media.query(c);this.selection||(this.selection=new wp.media.model.Selection(d.models,{props:d.props.toJSON(),multiple:!0}),this.selection.more().done(function(){a.selection.props.set({query:!1}),a.selection.unmirror(),a.selection.props.unset("orderby"),a.initImages(),a.resortSelection()}))}},initImages:function(){_.each(this.ids,function(a){var b=this.selection.get(a);b&&this.add(this.selection.get(a))},this)},add:function(a){var b=new e({model:a,Controller:this});this.subviews[a.get("id")]=b;var c=b.render();this.ids.push(a.get("id")),this.$list.append(c)},setIds:function(a){var b=[];_.each(a,function(a){a=parseInt(a,10),_.isNumber(a)&&!isNaN(a)&&b.push(a)}),this.ids=b},resortSelection:function(){var a=[],b=this.getIdsFromInputs();_.each(b,function(b){a.push(this.selection.get(b))},this),this.selection.reset(a),this.setIds(b)},remove:function(a){var b=this.ids.indexOf(a.get("id"));-1!==b&&this.ids.splice(b,1);var c=this.subviews[a.get("id")];c&&c.remove&&(c.remove(),delete this.subviews[a.get("id")])},getIdsFromInputs:function(){return this.$(".kb-gallery--image-holder input").map(function(a,b){return jQuery(b).val()}).get()},resortToSelection:function(){var a=_.pluck(this.selection.models,"id");_.each(this.subviews,function(a){a.$el.detach()},this),_.each(a,function(a){var b=this.subviews[a];b.$el.appendTo(this.$list)},this)}})},{"./ImageView":90,"common/Logger":56}],90:[function(a,b,c){var d=a("templates/fields/Gallery2/single-image.hbs");b.exports=Backbone.View.extend({tagName:"div",className:"kb-gallery--image-wrapper",initialize:function(a){this.Controller=a.Controller},remove:function(){this.$el.remove(),delete this.$el},render:function(){var a=this.createInputName(this.uid),b=this.model.toJSON();if(b.sizes){b.previewUrl=b.sizes.thumbnail?b.sizes.thumbnail.url:b.url;jQuery(d({image:b,id:b.id,inputName:a})).appendTo(this.$el);return this.$el}},createInputName:function(a){return this.createBaseId()+"["+this.Controller.model.get("fieldkey")+"][images][]"},createBaseId:function(){return this.Controller.model.get("baseId")}})},{"templates/fields/Gallery2/single-image.hbs":199}],91:[function(a,b,c){var d=a("../FieldControlBaseView"),e=a("common/Utilities"),f=a("common/Config");b.exports=d.extend({initialize:function(){this.defaultState="replace-image",this.defaultFrame="image",this.render()},events:{"click .kb-js-add-image":"openFrame","click .kb-js-reset-image":"resetImage","change [data-kbimage-crop]":"handleCropChange"},handleCropChange:function(){var a=this.$cropSelect.val(),b=this.model.get("value");b.crop=a,this.model.set("value",b);var c=this.prepareArgs();this.retrieveImage(c,b.id)},render:function(){this.$reset=this.$(".kb-js-reset-image"),this.$container=this.$(".kb-field-image-container"),this.$saveId=this.$(".kb-js-image-id"),this.$description=this.$(".kb-js-image-description"),this.$title=this.$(".kb-js-image-title"),this.$cropSelect=this.$("[data-kbimage-crop]")},editImage:function(){this.openFrame(!0)},derender:function(){this.frame&&this.frame.dispose()},openFrame:function(a){var b,c=this;this.frame&&this.frame.dispose();var d={};""!==this.model.get("value").id&&(d.post__in=[this.model.get("value").id]),wp.media.query(d).more().done(function(){var a=this.first();c.attachment=a,a?(a.set("attachment_id",a.get("id")),b=c.attachment.toJSON()):(b={},c.defaultFrame="select",c.defaultState="library"),c.frame=wp.media({frame:c.defaultFrame,state:c.defaultState,metadata:b,imageEditView:c,type:"image",library:{type:"image"}}),c.frame.on("update",function(a){c.update(a)}).on("close",function(a){c.frame.image&&c.frame.image.attachment&&(c.$description.val(c.frame.image.attachment.get("caption")),c.$title.val(c.frame.image.attachment.get("title")))}).on("ready",function(){c.ready(c)}).on("replace",function(){c.replace(c.frame.image.attachment)}).on("select",function(a){var b=this.get("library").get("selection").first();c.replace(b)}).open()})},ready:function(a){jQuery(".media-modal").addClass("smaller kb-image-frame");var b=a.model.get("settings");b&&b.minDimensions&&(a.frame.uploader.options.uploader.params.mindimensions=b.minDimensions)},replace:function(a){this.attachment=a,this.handleAttachment(a)},update:function(a){this.attachment.set(a),this.attachment.sync("update",this.attachment)},getCropValue:function(){var a=this.model.get("value");return a.crop&&""!==a.crop?a.crop:this.model.get("crop")},prepareArgs:function(){var a=this;return{width:a.model.get("width")||null,height:a.model.get("height")||null,crop:a.getCropValue()||!0,upscale:a.model.get("upscale")||!1}},handleAttachment:function(a){var b=this,c=a.get("id"),d=this.prepareValue(a);b.model.set("value",d);var f=_.clone(this.model.get("ModuleModel").get("entityData")),g=this.model.get("kpath");e.setIndex(f,g,d),this.model.get("ModuleModel").set("entityData",f);var h=b.prepareArgs();if(h.width)b.retrieveImage(h,c);else{var i=a.get("sizes").thumbnail?a.get("sizes").thumbnail.url:a.get("sizes").full.url;this.$container.html('<img src="'+i+'" >')}this.$saveId.val(a.get("id")),this.$description.val(d.caption),this.$title.val(d.title),this.model.get("ModuleModel").trigger("data.updated",{silent:!0})},retrieveImage:function(a,b){var c=this;jQuery.ajax({url:ajaxurl,data:{action:"fieldGetImage",args:a,id:b,_ajax_nonce:f.getNonce("read")},type:"POST",dataType:"json",success:function(a){c.$container.html('<img src="'+a.data.src+'" >')},error:function(){}})},prepareValue:function(a){var b={id:a.get("id"),alt:a.get("alt")},c=this.model.get("value");return _.isObject(c)||(c={}),_.extend(c,b)},resetImage:function(){this.$container.html(""),this.$saveId.val(""),this.model.set("value",{id:null,caption:"",title:""}),this.$description.val(""),this.$title.val("")},toString:function(){var a=this;if(!this.attachment&&!_.isEmpty(this.model.get("value").id)){var b=wp.media.query({post__in:[this.model.get("value").id]}),c=b.more();c.done(function(c){a.attachment=b.first()})}if(this.attachment){var d=this.attachment.get("sizes").thumbnail?this.attachment.get("sizes").thumbnail:this.attachment.get("sizes").full;return"<img src='"+d.url+"'>"}return""}})},{"../FieldControlBaseView":63,"common/Config":53,"common/Utilities":61}],92:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){this.defaults={filter:!0},this.settings=this.model.get("settings")||{},this.render()},render:function(){this.$("[data-kftype='imageselect']").imagepicker(_.extend(this.defaults,this.settings))},rerender:function(){this.$("[data-kftype='imageselect']").imagepicker("destroy"),this.render()}})},{"../FieldControlBaseView":63}],93:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){this.render()},events:{"click .kb-js-add-link":"openModal"},render:function(){this.$input=this.$("[data-kbf-link-url]"),this.$text=this.$("[data-kbf-link-linktext]"),this.$target=this.$("[data-kbf-link-target]")},derender:function(){},openModal:function(){window._kbLink=this,wpActiveEditor=this.$input.attr("id"),jQuery("#wp-link-wrap").addClass("kb-customized"),window.kb_restore_htmlUpdate=wpLink.htmlUpdate,window.kb_restore_isMce=wpLink.isMCE,wpLink.isMCE=this.isMCE,wpLink.htmlUpdate=this.htmlUpdate,wpLink.open(),jQuery("#wp-link-text").val(this.$text.val()),jQuery("#wp-link-url").val(this.$input.val()),this.model.get("showtarget")||jQuery("#link-selector .link-target").addClass("kb-hide"),this.setTarget()},setTarget:function(){var a=jQuery("#wp-link-target");this.$target.is(":checked")?a.prop("checked",!0):a.prop("checked",!1)},setTargetFromModal:function(a){"_blank"===a?this.$target.prop("checked",!0):this.$target.prop("checked",!1)},htmlUpdate:function(){var a,b,c,d,e=wpLink.textarea;e&&(b=wpLink.getAttrs(),d=jQuery("#wp-link-text").val(),a=b.target,window._kbLink.setTargetFromModal(a),b.href&&(c=b.href,window._kbLink.$input.empty(),window._kbLink.$input.val(c),window._kbLink.trigger("update",d,c),window._kbLink.$text.val(d),wpLink.close(),window._kbLink.close(),e.focus()))},isMCE:function(){return!1},close:function(){this.model.get("showtarget")||jQuery("#link-selector .link-target").removeClass("kb-hide"),wpLink.isMCE=window.kb_restore_isMce,wpLink.htmlUpdate=window.kb_restore_htmlUpdate}})},{"../FieldControlBaseView":63}],94:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){this.render()},render:function(){this.editor=new MediumEditor(this.$(".kb-medium-editable"))},derender:function(){},update:function(a){},toString:function(){}})},{"../FieldControlBaseView":63}],95:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){this.defaults={filter:!0},this.settings=this.model.get("settings")||{},this.render()},render:function(){this.$("[data-kftype='multiselect']").multipleSelect(_.extend(this.defaults,this.settings))},rerender:function(){this.$("[data-kftype='multiselect']").multipleSelect("refresh")}})},{"../FieldControlBaseView":63}],96:[function(a,b,c){var d=a("../FieldControlBaseView"),e=a("common/Ajax"),f=a("common/Config");b.exports=d.extend({initialize:function(){this.render()},render:function(){var a=this;this.$input=this.$(".kb-field--oembed input"),this.$preview=this.$("[data-kb-oembed-preview]"),this.$input.on("change",function(){a.update(a.$input.val())}),this.$input.trigger("change")},derender:function(){},update:function(a){var b=this;this.model.set("value",a);this.sendRequest(a).done(function(a){a&&a.data&&a.data.html&&b.$preview.html(a.data.html)})},toString:function(){return""},sendRequest:function(a){return e.send({action:"getOembed",embedUrl:a,_ajax_nonce:f.getNonce("read")})}})},{"../FieldControlBaseView":63,"common/Ajax":50,"common/Config":53}],97:[function(a,b,c){var d=a("../FieldControlBaseView");a("common/Utilities"),a("common/Config");b.exports=d.extend({initialize:function(){this.uniq=_.uniqueId("map"),this.marker=null,this.render()},events:{"change input":"updateMarker"},render:function(){var a=this;this.$map=this.$("[data-kb-osm-map]").attr("id",this.uniq),this.$lat=this.$("[data-kb-osm-lat]"),this.$lng=this.$("[data-kb-osm-lng]"),_.defer(function(){a.setupMap()})},updateMarker:function(){var a=this.$lat.val(),b=this.$lng.val();this.setMarker(a,b),this.map.setView(this.marker.getLatLng())},derender:function(){},setupMap:function(){var a=this;this.map=L.map(this.uniq).setView([53.551086,9.993682],10),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18}).addTo(this.map),this.map.on("click",function(b){a.setMarker(b.latlng.lat,b.latlng.lng)}),a.updateMarker()},setMarker:function(a,b){var c=this;c.marker&&c.map.removeLayer(c.marker),c.marker=L.marker([a,b]).addTo(c.map),c.$lat.val(a),c.$lng.val(b),console.log(c.marker)},toString:function(){return""}})},{"../FieldControlBaseView":63,"common/Config":53,"common/Utilities":61}],98:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({events:{"click .js-oday-activate-split":"split"},initialize:function(){this.render()},render:function(){this.$(".kb-ot-timepicker").datetimepicker({datepicker:!1,format:"H:i",validateOnBlur:!1,step:30})},derender:function(){this.$(".kb-ot-timepicker").datetimepicker("destroy")},split:function(){this.$("table").toggleClass("split")}})},{"../FieldControlBaseView":63}],99:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){this.defaults={sortable:!1,placeholder:"Click here to add options"},this.settings=this.model.get("settings")||{},this.render()},render:function(){var a=this,b=_.extend(this.defaults,this.settings);b.sortable?(this.$el.addClass("select-sortable"),this.$("[data-kbselect2='true']").select2_sortable(b)):(this.$el.removeClass("select-sortable"),this.$("[data-kbselect2='true']").select2(b)),a.$(".select2-search__field").attr("placeholder",b.placeholder),this.$el.on("change",function(){a.$(".select2-search__field").attr("placeholder",b.placeholder)})},rerender:function(){this.render()},derender:function(){var a=_.extend(this.defaults,this.settings);a.sortable?this.$("[data-kbselect2='true']").select2_sortable("destroy"):(this.$el.removeClass("select-sortable"),this.$("[data-kbselect2='true']").select2("destroy"))}})},{"../FieldControlBaseView":63}],100:[function(a,b,c){var d=a("../FieldControlBaseView"),e=a("fields/controls/subarea/SubareaController");b.exports=d.extend({initialize:function(){this.createController(),this.render()},render:function(){this.$stage=this.$(".kb-field--subarea-stage"),this.SubareaConroller.setElement(this.$stage.get(0)),this.SubareaConroller.render()},derender:function(){this.SubareaConroller.derender()},rerender:function(){this.SubareaConroller.derender(),this.model.setData(),this.render()},createController:function(){var a=this;return this.SubareaConroller?void 0:this.SubareaConroller=new e({el:this.$(".kb-field--subarea-stage"),model:this.model,parentView:this,subarea:KB.Areas.get(a.$(".kb-field--subarea-stage").attr("id")),area:this.model.ModuleModel.Area})}})},{"../FieldControlBaseView":63,"fields/controls/subarea/SubareaController":104}],101:[function(a,b,c){var d=a("shared/ModuleBrowser/ModuleBrowserController"),e=a("common/Checks"),f=a("common/Config"),g=a("common/Notice"),h=a("common/Ajax");b.exports=d.extend({initialize:function(a){d.prototype.initialize.apply(this,arguments),this.subarea=a.subarea,this.isSubarea=!0},createModule:function(a){var b;e.userCan("create_kontentblocks")||g.notice("You're not allowed to do this","error"),b={action:"createNewModule","class":a.get("settings")["class"],globalModule:a.get("globalModule"),parentObject:a.get("parentObject"),parentObjectId:a.get("parentObjectId"),areaContext:this.subarea.model.get("context"),area:this.subarea.model.get("id"),_ajax_nonce:f.getNonce("create"),frontend:KB.appData.config.frontend,submodule:!0},this.area.model.get("parent_id")&&(b.postId=this.area.model.get("parent_id")),h.send(b,this.success,this)},success:function(a){this.trigger("browser.module.created",{res:a}),this.close()}})},{"common/Ajax":50,"common/Checks":52,"common/Config":53,"common/Notice":57,"shared/ModuleBrowser/ModuleBrowserController":142}],102:[function(a,b,c){var d=a("fields/controls/subarea/templates/module-view.hbs"),e=a("common/Ajax"),f=a("common/Config"),g=a("common/TinyMCE"),h=a("common/Payload"),i=a("backend/Views/FullscreenView"),j=a("common/UI");b.exports=Backbone.View.extend({events:{"click .kbms-action--open":"openForm","click .kbms-action--delete":"removeModule","click .kbms-action--update":"saveModule"},tagName:"div",className:"kb-submodule",initialize:function(a){this.formLoaded=!1,this.slotView=a.slotView,this.controller=a.slotView.controller,this.ModuleModel=a.ModuleModel,this.parentModel=a.parentModel},draft:function(){},render:function(){var a=this;this.$el.append(d({module:this.ModuleModel.toJSON()})),this.slotView.$container.prepend(this.$el),this.$el.attr("data-kba-mid",this.ModuleModel.get("mid")),_.defer(function(){a.setupElements()})},setupElements:function(){this.$inner=this.$(".kbsm-inner")},openForm:function(){KB.EditModalModules?this.handleFrontend():this.handleBackend()},handleBackend:function(){if(this.formLoaded)this.open();else{var a={action:"getModuleBackendForm",_ajax_nonce:f.getNonce("read"),module:this.ModuleModel.toJSON()};e.send(a,this.success,this)}},handleFrontend:function(){var a=KB.Modules.get(this.model.get("mid"));console.log(a),KB.EditModalModules.openView(a.View,!1,!0)},success:function(a){this.$inner.hide().append(a.data.html);var b=KB.ObjectProxy.add(KB.Modules.add(this.ModuleModel.toJSON()));_.defer(function(){h.parseAdditionalJSON(a.data.json)}),this.formLoaded=!0,g.addEditor(this.$el),this.ModuleModel=b,this.open()},open:function(){f.get("frontend")||(this.fsControl||(this.fsControl=new i({model:this.ModuleModel})),this.fsControl.open()),this.listenToOnce(this.fsControl,"close",this.getDirty),j.repaint(this.fsControl.$el)},saveModule:function(){return this.formLoaded?(this.ModuleModel.sync(),void this.getClean()):!1},getDirty:function(){this.$el.addClass("is-dirty")},getClean:function(){this.$el.removeClass("is-dirty")},removeModule:function(a){this.slotView.removeModuleView(a)}})},{"backend/Views/FullscreenView":22,"common/Ajax":50,"common/Config":53,"common/Payload":58,"common/TinyMCE":59,"common/UI":60,"fields/controls/subarea/templates/module-view.hbs":106}],103:[function(a,b,c){var d=a("fields/controls/subarea/ModuleBrowser"),e=a("fields/controls/subarea/ModuleView"),f=a("common/Ajax"),g=a("common/Config"),h=a("fields/controls/subarea/templates/empty.hbs");b.exports=Backbone.View.extend({hasModule:!1,events:{click:"click"},initialize:function(a){this.controller=a.controller,this.slotId=a.slotId,this.ModuleView=null,this.ModuleModel=null,this.setup(),this.render(),this.listenTo(this.model,"change",this.updateInput)},setModule:function(a){_.isNull(a)||(this.ModuleModel=new Backbone.Model(a))},updateInputValue:function(a){this.$input.val(a)},updateInput:function(){this.$container.empty(),this.ModuleModel&&this.ModuleModel.get("submodule")?(this.ModuleView=new e({slotView:this,model:this.model,ModuleModel:this.ModuleModel,parentModel:this.controller.model.ModuleModel}),this.ModuleView.render(),this.$(".kbsm-empty").remove()):this.$container.prepend(h({})),this.updateInputValue(this.model.get("mid"))},setup:function(){var a=this.controller.model;this.basename=a.get("baseId"),a.get("arrayKey")&&(this.basename=this.basename+"["+a.get("arrayKey")+"]"),this.basename=this.basename+"["+a.get("fieldkey")+"][slots]["+this.slotId+"][mid]",this.$input=jQuery("<input type='hidden' name='"+this.basename+"'>"),this.$container=jQuery("<div></div>")},render:function(){this.$el.append(this.$container),this.$el.append(this.$input)},click:function(){this.ModuleBrowser||(this.ModuleBrowser=new d({area:this.controller.subarea.View,subarea:this.controller.subarea.View}),this.listenTo(this.ModuleBrowser,"browser.module.created",this.moduleCreated)),this.ModuleView||this.ModuleBrowser.render()},dispose:function(){},moduleCreated:function(a){var b=this,c=a.res,d=c.data.module;_.defer(function(){b.setModule(d),b.model.set("mid",""),b.model.set("mid",d.mid),b.trigger("module.created"),b.listenToOnce(b.controller.model.ModuleModel.View,"modal.after.nodeupdate",function(){_.defer(function(){KB.ObjectProxy.add(KB.Modules.add(d)),b.controller.setupViewConnections()})}),KB.Events.trigger("modal.preview")})},removeModuleView:function(a){a.stopPropagation(),f.send({action:"removeModules",_ajax_nonce:g.getNonce("delete"),module:this.model.get("mid")},this.removeSuccess,this)},removeSuccess:function(a){var b=this;a.success&&(this.ModuleView.stopListening(),this.ModuleView.remove(),this.ModuleView=null,delete this.ModuleView,this.ModuleModel=null,_.defer(function(){b.model.set({mid:""})}),this.trigger("module.removed"))}})},{"common/Ajax":50,"common/Config":53,"fields/controls/subarea/ModuleBrowser":101,"fields/controls/subarea/ModuleView":102,"fields/controls/subarea/templates/empty.hbs":105}],104:[function(a,b,c){var d=a("fields/controls/subarea/SlotView"),e=a("common/Logger"),f=a("frontend/Views/ModuleView");a("common/Config");b.exports=Backbone.View.extend({initialize:function(a){this.area=a.area,this.subarea=a.subarea,this.parentView=a.parentView,this.listenTo(this.model.ModuleModel.View,"modal.before.nodeupdate",this.disposeSubviews),this.listenTo(this.model.ModuleModel.View,"modal.after.nodeupdate",this.updateSubviews),this.listenTo(this.model.ModuleModel,"modal.serialize.before",this.unbindFields),this.listenTo(this.model.ModuleModel,"modal.serialize",this.rebindFields),e.Debug.log("Fields: SubareaController created")},unbindFields:function(){_.each(this.subViews,function(a){a.model.trigger("modal.serialize.before")})},rebindFields:function(){_.each(this.subViews,function(a){a.model.trigger("modal.serialize")})},setupViewConnections:function(){var a={};return _.each(this.slotViews,function(b){if(""!==b.model.get("mid")){var c=KB.Modules.get(b.model.get("mid"));c&&c.View?a[b.model.get("mid")]=c.View:c&&_.defer(function(){KB.Views.Modules.add(c.get("mid"),new f({model:c,el:"#"+c.get("mid")}))})}}),a},updateSubviews:function(){this.setupViewConnections(),_.each(this.subViews,function(a){a.rerender()})},disposeSubviews:function(){_.each(this.subViews,function(a){a.derender()})},derender:function(){e.Debug.log("Fields: SubareaController derender")},render:function(){var a=this;e.Debug.log("Fields: SubareaController render"),this.convertDom(),this.slotViews={},this.$slotContainers=this.setupSlotContainers(),this.slotViews=this.setupViews(),_.defer(function(){a.subViews=a.setupViewConnections(),a.draggable()})},setupSlotContainers:function(){return this.$("[data-kbml-slot]")},draggable:function(){var a,b,c,d,e=this;this.$(".kbml-slot").draggable({revert:"invalid",helper:"clone",revertDuration:200,start:function(){a=jQuery(this).find(".kb-submodule"),c=jQuery(this),jQuery(this).addClass("being-dragged")},stop:function(){a=null,jQuery(this).removeClass("being-dragged")}}),this.$(".kbml-slot").droppable({hoverClass:"drop-hover",over:function(a,c){b=jQuery(a.target).find(".kb-submodule"),d=jQuery(this)},drop:function(f,g){return a.detach(),b.detach(),c.append(b),d.append(a),e.reindex(),!1}})},reindex:function(){_.each(this.slotViews,function(a){var b=a.$("[data-kba-mid]");if(1===b.length){var c=b.data("kba-mid");c&&a.updateInputValue(c)}else a.updateInputValue("")})},convertDom:function(){this.$el.find("*").each(function(a,b){b.removeAttribute("style"),b.removeAttribute("class");var c=b.dataset;c.kbaEl&&(b.className=c.kbaEl)})},setupViews:function(){var a=this,b={};return _.each(this.$slotContainers,function(c){var e=jQuery(c),f=e.data("kbml-slot"),g=this.createSlotId(f),h=new d({el:e,model:new Backbone.Model({}),controller:this,slotId:g});b[g]=h,h.setModule(this.getSlotModule(g)),_.defer(function(){h.model.set(a.getSlotData(g))}),this.listenTo(h,"module.created",this.updateParent),this.listenTo(h,"module.removed",this.updateParent)},this),b},createSlotId:function(a){return"slot-"+a},getSlotModule:function(a){var b=this.model.get("value").modules||{},c=b[a];return c&&c.mid&&""!==c.mid?c:null},getSlotData:function(a){var b=this.model.get("value").slots||{};return _.isObject(b)||(b={}),b[a]?b[a]:{mid:""}},updateParent:function(){this.model.ModuleModel.sync()}})},{"common/Config":53,"common/Logger":56,"fields/controls/subarea/SlotView":103,"frontend/Views/ModuleView":138}],105:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<div class="kb-submodule">\n    <div class="kbsm-empty add-modules">\n        <div>Modul auswählen</div>\n    </div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],106:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'<div class="kbsm-details">\n    <div class="kbsm--name">'+h(g(null!=(f=null!=(f=null!=b?b.module:b)?f.settings:f)?f.name:f,b))+'</div>\n    <div class="kbsm--name">'+h(g(null!=(f=null!=b?b.module:b)?f.mid:f,b))+'</div>\n</div>\n<div class="kbsm-actions">\n    <div class="kbsm-action kbms-action--open" data-kbtooltip="open form"><span\n            class="dashicons dashicons-admin-generic"></span></div>\n    <div class="kbsm-action kbms-action--delete" data-kbtooltip="delete"><span\n            class="dashicons dashicons-welcome-comments"></span></div>\n    <div class="kbsm-action kbms-action--update" data-kbtooltip="update"><span\n            class="dashicons dashicons-update"></span></div>\n</div>\n<div class="kbsm-inner">\n    <div class="kbsm-button kbms-action--open">Bearbeiten</div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],107:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){this.render()},render:function(){jQuery(".kb-tags-input").length&&window.tagBox&&window.tagBox.init()},toString:function(){return""}})},{"../FieldControlBaseView":63}],108:[function(a,b,c){var d=a("../FieldControlBaseView"),e=a("fields/controls/text-multiple/TextMultipleController");b.exports=d.extend({initialize:function(){this.createController(),this.render()},render:function(){var a=this;this.$stage=this.$('[data-kftype="text-multiple"]'),this.TextMultipleController.setElement(this.$stage.get(0)),_.defer(function(){a.TextMultipleController.render()})},derender:function(){this.FlexFieldsController.derender()},rerender:function(){this.render()},createController:function(){return this.TextMultipleController?void 0:this.TextMultipleController=new e({el:this.$('[data-kftype="text-multiple"]'),model:this.model,parentView:this})}})},{"../FieldControlBaseView":63,"fields/controls/text-multiple/TextMultipleController":109}],109:[function(a,b,c){var d=a("fields/MultipleControllerBase");b.exports=d.extend({type:"text-multiple"})},{"fields/MultipleControllerBase":68}],110:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){this.render()},render:function(){var a=this,b=this.model.get("attributes");this.$input=this.$(".kb-field--text input"),this.$input.on("change",function(){a.update(a.$input.val())}),b&&b.maxlength&&(this.$count=jQuery("<span class='charcount kb-field--bubble'></span>").insertAfter(this.$input),this.$input.on("keyup change",function(){a.charcount(a.$input.val(),a.$count,b.maxlength)}).trigger("keyup"))},derender:function(){this.$input.off(),this.$count&&this.$count.off().remove()},update:function(a){this.model.set("value",a)},toString:function(){return this.$input.val()},charcount:function(a,b,c){var d=c,e=a.length,f=d-e;b.html(f+" chars left")}})},{"../FieldControlBaseView":63}],111:[function(a,b,c){var d=a("../FieldControlBaseView");b.exports=d.extend({initialize:function(){this.render()},render:function(){var a=this,b=this.model.get("attributes");this.$textarea=this.$("textarea"),this.$textarea.on("change",function(){a.update(a.$textarea.val())}),b&&b.maxlength&&(this.$count=jQuery("<span class='charcount kb-field--bubble'></span>").insertAfter(this.$textarea),this.$textarea.on("keyup change",function(){a.charcount(a.$textarea.val(),a.$count,b.maxlength)}).trigger("keyup"))},derender:function(){this.$textarea.off(),this.$count&&this.$count.off().remove()},update:function(a){this.model.set("value",a)},toString:function(){return this.$textarea.val()},charcount:function(a,b,c){var d=c,e=a.length,f=d-e;b.html(f+" chars left")}})},{"../FieldControlBaseView":63}],112:[function(a,b,c){b.exports={fields:{},register:function(a){var b=a.prototype.type;this.fields[b]=a},get:function(a){return new(this.fields[a.model.get("type")])({model:new Backbone.Model(a.model.toJSON())})},getRefByType:function(a,b){return new this.fields[a]({model:new Backbone.Model(b)})}}},{}],113:[function(a,b,c){a("fieldsAPI/hbsHelpers");var d=a("fieldsAPI/FieldsAPICollection");KB.FieldsAPI=d,KB.FieldsAPI.register(a("fieldsAPI/definitions/editor")),KB.FieldsAPI.register(a("fieldsAPI/definitions/image")),KB.FieldsAPI.register(a("fieldsAPI/definitions/link")),KB.FieldsAPI.register(a("fieldsAPI/definitions/text")),KB.FieldsAPI.register(a("fieldsAPI/definitions/file")),KB.FieldsAPI.register(a("fieldsAPI/definitions/select")),KB.FieldsAPI.register(a("fieldsAPI/definitions/checkbox")),KB.FieldsAPI.register(a("fieldsAPI/definitions/text-multiple")),KB.FieldsAPI.register(a("fieldsAPI/definitions/date-multiple")),KB.FieldsAPI.register(a("fieldsAPI/definitions/textarea")),KB.FieldsAPI.register(a("fieldsAPI/definitions/medium")),KB.FieldsAPI.register(a("fieldsAPI/definitions/color")),KB.FieldsAPI.register(a("fieldsAPI/definitions/oembed")),KB.FieldsAPI.register(a("fieldsAPI/definitions/datetime")),KB.FieldsAPI.register(a("fieldsAPI/definitions/radioset"))},{"fieldsAPI/FieldsAPICollection":112,"fieldsAPI/definitions/checkbox":115,"fieldsAPI/definitions/color":116,"fieldsAPI/definitions/date-multiple":117,"fieldsAPI/definitions/datetime":118,"fieldsAPI/definitions/editor":119,"fieldsAPI/definitions/file":120,"fieldsAPI/definitions/image":121,"fieldsAPI/definitions/link":122,"fieldsAPI/definitions/medium":123,"fieldsAPI/definitions/oembed":124,"fieldsAPI/definitions/radioset":125,"fieldsAPI/definitions/select":126,"fieldsAPI/definitions/text":128,"fieldsAPI/definitions/text-multiple":127,"fieldsAPI/definitions/textarea":129,"fieldsAPI/hbsHelpers":130}],114:[function(a,b,c){b.exports=Backbone.View.extend({initialize:function(){this.defaults=this.getDefaults()||{},this.extendModel()},getDefaults:function(){return""},setDefaults:function(){this.setValue(this.getDefaults())},setValue:function(a){this.model.set("value",a)},derender:function(){this.model.destroy(),this.stopListening(),
this.remove()},prepareBaseId:function(){return _.isEmpty(this.model.get("arrayKey"))?this.model.get("fieldId")+"["+this.model.get("fieldkey")+"]":this.model.get("fieldId")+"["+this.model.get("arrayKey")+"]["+this.model.get("fieldkey")+"]"},extendModel:function(){this.model.set("baseId",this.prepareBaseId()),this.model.set("uid",this.kbfuid()),this.model.set("kpath",this.prepareKpath())},prepareKpath:function(){var a=[];return this.model.get("arrayKey")&&a.push(this.model.get("arrayKey")),this.model.get("fieldkey")&&a.push(this.model.get("fieldkey")),this.model.get("index")&&a.push(this.model.get("index")),this.model.get("primeKey")&&a.push(this.model.get("primeKey")),a.join(".")},kbfuid:function(){var a=this.model.get("index")||"";return a+this.model.get("fieldId")+this.model.get("primeKey")+this.model.get("type")}})},{}],115:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({templatePath:"fields/Checkbox",template:a("templates/fields/Checkbox.hbs"),type:"checkbox",render:function(){return this.template({model:this.model.toJSON()})}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/Checkbox.hbs":189}],116:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({templatePath:"fields/Color",template:a("templates/fields/Color.hbs"),type:"color",render:function(){return this.template({model:this.model.toJSON()})},getDefaults:function(){return""}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/Color.hbs":190}],117:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({templatePath:"fields/DateMultiple",template:a("templates/fields/DateMultiple.hbs"),type:"date-multiple",render:function(){var a=this.template({model:this.model.toJSON()});return this.setElement(a),this.$el},postRender:function(){var a=this;this.defaults={format:"d.m.Y H:i",inline:!1,mask:!0,lang:"de",allowBlank:!0,onChangeDateTime:function(b,c){a.$unixIn.val(b.dateFormat("unixtime")),a.$sqlIn.val(b.dateFormat("Y-m-d H:i:s"))}},this.settings=this.model.get("settings")||{},this.$unixIn=this.$(".kb-datetimepicker--js-unix"),this.$sqlIn=this.$(".kb-datetimepicker--js-sql"),this.$(".kb-datetimepicker").datetimepicker(_.extend(this.defaults,this.settings))}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/DateMultiple.hbs":191}],118:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({templatePath:"fields/DateTime",template:a("templates/fields/Datetime.hbs"),type:"datetime",render:function(){var a=this.template({model:this.model.toJSON()});return this.setElement(a),this.$el},postRender:function(){var a=this;this.defaults={format:"d.m.Y H:i",inline:!1,mask:!0,lang:"de",allowBlank:!0,onChangeDateTime:function(b,c){a.$unixIn.val(b.dateFormat("unixtime")),a.$sqlIn.val(b.dateFormat("Y-m-d H:i:s"))}},this.settings=this.model.get("settings")||{},this.$unixIn=this.$(".kb-datetimepicker--js-unix"),this.$sqlIn=this.$(".kb-datetimepicker--js-sql"),this.$(".kb-datetimepicker").datetimepicker(_.extend(this.defaults,this.settings))}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/Datetime.hbs":192}],119:[function(a,b,c){var d=a("common/TinyMCE"),e=a("fieldsAPI/definitions/baseView");b.exports=e.extend({$editorWrap:null,templatePath:"fields/Editor",template:a("templates/fields/Editor.hbs"),type:"editor",initialize:function(a){e.prototype.initialize.call(this,a)},setValue:function(a){this.model.set("value",a)},render:function(a){return this.index=a,this.template({config:this.config,baseId:this.baseId,index:a,model:this.model.toJSON()})},postRender:function(){var a,b=this,c=this.model.get("baseId")+"["+this.model.get("index")+"]["+this.model.get("primeKey")+"]",e=this.model.get("fieldId")+"_"+this.model.get("key")+"_editor_"+this.model.get("index");this.$editorWrap=jQuery(".kb-ff-editor-wrapper-"+this.model.get("index")+"-"+this.model.get("key"),this.$el);try{a=this.fieldModel.getEntityModel().View.isOpen(),a?d.remoteGetEditor(this.$editorWrap,c,e,this.model.get("value"),null,this.model.get("media")):this.listenToOnce(this.fieldModel.getEntityModel(),"kb.module.view.open",function(){d.remoteGetEditor(this.$editorWrap,c,e,b.model.get("value"),null,b.model.get("media"))})}catch(f){d.remoteGetEditor(this.$editorWrap,c,e,this.model.get("value"),null,this.model.get("media"))}}})},{"common/TinyMCE":59,"fieldsAPI/definitions/baseView":114,"templates/fields/Editor.hbs":193}],120:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({templatePath:"fields/File",template:a("templates/fields/File.hbs"),type:"file",render:function(){return this.template({model:this.model.toJSON(),i18n:_.extend(KB.i18n.Refields.file,KB.i18n.Refields.common)})},postRender:function(){var a=(this.model.get("value"),{}),b=this;_.isEmpty(this.model.get("value").id)||(a.post__in=[this.model.get("value").id],wp.media.query(a).more().done(function(){var a=this.first();a&&(a.set("attachment_id",a.get("id")),b.fieldModel&&b.fieldModel.FieldControlView&&b.fieldModel.FieldControlView.handleAttachment(a))}))}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/File.hbs":194}],121:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");a("common/Utilities"),a("common/Config");b.exports=d.extend({$currentWrapper:null,$currentFrame:null,templatePath:"fields/Image",template:a("templates/fields/Image.hbs"),type:"image",render:function(a){return this.template({model:this.model.toJSON(),i18n:_.extend(KB.i18n.Refields.image,KB.i18n.Refields.common)})},postRender:function(){var a=(this.model.get("value"),{}),b=this;_.isEmpty(this.model.get("value").id)||(a.post__in=[this.model.get("value").id],wp.media.query(a).more().done(function(){var a=this.first();a&&(a.set("attachment_id",a.get("id")),b.fieldModel&&b.fieldModel.FieldControlView&&b.fieldModel.FieldControlView.handleAttachment(a))}))}})},{"common/Config":53,"common/Utilities":61,"fieldsAPI/definitions/baseView":114,"templates/fields/Image.hbs":200}],122:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({templatePath:"fields/Link",template:a("templates/fields/Link.hbs"),type:"link",render:function(){return this.template({i18n:_.extend(KB.i18n.Refields.link,KB.i18n.Refields.common),model:this.model.toJSON()})},getDefaults:function(){return{link:"",linktext:"",linktitle:""}}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/Link.hbs":201}],123:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({templatePath:"fields/Medium",template:a("templates/fields/Medium.hbs"),type:"medium",render:function(){return this.template({model:this.model.toJSON()})},postRender:function(){},getDefaults:function(){return""}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/Medium.hbs":202}],124:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({templatePath:"fields/Oembed",template:a("templates/fields/Oembed.hbs"),type:"oembed",render:function(){return this.template({model:this.model.toJSON()})},getDefaults:function(){return""}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/Oembed.hbs":203}],125:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({templatePath:"fields/Radioset",template:a("templates/fields/Radioset.hbs"),type:"radioset",render:function(){return this.template({model:this.model.toJSON()})}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/Radioset.hbs":204}],126:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({templatePath:"fields/Text",template:a("templates/fields/Select.hbs"),type:"select",render:function(){return this.template({model:this.model.toJSON()})}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/Select.hbs":205}],127:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({templatePath:"fields/TextMultiple",template:a("templates/fields/TextMultiple.hbs"),type:"text-multiple",render:function(){var a=this.template({model:this.model.toJSON()});return this.setElement(a),this.$el}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/TextMultiple.hbs":207}],128:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({templatePath:"fields/Text",template:a("templates/fields/Text.hbs"),type:"text",render:function(){return this.template({model:this.model.toJSON()})},getDefaults:function(){return""},charcount:function(a,b,c){var d=c,e=a.length,f=d-e;b.html(f+" chars left")}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/Text.hbs":206}],129:[function(a,b,c){var d=a("fieldsAPI/definitions/baseView");b.exports=d.extend({type:"textarea",templatePath:"fields/Textarea",template:a("templates/fields/Textarea.hbs"),render:function(){return this.template({model:this.model.toJSON()})},getDefaults:function(){return""}})},{"fieldsAPI/definitions/baseView":114,"templates/fields/Textarea.hbs":208}],130:[function(a,b,c){var d=a("hbsfy/runtime");d.registerHelper("debug",function(a){console.log("Current Context"),console.log("===================="),console.log(this),a&&(console.log("Value"),console.log("===================="),console.log(a))}),d.registerHelper("fieldName",function(a,b,c){return a+"["+b+"]["+c+"]"}),d.registerHelper("ifCond",function(a,b,c,d){switch(b){case"==":return a==c?d.fn(this):d.inverse(this);case"===":return a===c?d.fn(this):d.inverse(this);case"<":return c>a?d.fn(this):d.inverse(this);case"<=":return c>=a?d.fn(this):d.inverse(this);case">":return a>c?d.fn(this):d.inverse(this);case">=":return a>=c?d.fn(this):d.inverse(this);case"&&":return a&&c?d.fn(this):d.inverse(this);case"||":return a||c?d.fn(this):d.inverse(this);default:return d.inverse(this)}}),d.registerHelper("trimString",function(a,b){b=b||50;var c=a.length>b,e=a.substring(0,b);return c&&(e+="…"),new d.SafeString(e)})},{"hbsfy/runtime":245}],131:[function(a,b,c){var d=a("./modulecontrols/EditControl"),e=a("./modulecontrols/UpdateControl"),f=a("./modulecontrols/DeleteControl"),g=a("./modulecontrols/MoveControl"),h=a("./modulecontrols/DraftControl"),i=a("templates/frontend/module-controls.hbs");b.exports=Backbone.View.extend({ModuleView:null,$menuList:null,initialize:function(a){this.ModuleView=a.ModuleView},derender:function(){this.$el.detach()},rerender:function(){var a=this;this.ModuleView.$el.append(this.$el),_.defer(function(){a.reposition()})},render:function(){this.ModuleView.$el.append(i({model:this.ModuleView.model.toJSON(),i18n:KB.i18n.jsFrontend})),this.$el=jQuery('[data-kb-mcontrols="'+this.model.get("mid")+'"]',this.ModuleView.$el),this.$menuList=this.$(".kb-controls-wrap"),this.EditControl=this.addItem(new d({model:this.ModuleView.model,parent:this.ModuleView})),this.UpdateControl=this.addItem(new e({model:this.ModuleView.model,parent:this.ModuleView})),this.DeleteControl=this.addItem(new f({model:this.ModuleView.model,parent:this.ModuleView})),this.MoveControl=this.addItem(new g({model:this.ModuleView.model,parent:this.ModuleView})),this.DraftControl=this.addItem(new h({model:this.ModuleView.model,parent:this.ModuleView}))},addItem:function(a){return a.isValid&&a.isValid()===!0?(this.$menuList.append(a.render()),a.listenToOnce(this,"controls.remove",a.remove),a):void 0},dispose:function(){this.trigger("controls.remove"),this.remove()},reposition:function(){var a,b,c,d,e,f;a=0,b=0,c=this.model.get("settings"),d=this.model.get("submodule"),e=this.ModuleView.$el.offset(),f=this.ModuleView.$el.height(),c.controls&&c.controls.toolbar&&(e.top=c.controls.toolbar.top,e.left=c.controls.toolbar.left),"hidden"!==this.ModuleView.$el.css("overflow")&&e.top>60&&119>f&&(a=-25),"hidden"!==this.ModuleView.$el.css("overflow")&&e.left>100&&f>120&&this.ModuleView.$el["class"]&&(a=0,b=-30,this.ModuleView.$el.addClass("kb-module-nav__vertical")),e.top<20&&(a=10),0==a&&(a=20),0==b&&(b=20),d&&(a+=50),this.$el.css({top:a+"px",left:b})}})},{"./modulecontrols/DeleteControl":133,"./modulecontrols/DraftControl":134,"./modulecontrols/EditControl":135,"./modulecontrols/MoveControl":136,"./modulecontrols/UpdateControl":137,"templates/frontend/module-controls.hbs":210}],132:[function(a,b,c){b.exports=Backbone.View.extend({tagName:"div",isValid:function(){return!0},render:function(){return this.el},dispose:function(){this.remove()}})},{}],133:[function(a,b,c){var d=a("frontend/Views/ModuleControls/modulecontrols/ControlsBaseView"),e=a("common/Checks"),f=a("common/Config"),g=a("common/Notice"),h=a("common/Ajax");b.exports=d.extend({initialize:function(a){this.options=a||{},this.Parent=a.parent},className:"kb-module-control kb-module-control--delete",events:{click:"confirmRemoval"},confirmRemoval:function(){g.confirm("Remove",KB.i18n.EditScreen.notices.confirmDeleteMsg,this.removeModule,this.cancelRemoval,this)},removeModule:function(){var a=this;h.send({action:"removeModules",_ajax_nonce:f.getNonce("delete"),module:a.model.get("mid"),postId:a.model.get("postId")},this.afterRemoval,this)},afterRemoval:function(){this.Parent.$el.parent(".kb-wrap").remove(),this.trigger("remove"),KB.Modules.remove(this.model)},cancelRemoval:function(){return!1},isValid:function(){return e.userCan("delete_kontentblocks")}})},{"common/Ajax":50,"common/Checks":52,"common/Config":53,"common/Notice":57,"frontend/Views/ModuleControls/modulecontrols/ControlsBaseView":132}],134:[function(a,b,c){var d=a("frontend/Views/ModuleControls/modulecontrols/ControlsBaseView");b.exports=d.extend({initialize:function(a){this.options=a||{},this.Parent=a.parent,this.$el.append("<div>Draft! Only visible while logged in</div>"),this.listenTo(this.Parent.model,"change:state",this.recheck),this.recheck(this.Parent.model.get("state"))},className:"kb-module-control kb-module-control--draft",isValid:function(){return!0},recheck:function(a){a.draft?this.$el.show():this.$el.hide()}})},{"frontend/Views/ModuleControls/modulecontrols/ControlsBaseView":132}],135:[function(a,b,c){var d=a("frontend/Views/ModuleControls/modulecontrols/ControlsBaseView"),e=a("common/Checks");b.exports=d.extend({initialize:function(a){this.options=a||{},this.parent=a.parent},className:"kb-module-control kb-module-control--edit",events:{click:"openForm"},openForm:function(){return KB.EditModalModules.openView(this.parent,!1,!1),KB.focusedModule=this.model,this},isValid:function(){return e.userCan("edit_kontentblocks")}})},{"common/Checks":52,"frontend/Views/ModuleControls/modulecontrols/ControlsBaseView":132}],136:[function(a,b,c){var d=a("frontend/Views/ModuleControls/modulecontrols/ControlsBaseView"),e=a("common/Checks");b.exports=d.extend({initialize:function(a){this.options=a||{},this.Parent=a.parent},className:"kb-module-control kb-module-control--move",isValid:function(){return this.Parent.model.Area?e.userCan("edit_kontentblocks")&&this.Parent.model.Area.get("sortable")&&!this.model.get("submodule"):!1}})},{"common/Checks":52,"frontend/Views/ModuleControls/modulecontrols/ControlsBaseView":132}],137:[function(a,b,c){var d=a("frontend/Views/ModuleControls/modulecontrols/ControlsBaseView"),e=a("common/Checks"),f=a("common/Config"),g=a("common/Notice");b.exports=d.extend({initialize:function(a){this.options=a||{},this.Parent=a.parent},className:"kb-module-control kb-module-control--update",events:{click:"update"},update:function(){var a=this,b=!1;jQuery.ajax({url:ajaxurl,data:{action:"updateModule",data:a.model.get("entityData"),module:a.model.toJSON(),editmode:"update",refresh:b,_ajax_nonce:f.getNonce("update")},type:"POST",dataType:"json",success:function(c){b&&a.$el.html(c.html),tinymce.triggerSave(),a.model.set("entityData",c.data.newModuleData),a.Parent.render(),a.Parent.trigger("kb.frontend.module.inline.saved"),a.model.trigger("module.model.updated",a.model),g.notice("Module saved successfully","success"),a.Parent.$el.removeClass("isDirty")},error:function(){g.notice("There went something wrong","error")}})},isValid:function(){return e.userCan("edit_kontentblocks")}})},{"common/Checks":52,"common/Config":53,"common/Notice":57,"frontend/Views/ModuleControls/modulecontrols/ControlsBaseView":132}],138:[function(a,b,c){var d=a("frontend/Views/ModuleControls/ModuleControls"),e=a("common/Checks"),f=a("shared/ModuleStatusBar/ModuleStatusBarView"),g=a("shared/ModuleStatusBar/status/TemplateStatus"),h=a("shared/ModuleStatusBar/status/PublishStatus"),i=a("templates/frontend/module-placeholder.hbs");b.exports=Backbone.View.extend({focus:!1,attachedFields:{},initialize:function(){this.Controls=new d({ModuleView:this,model:this.model}),0!==this.$el.length&&e.userCan("edit_kontentblocks")&&(this.model.View=this,this.model.trigger("module.model.view.attached",this),this.bindHandlers(),this.render(),KB.Events.on("reposition",this.setControlsPosition,this))},bindHandlers:function(){this.listenTo(this.model,"change",this.getDirty),this.listenTo(this.model,"module.model.updated",this.getClean),this.listenTo(this.model,"module.model.clean",this.getClean)},events:{"click .kb-module__placeholder":"openOptions","click .editable":"reloadModal","mouseenter.first":"setActive"},renderStatusBar:function(a){this.ModuleStatusBar=new f({el:a,parent:this}),this.ModuleStatusBar.addItem(new g({model:this.model,parent:this})),this.ModuleStatusBar.addItem(new h({model:this.model,parent:this}))},openOptions:function(){this.Controls.EditControl.openForm()},setActive:function(){KB.currentModule=this},rerender:function(){var a=this;this.setElement(jQuery("#"+this.model.get("mid"))),_.defer(function(){a.Controls.rerender()})},derender:function(){this.Controls.derender(),this.$el.remove()},render:function(){var a;this.$el.hasClass("draft")&&""==this.$el.html()&&this.renderPlaceholder(),this.$el.attr("rel",this.model.get("mid")+"_"+_.uniqueId()),a=this.model.get("settings"),a.controls&&a.controls.hide||(this.Controls.render(),this.setControlsPosition())},setControlsPosition:function(){this.Controls.reposition()},reloadModal:function(a){return KB.EditModalModules&&KB.EditModalModules.reload(this,a),KB.focusedModule=this.model,this},renderPlaceholder:function(){this.$el.append(i({model:this.model.toJSON()}))},addField:function(a){this.attachedFields[a.cid]=a},hasField:function(a,b){return _.isEmpty(b)?a in this.attachedFields:(this.attachedFields[b]||(this.attachedFields[b]={}),a in this.attachedFields[b])},getField:function(a,b){return _.isEmpty(b)?this.attachedFields[a]:this.attachedFields[b][a]},clearFields:function(){this.attachedFields={}},getDirty:function(){this.$el.addClass("isDirty"),this.trigger("view.became.dirty",this)},getClean:function(){this.$el.removeClass("isDirty"),this.trigger("view.became.clean",this)},modelChange:function(){this.getDirty()},dispose:function(){this.Controls.dispose(),delete this.model.View,this.stopListening(),this.remove()}})},{"common/Checks":52,"frontend/Views/ModuleControls/ModuleControls":131,"shared/ModuleStatusBar/ModuleStatusBarView":150,"shared/ModuleStatusBar/status/PublishStatus":154,"shared/ModuleStatusBar/status/TemplateStatus":163,"templates/frontend/module-placeholder.hbs":211}],139:[function(a,b,c){var d=a("templates/backend/batch-delete.hbs"),e=a("common/Ajax"),f=a("common/Config"),g=a("common/TinyMCE"),h=a("common/I18n"),i=Backbone.View.extend({collection:{},visible:!1,className:"kb-batch-delete-wrap",events:{"click .kb-batch-delete--action-delete":"process","click .kb-batch-delete--action-reset":"reset"},initialize:function(){this.render()},render:function(){this.$el.append(d({i18n:h.getString("EditScreen.batchdelete")})),jQuery("body").append(this.$el)},add:function(a){this.collection[a.model.id]=a,this.refresh()},remove:function(a){this.collection[a.model.id]&&delete this.collection[a.model.id],this.refresh()},refresh:function(){var a=_.size(this.collection);a>0?this.show():this.hide()},reset:function(){_.each(this.collection,function(a){a.unmark(),this.remove(a)},this)},process:function(){var a=[];_.each(this.collection,function(b,c,d){a.push(c)}),e.send({action:"batchRemoveModules",_ajax_nonce:f.getNonce("delete"),modules:a},this.success,this)},success:function(a){var b=this;a.data.modules&&_.each(a.data.modules,function(a,c){if(a){var d=this.collection[c];g.removeEditors(d.model.View.$el),KB.Modules.remove(d.model),wp.heartbeat.interval("fast",2),d.model.destroy(),b.hide()}},this)},show:function(){this.$el.addClass("visible")},hide:function(){this.$el.removeClass("visible")}});b.exports=new i},{"common/Ajax":50,"common/Config":53,"common/I18n":54,"common/TinyMCE":59,"templates/backend/batch-delete.hbs":167}],140:[function(a,b,c){var d=a("common/Notice"),e=a("templates/frontend/change-observer.hbs"),f=a("common/I18n"),g=a("common/Config");b.exports=Backbone.View.extend({models:new Backbone.Collection,className:"kb-change-observer",initialize:function(){this.listenTo(KB.Modules,"add",this.attachHandler),this.render()},events:{"click .kb-button":"saveAll"},render:function(){this.$el.append(e({strings:f.getString("UI.changeObserver")})),this.$el.appendTo("body")},attachHandler:function(a){this.listenTo(a,"change:entityData",this.add),this.listenTo(a,"module.model.updated",this.remove),this.listenTo(a,"module.model.clean",this.remove)},add:function(a){this.models.add(a),this.trigger("change"),this.handleState()},remove:function(a){this.models.remove(a,{silent:!0}),this.trigger("change"),this.handleState()},getModels:function(){return this.models},saveAll:function(){tinyMCE.triggerSave(),_.each(this.models.models,function(a){a.sync(!0)}),g.isAdmin()||d.notice("Data is safe.","success"),this.trigger("change")},handleState:function(){var a=this.models.models.length;a>0?this.$el.addClass("show"):this.$el.removeClass("show")}})},{"common/Config":53,"common/I18n":54,"common/Notice":57,"templates/frontend/change-observer.hbs":209}],141:[function(a,b,c){b.exports=Backbone.Collection.extend({initialize:function(){this.listenTo(this,"add",this.attachHandler)},attachHandler:function(a){this.listenTo(a,"remove",this.removeModel)},removeModel:function(a){this.remove(a,{silent:!0})}})},{}],142:[function(a,b,c){var d=a("shared/ModuleBrowser/ModuleBrowserDefinitions"),e=a("shared/ModuleBrowser/ModuleDefinitionModel"),f=a("shared/ModuleBrowser/ModuleBrowserDescriptions"),g=a("shared/ModuleBrowser/ModuleBrowserNavigation"),h=a("common/Checks"),i=a("common/Notice"),j=a("common/Payload"),k=a("common/Ajax"),l=a("common/TinyMCE"),m=a("common/Config"),n=a("templates/backend/modulebrowser/module-browser.hbs");b.exports=Backbone.View.extend({initialize:function(a){this.options=a||{},this.isOpen=!1,this.area=this.options.area,this.viewMode=this.getViewMode(),this.modulesDefinitions=new d(this.prepareAssignedModules(),{model:e,area:this.options.area}).setup(),this.$el.append(n({viewMode:this.getViewModeClass()})),this.$backdrop=jQuery('<div class="kb-module-browser--backdrop"></div>'),this.$list=jQuery(".modules-list",this.$el),this.subviews.ModuleDescription=new f({el:jQuery(".module-description",this.$el),browser:this}),this.subviews.Navigation=new g({el:jQuery(".module-categories",this.$el),cats:this.modulesDefinitions.categories,browser:this}),this.listenTo(this.subviews.Navigation,"browser:change",this.update),this.bindHandlers()},tagName:"div",id:"module-browser",className:"kb-overlay",events:{"click .close-browser":"close","click .module-browser--switch__list-view":"toggleViewMode","click .module-browser--switch__grid-view":"toggleViewMode"},subviews:{},toggleViewMode:function(){jQuery(".module-browser-wrapper",this.$el).toggleClass("module-browser--list-view module-browser--grid-view");var a="mdb_"+this.area.model.get("id")+"_state",b=store.get(a);"list"==b?(this.viewMode="grid",store.set(a,"grid")):(this.viewMode="list",store.set(a,"list"))},render:function(){this.open()},getViewMode:function(){var a="mdb_"+this.area.model.get("id")+"_state";return store.get(a)?store.get(a):(store.set(a,"list"),"list")},getViewModeClass:function(){return"list"===this.viewMode?"module-browser--list-view":"module-browser--grid-view"},bindHandlers:function(){var a=this;jQuery("body").on("click",function(b){a.isOpen&&jQuery(b.target).is(".kb-module-browser--backdrop")&&a.close()}),jQuery(document).keydown(function(b){if(a.isOpen){switch(b.which){case 27:a.close();break;default:return}b.preventDefault()}})},open:function(){this.$el.appendTo("body"),this.$backdrop.appendTo("body"),jQuery("#wpwrap").addClass("module-browser-open"),jQuery(".kb-nano").nanoScroller({flash:!0,contentClass:"kb-nano-content"}),this.isOpen=!0},close:function(){jQuery("#wpwrap").removeClass("module-browser-open"),this.trigger("browser:close"),this.$backdrop.detach(),this.$el.detach(),this.isOpen=!1},update:function(a){var b=a.model.get("id");this.modulesDefinitions.getModules(b);a.renderList()},loadDetails:function(a){this.subviews.ModuleDescription.model=a,this.subviews.ModuleDescription.update()},createModule:function(a){var b,c;return h.userCan("create_kontentblocks")||i.notice("You're not allowed to do this","error"),b=KB.Areas.get(this.options.area.model.get("id")),h.blockLimit(b)?(c={action:"createNewModule","class":a.get("settings")["class"],globalModule:a.get("globalModule"),parentObject:a.get("parentObject"),parentObjectId:a.get("parentObjectId"),areaContext:this.options.area.model.get("context"),area:this.options.area.model.get("id"),_ajax_nonce:m.getNonce("create"),frontend:KB.appData.config.frontend,submodule:!1},this.options.area.model.get("parent_id")&&(c.postId=this.options.area.model.get("parent_id")),this.close(),void k.send(c,this.success,this)):(i.notice("Limit for this area reached","error"),!1)},success:function(a){var b,c;c=a.data,this.options.area.$modulesList.append(c.html),b=KB.ObjectProxy.add(KB.Modules.add(c.module)),this.options.area.attachModule(b),this.parseAdditionalJSON(c.json),b.View.trigger("toggle.open"),setTimeout(function(){KB.Fields.trigger("newModule",b.View),l.addEditor(b.View.$el)},150),this.trigger("browser.module.created",{res:a})},parseAdditionalJSON:function(a){KB.payload.Fields||(KB.payload.Fields={}),_.extend(KB.payload.Fields,a.Fields),j.parseAdditionalJSON(a)},prepareAssignedModules:function(){var a=this.area.model.get("assignedModules"),b=[];return _.each(j.getPayload("ModuleDefinitions"),function(c){-1!==_.indexOf(a,c.settings["class"])&&b.push(c)}),KB.Events.trigger("module.browser.setup.defs",this,b),b}})},{"common/Ajax":50,"common/Checks":52,"common/Config":53,"common/Notice":57,"common/Payload":58,"common/TinyMCE":59,"shared/ModuleBrowser/ModuleBrowserDefinitions":143,"shared/ModuleBrowser/ModuleBrowserDescriptions":144,"shared/ModuleBrowser/ModuleBrowserNavigation":147,"shared/ModuleBrowser/ModuleDefinitionModel":149,"templates/backend/modulebrowser/module-browser.hbs":173}],143:[function(a,b,c){var d=a("common/Payload");b.exports=Backbone.Collection.extend({initialize:function(a,b){this.area=b.area},setup:function(){return this.categories=this.prepareCategories(),this.sortToCategories(),this},getModules:function(a){return this.categories[a]?this.categories[a].modules:void 0},getCategories:function(){return this.categories},sortToCategories:function(){var a=this;_.each(this.models,function(b){if(a.validateVisibility(b)){var c=_.isUndefined(b.get("settings").category)?"standard":b.get("settings").category;a.categories[c].modules.push(b)}})},validateVisibility:function(a){return a.get("settings").hidden?!1:a.get("settings").disabled?!1:!(!a.get("settings").globalModule&&this.area.model.get("dynamic"))},prepareCategories:function(){var a={},b=d.getPayload("ModuleCategories");return _.each(b,function(b,c){a[c]={id:c,name:b,modules:[]}}),KB.Events.trigger("module.browser.setup.cats",a),a}})},{"common/Payload":58}],144:[function(a,b,c){var d=a("templates/backend/modulebrowser/module-template-description.hbs"),e=a("templates/backend/modulebrowser/module-description.hbs");b.exports=Backbone.View.extend({initialize:function(a){this.options=a||{},this.Browser=a.browser,this.Browser.on("browser:close",this.close,this)},events:{"click .kb-js-create-module":"createModule"},update:function(){this.$el.empty(),this.model.get("template")?this.$el.html(d({module:this.model.toJSON(),i18n:KB.i18n})):this.$el.html(e({module:this.model.toJSON(),i18n:KB.i18n})),this.model.get("settings").helptext!==!1&&this.$el.append(this.model.get("settings").helptext)},close:function(){},createModule:function(){this.Browser.createModule(this.model)}})},{"templates/backend/modulebrowser/module-description.hbs":174,"templates/backend/modulebrowser/module-template-description.hbs":176}],145:[function(a,b,c){var d=a("shared/ModuleBrowser/ModuleBrowserListItem");b.exports=Backbone.View.extend({initialize:function(a){this.options=a||{},this.cat=a.cat},modules:{},subviews:{},setModules:function(a){return this.modules=a,this},update:function(){var a=this,b=!1;this.$el.empty();var c=this.cat.model.get("modules");c.sort(function(a,b){return a.get("settings").name>b.get("settings").name?1:b.get("settings").name>a.get("settings").name?-1:0}),_.each(c,function(c){a.subviews[c.cid]=new d({model:c,parent:a,browser:a.options.browser}),b===!1&&(a.options.browser.loadDetails(c),b=!b),a.$el.append(a.subviews[c.cid].render(a.$el))})},render:function(){}})},{"shared/ModuleBrowser/ModuleBrowserListItem":146}],146:[function(a,b,c){var d=a("templates/backend/modulebrowser/module-template-list-item.hbs"),e=a("templates/backend/modulebrowser/module-list-item.hbs"),f=a("templates/backend/modulebrowser/poster.hbs");b.exports=Backbone.View.extend({tagName:"div",className:"modules-list-item",initialize:function(a){this.options=a||{},this.Browser=a.browser,this.area=a.browser.area},render:function(a){this.model.get("globalModule")?this.$el.html(d({module:this.model.toJSON(),i18n:KB.i18n})):this.$el.html(e({module:this.model.toJSON(),i18n:KB.i18n})),a.append(this.$el),this.model.get("settings").poster!==!1&&this.$el.qtip({content:{text:f({module:this.model.toJSON()})},style:{classes:"kb-qtip"},position:{my:"top left",at:"bottom right",target:"mouse",adjust:{x:80,y:20}}})},events:{click:"handleClick","click .kb-js-create-module":"handlePlusClick"},handleClick:function(){"list"===this.Browser.viewMode?this.createModule():this.Browser.loadDetails(this.model)},handlePlusClick:function(){return"list"===this.Browser.viewMode?(this.handleClick(),!1):void this.createModule()},createModule:function(){this.Browser.createModule(this.model)},close:function(){this.remove()}})},{"templates/backend/modulebrowser/module-list-item.hbs":175,"templates/backend/modulebrowser/module-template-list-item.hbs":177,"templates/backend/modulebrowser/poster.hbs":178}],147:[function(a,b,c){var d=a("shared/ModuleBrowser/ModuleBrowserTabItemView");b.exports=Backbone.View.extend({catSet:!1,initialize:function(a){var b=this;this.options=a||{},this.$list=jQuery("<div></div>").appendTo(this.$el),_.each(this.options.cats,function(a){var c=new Backbone.Model(a);new d({parent:b,model:c,browser:b.options.browser}).render()})}})},{"shared/ModuleBrowser/ModuleBrowserTabItemView":148}],148:[function(a,b,c){var d=a("shared/ModuleBrowser/ModuleBrowserList");b.exports=Backbone.View.extend({initialize:function(a){if(this.options=a||{},this.model.get("listRenderer")){var b=this.model.get("listRenderer");this.listRenderer=new b({cat:this,el:a.browser.$list,browser:a.browser})}else this.listRenderer=new d({cat:this,el:a.browser.$list,browser:a.browser})},tagName:"div",className:"cat-item",events:{click:"change"},change:function(){this.options.parent.trigger("browser:change",this),this.$el.addClass("active"),jQuery(".cat-item").not(this.$el).removeClass("active")},render:function(){var a=_.keys(this.model.get("modules")).length,b=" ("+a+")";return 0===a?!1:(this.options.parent.catSet===!1&&(this.options.parent.catSet=!0,this.options.browser.update(this),this.$el.addClass("active")),void this.options.parent.$list.append(this.$el.html(this.model.get("name")+'<span class="module-count">'+b+"</span>")))},renderList:function(){this.listRenderer.update()}})},{"shared/ModuleBrowser/ModuleBrowserList":145}],149:[function(a,b,c){b.exports=Backbone.Model.extend({initialize:function(){
var a=this;this.id=function(){return"template"===a.get("settings").category?a.get("mid"):a.get("settings")["class"]}()}})},{}],150:[function(a,b,c){var d=a("backend/Views/ModuleControls/ControlsView");b.exports=d.extend({tagName:"div",className:"kb-module--status-bar-list",initialize:function(a){this.$menuWrap=jQuery(".kb-module--status-bar",this.$el),this.$menuWrap.append("<div class='kb-module--status-bar-list'></div>"),this.$menuList=jQuery(".kb-module--status-bar-list",this.$menuWrap)}})},{"backend/Views/ModuleControls/ControlsView":23}],151:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("templates/backend/status/draft.hbs"),f=a("common/Ajax"),g=a("common/Config"),h=a("common/I18n"),i=a("common/Notice");b.exports=d.extend({className:"kb-status-draft",id:"status",events:{click:"toggleDraft"},isValid:function(){return!0},render:function(){var a=this.model.get("state").draft,b=this.model.View.$el;this.$el.append(e({draft:this.model.get("state").draft,strings:h.getString("Modules.tooltips")})),a?b.addClass("kb-module-draft"):b.removeClass("kb-module-draft")},toggleDraft:function(){var a=this;f.send({action:"undraftModule",module:this.model.toJSON(),_ajax_nonce:g.getNonce("update")}).done(function(){a.model.get("state").draft=!a.model.get("state").draft,a.$el.empty(),a.render(),i.notice("Status changed","success")})}})},{"backend/Views/BaseControlView":13,"common/Ajax":50,"common/Config":53,"common/I18n":54,"common/Notice":57,"templates/backend/status/draft.hbs":179}],152:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("templates/backend/status/loggedin.hbs");b.exports=d.extend({id:"loggedIn",controller:null,className:"kb-status-loggedin",initialize:function(a){this.moduleView=a.parent,this.listenTo(this.model,"override:loggedinonly",this.rerender)},isValid:function(){return!0},render:function(){this.$el.append(e({model:this.model.toJSON(),i18n:KB.i18n}))},rerender:function(){this.$el.empty(),this.render()}})},{"backend/Views/BaseControlView":13,"templates/backend/status/loggedin.hbs":180}],153:[function(a,b,c){var d=a("backend/Views/BaseControlView");b.exports=d.extend({id:"name",className:"kb-status-name  ",isValid:function(){return!0},render:function(){this.$el.append('<span class="kb-module--status-label">Original Module Name<br></span>'+this.model.get("settings").publicName)}})},{"backend/Views/BaseControlView":13}],154:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("templates/backend/status/publish.hbs"),f=a("common/Ajax"),g=a("common/Config"),h=a("common/I18n");b.exports=d.extend({id:"publish",className:"kb-status-draft",events:{click:"toggleDraft"},isValid:function(){return!0},render:function(){var a=this.model.get("state").draft,b=this.model.View.$el;this.$el.append(e({draft:this.model.get("state").draft,strings:h.getString("Modules.tooltips")})),a?b.addClass("kb-module-draft"):b.removeClass("kb-module-draft")},toggleDraft:function(){var a=this;f.send({action:"undraftModule",module:this.model.toJSON(),_ajax_nonce:g.getNonce("update")}).done(function(){a.model.get("state").draft=!a.model.get("state").draft,a.$el.empty(),a.render(),a.model.trigger("change:state",a.model.get("state"))})}})},{"backend/Views/BaseControlView":13,"common/Ajax":50,"common/Config":53,"common/I18n":54,"templates/backend/status/publish.hbs":181}],155:[function(a,b,c){var d=a("templates/backend/status/settings/modal-inner.hbs"),e=a("./SettingsTabsController"),f=a("./controls/LoggedInOnly"),g=a("./controls/WrapperClasses");b.exports=Backbone.View.extend({tagName:"div",className:"kb-status-settings-modal kb-hide",events:{"click .kb-modal-close":"close"},rendered:!1,initialize:function(a){this.listenTo(this.model,"remove",this.dispose),this.moduleView=a.moduleView,this.$el.attr("id",this.model.get("mid")+"-settings-modal"),this.$el.append(d({model:this.model.toJSON(),i18n:KB.i18n})),this.tabController=new e({controller:this,model:this.model,el:this.$(".kb-status-settings--tab-nav")}),this.setupTabItems()},setupTabItems:function(){this.tabController.addItem({id:"visibility",label:KB.i18n.Modules.settings.label.visibility},new f({model:this.model,controller:this,bindId:"loggedinonly"})),this.tabController.addItem({id:"details",label:KB.i18n.Modules.settings.label.details},new g({model:this.model,controller:this,bindId:"wrapperclasses"}))},open:function(){return this.rendered?(this.$el.detach(),this.$el.appendTo("body"),this.$el.removeClass("kb-hide"),this.tabController.$el.tabs("enable")):(this.$el.appendTo("body").removeClass("kb-hide"),this.rendered=!0,this.bindHandlers(),this.tabController.$el.tabs()),jQuery("#wpwrap").addClass("module-browser-open"),this},close:function(){return this.$el.detach(),this.$el.appendTo(this.moduleView.$el),this.$el.addClass("kb-hide"),jQuery("#wpwrap").removeClass("module-browser-open"),this.tabController.$el.tabs("disable"),this},dispose:function(){delete this.model,delete this.moduleView,this.remove()},bindHandlers:function(){var a=this;a.$inputs=a.$("input"),a.$inputs.on("change",function(){var b=jQuery(this),c=b.data("kbms-key"),d=b.val(),e=b.attr("type");switch(e){case"checkbox":a.moduleView.model.get("overrides")[c]=b.is(":checked");break;default:a.moduleView.model.get("overrides")[c]=d}a.moduleView.trigger("kb::module.input.changed"),a.model.trigger("override:"+c)})}})},{"./SettingsTabsController":156,"./controls/LoggedInOnly":159,"./controls/WrapperClasses":160,"templates/backend/status/settings/modal-inner.hbs":183}],156:[function(a,b,c){var d=a("./TabSection");b.exports=Backbone.View.extend({initialize:function(a){this.controller=a.controller,this.$navList=this.$(".kb-status-settings--tab-nav-list"),this.sections={}},addItem:function(a,b){var c=this.createSection(a);c.addField(b)},render:function(){},createSection:function(a){if(!this.sections[a.id]){var b=this.model.get("mid")+"_tab_"+a.id,c=new d({model:this.model,sectionId:a.id,containerId:b,id:b});this.$el.append(c.$el),this.$navList.append('<li><a href="#'+b+'">'+a.label+"</a></li>"),this.sections[a.id]=c}return this.sections[a.id]}})},{"./TabSection":157}],157:[function(a,b,c){b.exports=Backbone.View.extend({initialize:function(a){this.sectionId=a.sectionId,this.containerId=a.containerId,this.fields={}},addField:function(a){this.fields[a.bindId]||(this.fields[a.bindId]=a),this.$el.append(a.render())}})},{}],158:[function(a,b,c){b.exports=Backbone.View.extend({className:"kbms-field-wrap",initialize:function(a){this.bindId=a.bindId},events:{"change input":"propagateChange"},propagateChange:function(a){var b=this.model.get("overrides");b[this.bindId]=this.getOverrideValue(a),this.model.set("overrides",b)},getOverrideValue:function(a){return null}})},{}],159:[function(a,b,c){var d=a("templates/backend/status/settings/loggedInOnly.hbs"),e=a("./ControlView");b.exports=e.extend({render:function(){return this.$el.append(d({model:this.model.toJSON(),i18n:KB.i18n})),this.$el},getOverrideValue:function(a){return this.$("input").is(":checked")}})},{"./ControlView":158,"templates/backend/status/settings/loggedInOnly.hbs":182}],160:[function(a,b,c){var d=a("templates/backend/status/settings/wrapperClasses.hbs"),e=a("./ControlView");b.exports=e.extend({render:function(){return this.$el.append(d({model:this.model.toJSON(),i18n:KB.i18n})),this.$el},getOverrideValue:function(a){return this.$("input").val()}})},{"./ControlView":158,"templates/backend/status/settings/wrapperClasses.hbs":184}],161:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("shared/ModuleStatusBar/status/Settings/SettingsStatusController");b.exports=d.extend({id:"settings",controller:null,className:"kb-status-settings",events:{click:"openController"},initialize:function(a){this.moduleView=a.parent},isValid:function(){return!0},render:function(){this.$el.append('<span class="kb-module--status-label kb-cursor-pointer">Settings</span><br><span class="dashicons dashicons-admin-generic kb-cursor-pointer"></span>')},openController:function(){this.getController().open()},getController:function(){return this.controller||(this.controller=new e({moduleView:this.moduleView,model:this.moduleView.model})),this.controller}})},{"backend/Views/BaseControlView":13,"shared/ModuleStatusBar/status/Settings/SettingsStatusController":155}],162:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("backend/Views/TemplateEditor/CodemirrorOverlay"),f=a("common/Config");b.exports=d.extend({id:"templateEditor",controller:null,className:"kb-status-settings",events:{click:"openController"},initialize:function(a){this.moduleView=a.parent},isValid:function(){return f.get("moduleTemplateEditor")},render:function(){this.$el.append('<span class="kb-module--status-label kb-cursor-pointer">Template Editor</span><br><span class="dashicons dashicons-editor-code kb-cursor-pointer"></span>')},openController:function(){new e({module:this.model,moduleView:this.moduleView})}})},{"backend/Views/BaseControlView":13,"backend/Views/TemplateEditor/CodemirrorOverlay":38,"common/Config":53}],163:[function(a,b,c){var d=a("backend/Views/BaseControlView"),e=a("templates/backend/status/templates.hbs"),f=a("backend/Views/TemplateEditor/CodemirrorOverlay");b.exports=d.extend({id:"templates",controller:null,className:"kb-status-templates",initialize:function(a){this.moduleView=a.parent,this.views=this.prepareViews(this.model.get("views"))},events:{dblclick:"openEditor"},isValid:function(){return!0},render:function(a){var b=a||this.views,c=_.size(b)>1;this.$el.empty().append(e({show:c,module:this.model.toJSON(),views:b}))},openEditor:function(){new f({views:this.views,module:this.model})},prepareViews:function(a){return _.map(a,function(a){return a.selected=a.filename===this.model.get("viewfile")?'selected="selected"':"",a.isActive=a.filename===this.model.get("viewfile"),a},this)}})},{"backend/Views/BaseControlView":13,"backend/Views/TemplateEditor/CodemirrorOverlay":38,"templates/backend/status/templates.hbs":185}],164:[function(a,b,c){KB.ViewsCollection=function(){this.views={},this.lastViewAdded=null,this.add=function(a,b){return this.views[a]||(this.views[a]=b,KB.trigger("kb:"+b.model.get("class")+":added",b),this.trigger("view:add",b),this.lastViewAdded=b),b},this.ready=function(){_.each(this.views,function(a){a.trigger("kb:"+a.model.get("class"),a),KB.trigger("kb:"+a.model.get("class")+":loaded",a)}),KB.trigger("kb:ready")},this.readyOnFront=function(){_.each(this.views,function(a){a.trigger("kb:"+a.model.get("class"),a),KB.trigger("kb:"+a.model.get("class")+":loadedOnFront",a)}),KB.trigger("kb:ready")},this.remove=function(a){var b=this.get(a);b.model.Area.View.trigger("kb.module.deleted",b),this.trigger("kb.modules.view.deleted",b),delete this.views[a],b.dispose()},this.get=function(a){return this.views[a]?this.views[a]:void 0},this.filterByModelAttr=function(a,b){return _.filter(this.views,function(c){return c.model.get(a)===b})}},_.extend(KB.ViewsCollection.prototype,Backbone.Events),b.exports=KB.ViewsCollection},{}],165:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){var f;return"        <span class='kb-area-block_limit'>Mögliche Anzahl Module: "+a.escapeExpression(a.lambda(null!=(f=null!=b?b.model:b)?f.limit:f,b))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return"<div class='add-modules cantsort'>\n"+(null!=(f=c["if"].call(null!=b?b:a.nullContext||{},null!=b?b.showLimit:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'    <a class="modal modules-link" href="">\n        '+a.escapeExpression(a.lambda(null!=(f=null!=(f=null!=(f=null!=b?b.i18n:b)?f.Areas:f)?f.ui:f)?f.addNewModule:f,b))+"\n    </a>\n</div>"},useData:!0})},{"hbsfy/runtime":245}],166:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<div class="kb-area__item-placeholder modules-link">\n    '+a.escapeExpression(a.lambda(null!=(f=null!=(f=null!=(f=null!=b?b.i18n:b)?f.Areas:f)?f.ui:f)?f.clickToAdd:f,b))+"\n</div>"},useData:!0})},{"hbsfy/runtime":245}],167:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return"<p>"+h(g(null!=(f=null!=b?b.i18n:b)?f.notice:f,b))+'</p>\n<div class="kb-button kb-batch-delete--action-delete">'+h(g(null!=(f=null!=b?b.i18n:b)?f.deleteAll:f,b))+'</div>\n<div class="kb-button kb-batch-delete--action-reset">'+h(g(null!=(f=null!=b?b.i18n:b)?f.deselectAll:f,b))+"</div>"},useData:!0})},{"hbsfy/runtime":245}],168:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'<div class="dashicons dashicons-plus"></div>\n<div class="kb-global-area-item">\n    <h4>'+h(g(null!=(f=null!=b?b.item:b)?f.name:f,b))+" <span>("+h(g(null!=(f=null!=(f=null!=b?b.item:b)?f.meta:f)?f.modules:f,b))+" "+h(g(null!=(f=null!=(f=null!=b?b.i18n:b)?f.Common:f)?f.modules:f,b))+")</span></h4>\n    <p>"+h(g(null!=(f=null!=b?b.item:b)?f.description:f,b))+'</p>\n    <a target="_blank" class="kb-button-small" href="'+h(g(null!=(f=null!=(f=null!=b?b.item:b)?f.meta:f)?f.editLink:f,b))+'">'+h(g(null!=(f=null!=(f=null!=b?b.i18n:b)?f.Common:f)?f.view:f,b))+"</a>\n</div>"},useData:!0})},{"hbsfy/runtime":245}],169:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<div class="kb-context-bar grid__col grid__col--12-of-12">\n    <div class="kb-context-bar--actions">\n\n    </div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],170:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<div class="kb-context-browser-inner">\n    <div class="kb-context-browser--header">\n        <h3>'+a.escapeExpression(a.lambda(null!=(f=null!=(f=null!=(f=null!=b?b.i18n:b)?f.EditScreen:f)?f.context:f)?f.headline:f,b))+'</h3>\n        <a class="genericon genericon-close-alt close-browser kb-button"></a>\n    </div>\n    <div class="kb-context-browser--body">\n        <ul class="kb-global-areas-list"></ul>\n    </div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],171:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<div class="kb-button-small kb-js-add-global-area">'+a.escapeExpression(a.lambda(null!=(f=null!=(f=null!=(f=null!=b?b.i18n:b)?f.EditScreen:f)?f.context:f)?f.addGlobal:f,b))+"</div>"},useData:!0})},{"hbsfy/runtime":245}],172:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<div class="kb-fullscreen--holder-wrap">\n    <div class="kb-fullscreen--controls">\n        <div class="kb-fullscreen-js-close"><span class="dashicons dashicons-no-alt"></span></div>\n    </div>\n    <div class="kb-nano">\n        <div class="kb-fullscreen--inner kb-nano-content">\n\n        </div>\n    </div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],173:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<div class="module-browser-wrapper '+a.escapeExpression((f=null!=(f=c.viewMode||(null!=b?b.viewMode:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"viewMode",hash:{},data:e}):f))+'">\n\n    <div class="module-browser-header module-categories">\n        <div class="genericon genericon-close-alt close-browser kb-button"></div>\n        <div class="dashicons dashicons-list-view module-browser--switch__list-view kb-hide"></div>\n        <div class="dashicons dashicons-exerpt-view module-browser--switch__excerpt-view kb-hide"></div>\n        <div class="dashicons dashicons-grid-view module-browser--switch__grid-view kb-hide"></div>\n    </div>\n\n    <div class="module-browser__left-column kb-nano">\n        <div class="modules-list kb-nano-content">\n\n        </div>\n    </div>\n\n    <div class="module-browser__right-column kb-nano">\n        <div class="module-description kb-nano-content">\n\n        </div>\n    </div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],174:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return"<h3>"+h(g(null!=(f=null!=(f=null!=b?b.module:b)?f.settings:f)?f.publicName:f,b))+' <div class="kb-button-small kb-js-create-module">'+h(g(null!=(f=null!=(f=null!=(f=null!=b?b.i18n:b)?f.EditScreen:f)?f.moduleBrowser:f)?f.addModule:f,b))+"</div>\n</h3>\n"},useData:!0})},{"hbsfy/runtime":245}],175:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'<div class="kbmb-icon '+h(g(null!=(f=null!=(f=null!=b?b.module:b)?f.settings:f)?f.iconclass:f,b))+'"></div>\n<div class="kbmb-hl">'+h(g(null!=(f=null!=(f=null!=b?b.module:b)?f.settings:f)?f.name:f,b))+'</div>\n<div class="kbmb-description">'+h(g(null!=(f=null!=(f=null!=b?b.module:b)?f.settings:f)?f.description:f,b))+"</div>"},useData:!0})},{"hbsfy/runtime":245}],176:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return"<h3>"+a.escapeExpression(a.lambda(null!=(f=null!=(f=null!=b?b.module:b)?f.parentObject:f)?f.post_title:f,b))+"</h3>"},useData:!0})},{"hbsfy/runtime":245}],177:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<div class="dashicons dashicons-plus kb-js-create-module"></div>\n<div class="kbmb-hl">'+a.escapeExpression(a.lambda(null!=(f=null!=(f=null!=b?b.module:b)?f.parentObject:f)?f.post_title:f,b))+"</div>"},useData:!0})},{"hbsfy/runtime":245}],178:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<div class="module-browser--poster-wrap">\n    <img src="'+a.escapeExpression(a.lambda(null!=(f=null!=(f=null!=b?b.module:b)?f.settings:f)?f.poster:f,b))+'" >\n</div>'},useData:!0})},{"hbsfy/runtime":245}],179:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'    <div data-kbtooltip="'+h(g(null!=(f=null!=b?b.strings:b)?f.tooltipUndraft:f,b))+'"><span class="kbu-color-red kb-module--status-label">Status</span><br><span>'+h(g(null!=(f=null!=b?b.strings:b)?f.draft:f,b))+"</span></div>\n"},3:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'   <div data-kbtooltip="'+h(g(null!=(f=null!=b?b.strings:b)?f.tooltipDraft:f,b))+'"><span class="kbu-color-green kb-module--status-label">Status</span><br><span>'+h(g(null!=(f=null!=b?b.strings:b)?f.published:f,b))+"</span></div>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return null!=(f=c["if"].call(null!=b?b:a.nullContext||{},null!=b?b.draft:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.program(3,e,0),data:e}))?f:""},useData:!0})},{"hbsfy/runtime":245}],180:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'    <span class="kb-module--status-label">'+h(g(null!=(f=null!=(f=null!=(f=null!=b?b.i18n:b)?f.Modules:f)?f.status:f)?f.visibleFor:f,b))+"</span><br><span>"+h(g(null!=(f=null!=(f=null!=(f=null!=b?b.i18n:b)?f.Modules:f)?f.status:f)?f.loggedIn:f,b))+"</span>\n"},3:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'    <span class="kb-module--status-label">'+h(g(null!=(f=null!=(f=null!=(f=null!=b?b.i18n:b)?f.Modules:f)?f.status:f)?f.visibleFor:f,b))+"</span><br><span>"+h(g(null!=(f=null!=(f=null!=(f=null!=b?b.i18n:b)?f.Modules:f)?f.status:f)?f.anyone:f,b))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return null!=(f=c["if"].call(null!=b?b:a.nullContext||{},null!=(f=null!=(f=null!=b?b.model:b)?f.overrides:f)?f.loggedinonly:f,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.program(3,e,0),data:e}))?f:""},useData:!0})},{"hbsfy/runtime":245}],181:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'    <div class="kb-status-draft kb-button-small" data-kbtooltip="'+h(g(null!=(f=null!=b?b.strings:b)?f.tooltipUndraft:f,b))+'">'+h(g(null!=(f=null!=b?b.strings:b)?f.draft:f,b))+"</div>\n"},3:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'   <div class="kb-status-public kb-button-small" data-kbtooltip="'+h(g(null!=(f=null!=b?b.strings:b)?f.tooltipDraft:f,b))+'">'+h(g(null!=(f=null!=b?b.strings:b)?f.published:f,b))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return null!=(f=c["if"].call(null!=b?b:a.nullContext||{},null!=b?b.draft:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.program(3,e,0),data:e}))?f:""},useData:!0})},{"hbsfy/runtime":245}],182:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){return'           checked="checked"\n'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return"  <label>"+h(g(null!=(f=null!=(f=null!=(f=null!=b?b.i18n:b)?f.Modules:f)?f.settings:f)?f.forLoggedInOnly:f,b))+'\n    <input type="checkbox" data-kbms-key="loggedinonly" name="'+h(g(null!=(f=null!=b?b.model:b)?f.mid:f,b))+'[overrides][loggedinonly]"\n'+(null!=(f=c["if"].call(null!=b?b:a.nullContext||{},null!=(f=null!=(f=null!=b?b.model:b)?f.validator:f)?f.loggedInOnly:f,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'           value="true">\n  </label>\n'},useData:!0})},{"hbsfy/runtime":245}],183:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<div class="kb-status-settings-header">\n    <span class="kb-modal-title">Individual Module Settings</span>\n    <div class="kb-modal-close dashicons dashicons-no-alt"></div>\n</div>\n<div class="kb-status-settings-inner">\n    <div class="kb-status-settings--tab-nav">\n        <ul class="kb-status-settings--tab-nav-list"></ul>\n    </div>\n</div>\n\n'},useData:!0})},{"hbsfy/runtime":245}],184:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return"<label>"+h(g(null!=(f=null!=(f=null!=(f=null!=b?b.i18n:b)?f.Modules:f)?f.settings:f)?f.addClasses:f,b))+'\n    <input type="text" data-kbms-key="wrapperclasses" name="'+h(g(null!=(f=null!=b?b.model:b)?f.mid:f,b))+'[overrides][wrapperclasses]"\n           value="'+h(g(null!=(f=null!=(f=null!=b?b.model:b)?f.overrides:f)?f.wrapperclasses:f,b))+'">\n</label>\n'},useData:!0})},{"hbsfy/runtime":245}],185:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'    <div class="kb-template-selector--wrapper">\n        <div class="kb-selectbox">\n            <select class="kb-template-select" data-kb-rel="'+h(g(null!=(f=null!=b?b.module:b)?f.mid:f,b))+'" name="'+h(g(null!=(f=null!=b?b.module:b)?f.mid:f,b))+'[viewfile]">\n'+(null!=(f=c.each.call(null!=b?b:a.nullContext||{},null!=b?b.views:b,{name:"each",hash:{},fn:a.program(2,e,0),inverse:a.noop,data:e}))?f:"")+"            </select>\n        </div>\n    </div>\n"},2:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return"                    <option "+(null!=(f=g(null!=b?b.selected:b,b))?f:"")+' value="'+h(g(null!=b?b.filename:b,b))+'"\n                                                data-tpldesc="'+h(g(null!=b?b.description:b,b))+'">'+h(g(null!=b?b.name:b,b))+"</option>\n"},4:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'    <input name="'+h(g(null!=(f=null!=b?b.module:b)?f.mid:f,b))+'[viewfile]" type="hidden" value="'+h(g(null!=(f=null!=b?b.module:b)?f.viewfile:f,b))+'">\n'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return(null!=(f=c["if"].call(null!=b?b:a.nullContext||{},null!=b?b.show:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.program(4,e,0),data:e}))?f:"")+"\n"},useData:!0})},{"hbsfy/runtime":245}],186:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'<div class="kb-tpled--field-item">\n    <div><strong>Label:</strong>'+h(g(null!=(f=null!=(f=null!=b?b.data:b)?f.args:f)?f.label:f,b))+'</div>\n    <div class="kb-tpled--details">\n        <div><strong>Type:</strong>'+h(g(null!=(f=null!=b?b.data:b)?f.type:f,b))+"</div>\n        <div><strong>Key:</strong>"+h(g(null!=(f=null!=b?b.data:b)?f.key:f,b))+"</div>\n        <div><strong>Access:</strong>Model."+h(g(null!=(f=null!=b?b.data:b)?f.kpath:f,b))+"</div>\n        <div><strong>Value:</strong>Model."+h(g(null!=(f=null!=b?b.data:b)?f.value:f,b))+"</div>\n    </div>\n</div>"},useData:!0})},{"hbsfy/runtime":245}],187:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<div class="kb-template-edditor--file-item">\n    '+a.escapeExpression(a.lambda(null!=(f=null!=b?b.data:b)?f.name:f,b))+"\n</div>"},useData:!0})},{"hbsfy/runtime":245}],188:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<div class="kb-tpled--wrap">\n\n    <div class="kb-tpled--header">\n        <div class="kb-fullscreen--controls">\n            <div class="kb-tpled--close"><span class="dashicons dashicons-no-alt"></span></div>\n        </div>\n    </div>\n    <div class="kb-tpled--inner kbflexwrap">\n        <div class="kb-tpled--sidebar kbflex">\n            <div class="kb-tpled--views">\n                <h5>Templates</h5>\n                <div data-views></div>\n            </div>\n            <div class="kb-tpled--actions">\n                <h5>Actions</h5>\n                <div data-controls></div>\n            </div>\n        </div>\n        <div class="kb-tpled--content kbflex">\n            <div id="codemirror"></div>\n\n        </div>\n        <div class="kb-tpled--sidebar kb-tpled--sidebar-right kbflex">\n            <div class="kb-tpled--fields">\n                <h5>Available Datafields</h5>\n                <div data-fields></div>\n            </div>\n        </div>\n    </div>\n    <div class="kb-tpled--footer">\n\n    </div>\n\n</div>'},useData:!0})},{"hbsfy/runtime":245}],189:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){return'checked="checked"'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression,i=null!=b?b:a.nullContext||{},j=c.helperMissing;return'<div class="kb-field kb-js-field field-api-checkbox kb-field--checkbox">\n    <label class="heading">'+h(g(null!=(f=null!=b?b.model:b)?f.label:f,b))+'\n        <input type="checkbox"'+(null!=(f=(c.ifCond||b&&b.ifCond||j).call(i,null!=(f=null!=b?b.model:b)?f.value:f,"==",!0,{name:"ifCond",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'\n               name="'+h((c.fieldName||b&&b.fieldName||j).call(i,null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+'">\n    </label>\n    <p class="description">'+h(g(null!=(f=null!=b?b.model:b)?f.description:f,b))+"</p>\n</div>\n"},useData:!0})},{"hbsfy/runtime":245}],190:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'<div class="kb-field kb-js-field field-api-text kb-field--text">\n    <label class="heading">'+h(g(null!=(f=null!=b?b.model:b)?f.label:f,b))+"</label>\n    <input class='kb-color-picker' data-alpha=\"true\" type='text' name='"+h((c.fieldName||b&&b.fieldName||c.helperMissing).call(null!=b?b:a.nullContext||{},null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+"' }}'\n    value='"+h(g(null!=(f=null!=b?b.model:b)?f.value:f,b))+"' size='7'/>\n    <p class=\"description\">"+h(g(null!=(f=null!=b?b.model:b)?f.description:f,b))+"</p>\n</div>\n"},useData:!0})},{"hbsfy/runtime":245}],191:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'<div class="kb-field--date-multiple-item">\n    <div class="kb-field--date-multiple-control kbf-sort"><span class="dashicons dashicons-menu hide"></span></div>\n    <input type=\'text\'  name=\''+h(g(null!=(f=null!=b?b.model:b)?f.baseId:f,b))+"["+h(g(null!=(f=null!=b?b.model:b)?f.uniqueId:f,b))+"][human]'\n           value='"+h(g(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.human:f,b))+"' class='kb-datetimepicker'>\n    <input type='hidden' name='"+h(g(null!=(f=null!=b?b.model:b)?f.baseId:f,b))+"["+h(g(null!=(f=null!=b?b.model:b)?f.uniqueId:f,b))+"][unix]' value='"+h(g(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.unix:f,b))+"'\n           class='kb-datetimepicker--js-unix'>\n    <input type='hidden' name='"+h(g(null!=(f=null!=b?b.model:b)?f.baseId:f,b))+"["+h(g(null!=(f=null!=b?b.model:b)?f.uniqueId:f,b))+"][sql]' value='"+h(g(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.sql:f,b))+'\'\n           class=\'kb-datetimepicker--js-sql\'>\n    <div data-kbfaction="delete" class="kb-field--text-multiple-control kbf-delete"><span class="dashicons dashicons-trash" ></span></div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],192:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression,i=null!=b?b:a.nullContext||{},j=c.helperMissing;return'<div class="kb-field kb-js-field kb-field--datetime field-api-datetime">\n<label class="heading">'+h(g(null!=(f=null!=b?b.model:b)?f.label:f,b))+'</label>\n<div class="kb-field--datetime-item">\n\n    <input type="text" name=\''+h((c.fieldName||b&&b.fieldName||j).call(i,null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+"[human]'\n           value='"+h(g(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.human:f,b))+"' class='kb-datetimepicker'>\n    <input type='hidden' name='"+h((c.fieldName||b&&b.fieldName||j).call(i,null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+"[unix]' value='"+h(g(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.unix:f,b))+"'\n           class='kb-datetimepicker--js-unix'>\n    <input type='hidden' name='"+h((c.fieldName||b&&b.fieldName||j).call(i,null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+"[sql]' value='"+h(g(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.sql:f,b))+"'\n           class='kb-datetimepicker--js-sql'>\n</div>\n<p class=\"description\">"+h(g(null!=(f=null!=b?b.model:b)?f.description:f,b))+"</p>\n</div>"},useData:!0})},{"hbsfy/runtime":245}],193:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'<div class="kb-field kb-js-field field-api-editor">\n    <label class="heading">'+h(g(null!=(f=null!=b?b.model:b)?f.label:f,b))+'</label>\n    <div class="kb-ff-editor-wrapper-'+h(g(null!=(f=null!=b?b.model:b)?f.index:f,b))+"-"+h(g(null!=(f=null!=b?b.model:b)?f.key:f,b))+'">\n    </div>\n    <p class="description">'+h(g(null!=(f=null!=b?b.model:b)?f.description:f,b))+"</p>\n</div>"},useData:!0})},{"hbsfy/runtime":245}],194:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h=a.lambda,i=a.escapeExpression,j=null!=b?b:a.nullContext||{},k=c.helperMissing,l="function";return'<label class="heading">'+i(h(null!=(f=null!=b?b.model:b)?f.label:f,b))+"</label>\n<div class='kb-field-file-wrapper "+i((g=null!=(g=c.isEmpty||(null!=b?b.isEmpty:b))?g:k,
typeof g===l?g.call(j,{name:"isEmpty",hash:{},data:e}):g))+'\'>\n    <table>\n        <tbody>\n        <tr>\n            <td>ID:</td>\n            <td><span class="kb-file-id">'+i(h(null!=(f=null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.file:f)?f.id:f,b))+"</span></td>\n        </tr>\n        <tr>\n            <td>"+i(h(null!=(f=null!=b?b.i18n:b)?f.title:f,b))+'</td>\n            <td><span class="kb-file-title">'+i(h(null!=(f=null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.file:f)?f.title:f,b))+"</span></td>\n        </tr>\n        <tr>\n            <td>"+i(h(null!=(f=null!=b?b.i18n:b)?f.filename:f,b))+'</td>\n            <td><span class="kb-file-filename">'+i(h(null!=(f=null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.file:f)?f.filename:f,b))+"</span></td>\n        </tr>\n        <tr>\n            <td>"+i(h(null!=(f=null!=b?b.i18n:b)?f.editLink:f,b))+'</td>\n            <td><a class="kb-file-editLink" href="'+i(h(null!=(f=null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.file:f)?f.editLink:f,b))+'">edit</a></td>\n        </tr>\n        </tbody>\n    </table>\n    <input type="hidden" class="kb-file-attachment-id" value="'+i(h(null!=(f=null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.file:f)?f.id:f,b))+'"\n           name="'+i((c.fieldName||b&&b.fieldName||k).call(j,null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+'[id]">\n</div>\n<a class="button primary kb-js-add-file">'+i(h(null!=(f=null!=b?b.i18n:b)?f.selectFile:f,b))+'</a>\n<a class="kb-js-reset-file '+i((g=null!=(g=c.isEmpty||(null!=b?b.isEmpty:b))?g:k,typeof g===l?g.call(j,{name:"isEmpty",hash:{},data:e}):g))+'">'+i(h(null!=(f=null!=b?b.i18n:b)?f.remove:f,b))+'</a>\n<p class="description">'+i(h(null!=(f=null!=b?b.model:b)?f.description:f,b))+"</p>\n"},useData:!0})},{"hbsfy/runtime":245}],195:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function",k=a.escapeExpression;return'<input type="hidden" name="'+k((g=null!=(g=c.inputName||(null!=b?b.inputName:b))?g:i,typeof g===j?g.call(h,{name:"inputName",hash:{},data:e}):g))+'[_meta][uid]" value="'+k((g=null!=(g=c.uid||(null!=b?b.uid:b))?g:i,typeof g===j?g.call(h,{name:"uid",hash:{},data:e}):g))+'">\n<input type="hidden" name="'+k((g=null!=(g=c.inputName||(null!=b?b.inputName:b))?g:i,typeof g===j?g.call(h,{name:"inputName",hash:{},data:e}):g))+'[_meta][type]" value="'+k((g=null!=(g=c.fftype||(null!=b?b.fftype:b))?g:i,typeof g===j?g.call(h,{name:"fftype",hash:{},data:e}):g))+'">\n<div class="flexible-fields--section-box">\n    <div class="flexible-fields--section-title">\n        <span class="genericon genericon-draggable flexible-fields--js-drag-handle"></span>\n        <span class="dashicons dashicons-trash flexible-fields--js-trash"></span>\n        <input type="text" value="'+k(a.lambda(null!=(f=null!=b?b.item:b)?f.title:f,b))+'" name="'+k((g=null!=(g=c.inputName||(null!=b?b.inputName:b))?g:i,typeof g===j?g.call(h,{name:"inputName",hash:{},data:e}):g))+'[_meta][title] ">\n    </div>\n    <div class="flexible-fields--section-box-inner">\n\n    </div>\n    <div class="kb-field--tabs">\n        <ul class="flexible-field--tab-nav">\n        </ul>\n    </div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],196:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function",k=a.escapeExpression;return'<input type="hidden" name="'+k((g=null!=(g=c.inputName||(null!=b?b.inputName:b))?g:i,typeof g===j?g.call(h,{name:"inputName",hash:{},data:e}):g))+'[_meta][uid]" value="'+k((g=null!=(g=c.uid||(null!=b?b.uid:b))?g:i,typeof g===j?g.call(h,{name:"uid",hash:{},data:e}):g))+'">\n<input type="hidden" name="'+k((g=null!=(g=c.inputName||(null!=b?b.inputName:b))?g:i,typeof g===j?g.call(h,{name:"inputName",hash:{},data:e}):g))+'[_meta][type]" value="'+k((g=null!=(g=c.fftype||(null!=b?b.fftype:b))?g:i,typeof g===j?g.call(h,{name:"fftype",hash:{},data:e}):g))+'">\n<div class="flexible-fields--toggle-title">\n    <h3>\n        <span class="genericon genericon-draggable flexible-fields--js-drag-handle"></span>\n        <span class="genericon genericon-expand flexible-fields--js-toggle"></span>\n        <span class="dashicons dashicons-trash flexible-fields--js-trash"></span>\n        <input type="text" value="'+k(a.lambda(null!=(f=null!=b?b.item:b)?f.title:f,b))+'" name="'+k((g=null!=(g=c.inputName||(null!=b?b.inputName:b))?g:i,typeof g===j?g.call(h,{name:"inputName",hash:{},data:e}):g))+'[_meta][title]">\n    </h3>\n</div>\n<div class="flexible-fields--toggle-box kb-hide">\n    <div class="kb-field--tabs">\n        <ul class="flexible-field--tab-nav">\n\n        </ul>\n    </div>\n\n</div>'},useData:!0})},{"hbsfy/runtime":245}],197:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){var f,g,h=a.escapeExpression,i=a.lambda;return'        <a class="button button-primary kb-flexible-fields--js-add-item"\n           data-kbf-addtype="'+h((g=null!=(g=c.key||e&&e.key)?g:c.helperMissing,"function"==typeof g?g.call(null!=b?b:a.nullContext||{},{name:"key",hash:{},data:e}):g))+'">'+h(i(null!=(f=null!=b?b.i18n:b)?f.addNewItem:f,b))+h(i(null!=(f=null!=b?b.args:b)?f.buttontext:f,b))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<ul class="flexible-fields--item-list"></ul>\n<div class="flexible-fields--header">\n'+(null!=(f=c.each.call(null!=b?b:a.nullContext||{},null!=(f=null!=b?b.model:b)?f.fields:f,{name:"each",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+"</div>"},useData:!0})},{"hbsfy/runtime":245}],198:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function",k=a.escapeExpression,l=a.lambda;return'<div class="kb-gallery--header">\n    <h3>Image Details</h3>\n</div>\n<div class="kb-gallery--left-column">\n    <div class="kb-gallery--image-meta" style="display: none;">\n        <span class="genericon genericon-close-alt kb-gallery--js-meta-close"></span>\n\n        <div class="kb-field--tabs">\n            <ul class="kb-gallery--tabs-nav">\n                <li><a href="#tab'+k((g=null!=(g=c.uid||(null!=b?b.uid:b))?g:i,typeof g===j?g.call(h,{name:"uid",hash:{},data:e}):g))+'-1">Details</a></li>\n                <li><a href="#tab'+k((g=null!=(g=c.uid||(null!=b?b.uid:b))?g:i,typeof g===j?g.call(h,{name:"uid",hash:{},data:e}):g))+'-2">Beschreibung</a></li>\n            </ul>\n            <div id="tab'+k((g=null!=(g=c.uid||(null!=b?b.uid:b))?g:i,typeof g===j?g.call(h,{name:"uid",hash:{},data:e}):g))+'-1">\n                <div class="kb-gallery--meta-field kb-field">\n                    <label class="heading">Titel</label>\n                    <input class="large" type="text" name="'+k((g=null!=(g=c.inputName||(null!=b?b.inputName:b))?g:i,typeof g===j?g.call(h,{name:"inputName",hash:{},data:e}):g))+'[details][title]" value="'+k(l(null!=(f=null!=(f=null!=b?b.image:b)?f.details:f)?f.title:f,b))+'">\n                </div>\n                <div class="kb-gallery--meta-field kb-field">\n                    <label class="heading">Alt</label>\n                    <input class="large" type="text" name="'+k((g=null!=(g=c.inputName||(null!=b?b.inputName:b))?g:i,typeof g===j?g.call(h,{name:"inputName",hash:{},data:e}):g))+'[details][alt]" value="'+k(l(null!=(f=null!=(f=null!=b?b.image:b)?f.details:f)?f.alt:f,b))+'">\n                </div>\n            </div>\n\n            <div id="tab'+k((g=null!=(g=c.uid||(null!=b?b.uid:b))?g:i,typeof g===j?g.call(h,{name:"uid",hash:{},data:e}):g))+'-2">\n                <div class="kb-js--remote-editor" data-uid="'+k((g=null!=(g=c.uid||(null!=b?b.uid:b))?g:i,typeof g===j?g.call(h,{name:"uid",hash:{},data:e}):g))+'">\n                    <textarea name="'+k((g=null!=(g=c.inputName||(null!=b?b.inputName:b))?g:i,typeof g===j?g.call(h,{name:"inputName",hash:{},data:e}):g))+'[details][description]">'+k(l(null!=(f=null!=(f=null!=b?b.image:b)?f.details:f)?f.description:f,b))+'</textarea>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n<div class="kb-gallery--right-column">\n    <div class="kb-gallery--image-holder">\n        <img src="'+k(l(null!=(f=null!=(f=null!=(f=null!=(f=null!=b?b.image:b)?f.file:f)?f.sizes:f)?f.thumbnail:f)?f.url:f,b))+'">\n        <span class="genericon genericon-edit kb-gallery--js-edit"></span>\n        <span class="genericon genericon-close-alt kb-gallery--js-delete"></span>\n        <input type="hidden" name="'+k((g=null!=(g=c.inputName||(null!=b?b.inputName:b))?g:i,typeof g===j?g.call(h,{name:"inputName",hash:{},data:e}):g))+'[id]" value="'+k(l(null!=(f=null!=b?b.image:b)?f.id:f,b))+'">\n        <input type="hidden" class="kb-gallery--image-remove" name="'+k((g=null!=(g=c.inputName||(null!=b?b.inputName:b))?g:i,typeof g===j?g.call(h,{name:"inputName",hash:{},data:e}):g))+'[remove]" value="">\n    </div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],199:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h=a.lambda,i=a.escapeExpression;return'<div class="kb-gallery--right-column">\n    <div class="kb-gallery--image-holder">\n        <img src="'+i(h(null!=(f=null!=b?b.image:b)?f.previewUrl:f,b))+'">\n        <input type="hidden" name="'+i((g=null!=(g=c.inputName||(null!=b?b.inputName:b))?g:c.helperMissing,"function"==typeof g?g.call(null!=b?b:a.nullContext||{},{name:"inputName",hash:{},data:e}):g))+'" value="'+i(h(null!=(f=null!=b?b.image:b)?f.id:f,b))+'">\n    </div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],200:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){var f;return'                <img src="'+(null!=(f=a.lambda(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.url:f,b))?f:"")+'">\n'},3:function(a,b,c,d,e){return" kb-hide "},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{},h=a.lambda,i=a.escapeExpression,j=c.helperMissing;return"<div class=\"kb-field kb-field kb-field--image kb-fieldapi-field\">\n    <div class='kb-field-image-wrapper' data-kbfield=\"image\">\n        <div class='kb-js-add-image kb-field-image-container'>\n"+(null!=(f=c["if"].call(g,null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.url:f,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'        </div>\n        <div class="kb-field-image-meta '+(null!=(f=c["if"].call(g,null!=(f=null!=b?b.model:b)?f.hideMeta:f,{name:"if",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+' ">\n            <div class="kb-field-image-title">\n                <label>'+i(h(null!=(f=null!=b?b.i18n:b)?f.title:f,b))+"</label>\n                <input class='kb-js-image-title kb-observe' type=\"text\"\n                       name='"+i((c.fieldName||b&&b.fieldName||j).call(g,null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+"[title]'\n                       value='"+(null!=(f=h(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.title:f,b))?f:"")+'\'>\n            </div>\n            <div class="kb-field-image-description">\n                <label>'+i(h(null!=(f=null!=b?b.i18n:b)?f.description:f,b))+"</label>\n        <textarea class='kb-js-image-description kb-observe'\n                  name='"+i((c.fieldName||b&&b.fieldName||j).call(g,null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+"[caption]'>"+(null!=(f=h(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.caption:f,b))?f:"")+"\n        </textarea>\n            </div>\n        </div>\n        <input class='kb-js-image-id' type='hidden'\n               name='"+i((c.fieldName||b&&b.fieldName||j).call(g,null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+"[id]'\n               value='"+(null!=(f=h(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.id:f,b))?f:"")+'\'>\n    </div>\n    <div class="kb-field-image--footer">\n        <a class="button kb-js-reset-image">Reset</a>\n    </div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],201:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return"        <div class='kb-field--link-meta'><label for='"+h(g(null!=(f=null!=b?b.model:b)?f.index:f,b))+"-linktext'>"+h(g(null!=(f=null!=b?b.i18n:b)?f.linktext:f,b))+"</label><br>\n            <input\n                    type='text' data-kbf-link-linktext\n                    name=\""+h((c.fieldName||b&&b.fieldName||c.helperMissing).call(null!=b?b:a.nullContext||{},null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+"[linktext]\"\n                    class='kb-field--link-linktext'\n                    id='"+h(g(null!=(f=null!=b?b.model:b)?f.index:f,b))+"-linktext'\n                    value='"+h(g(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.linktext:f,b))+"'>\n        </div>\n"},3:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return"        <div class='kb-field--link-meta'><label for='"+h(g(null!=(f=null!=b?b.model:b)?f.index:f,b))+"-linktitle'>"+h(g(null!=(f=null!=b?b.i18n:b)?f.linktitle:f,b))+"</label><br>\n            <input\n                    type='text'\n                    name=\""+h((c.fieldName||b&&b.fieldName||c.helperMissing).call(null!=b?b:a.nullContext||{},null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+"[linktitle]\"\n                    class='kb-field--link-linktitle'\n                    id='"+h(g(null!=(f=null!=b?b.model:b)?f.index:f,b))+"-linktitle'\n                    value='"+h(g(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.linktitle:f,b))+"'>\n        </div>\n"},5:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression,i=null!=b?b:a.nullContext||{};return"        <div class='kb-field--link-meta'>\n            <label for='"+h(g(null!=(f=null!=b?b.model:b)?f.index:f,b))+"-linktarget'>\n                <input data-kbf-link-target type='checkbox' class='kb-field--link-target'\n                       id='"+h(g(null!=(f=null!=b?b.model:b)?f.index:f,b))+"-linktarget'\n"+(null!=(f=c["if"].call(i,null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.target:f,{name:"if",hash:{},fn:a.program(6,e,0),inverse:a.noop,data:e}))?f:"")+"                       value='"+h(g(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.target:f,b))+"'\n                       name='"+h((c.fieldname||b&&b.fieldname||c.helperMissing).call(i,null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldname",hash:{},data:e}))+"[linktarget]'>\n                "+h(g(null!=(f=null!=b?b.i18n:b)?f.linktarget:f,b))+" </label>\n        </div>\n\n"},6:function(a,b,c,d,e){return'                       checked="checked"\n'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression,i=null!=b?b:a.nullContext||{};return'<div class="kb-field kb-js-field kb-field--link field-api-link">\n    <label class="heading">'+h(g(null!=(f=null!=b?b.model:b)?f.label:f,b))+'</label>\n    <input class="kb-js-link-input" data-kbf-link-url\n           id="'+h(g(null!=(f=null!=b?b.model:b)?f.index:f,b))+'_link_input"\n           type="text"\n           name="'+h((c.fieldName||b&&b.fieldName||c.helperMissing).call(i,null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+'[link]"\n           value="'+h(g(null!=(f=null!=(f=null!=b?b.model:b)?f.value:f)?f.link:f,b))+"\">\n    <a class='button kb-js-add-link'>Add internal link</a>\n"+(null!=(f=c["if"].call(i,null!=(f=null!=b?b.model:b)?f.linktext:f,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+"\n"+(null!=(f=c["if"].call(i,null!=(f=null!=b?b.model:b)?f.linktitle:f,{name:"if",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+"\n"+(null!=(f=c["if"].call(i,null!=(f=null!=b?b.model:b)?f.showtarget:f,{name:"if",hash:{},fn:a.program(5,e,0),inverse:a.noop,data:e}))?f:"")+'    <p class="description">'+h(g(null!=(f=null!=b?b.model:b)?f.description:f,b))+"</p>\n\n</div>"},useData:!0})},{"hbsfy/runtime":245}],202:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'<div class="kb-field kb-js-field field-api-medium">\n    <label class="heading">'+h(g(null!=(f=null!=b?b.model:b)?f.label:f,b))+'</label>\n    <textarea class="kb-medium-editable" id="random" name=\''+h((c.fieldName||b&&b.fieldName||c.helperMissing).call(null!=b?b:a.nullContext||{},null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+"'>"+h(g(null!=(f=null!=b?b.model:b)?f.value:f,b))+'</textarea>\n    <p class="description">'+h(g(null!=(f=null!=b?b.model:b)?f.description:f,b))+"</p>\n</div>\n\n"},useData:!0})},{"hbsfy/runtime":245}],203:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'<div class="kb-field--oembed kb-field kb-js-field field-api-oembed">\n    <label class="heading">'+h(g(null!=(f=null!=b?b.model:b)?f.label:f,b))+"</label>\n    <input data-kbf-link-url\n    name='"+h((c.fieldName||b&&b.fieldName||c.helperMissing).call(null!=b?b:a.nullContext||{},null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+"'\n    value='"+h(g(null!=(f=null!=b?b.model:b)?f.value:f,b))+'\' />\n    <div class="kb-oembed-preview" data-kb-oembed-preview>\n\n    </div>\n    <p class="description">'+h(g(null!=(f=null!=b?b.model:b)?f.description:f,b))+"</p>\n</div>"},useData:!0})},{"hbsfy/runtime":245}],204:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e,f,g){var h,i=null!=b?b:a.nullContext||{},j=c.helperMissing,k=a.escapeExpression,l=a.lambda;return"    <div class='kb-radioset-item'>\n        <label>\n        <input type='radio' name='"+k((c.fieldName||b&&b.fieldName||j).call(i,null!=(h=null!=g[1]?g[1].model:g[1])?h.baseId:h,null!=(h=null!=g[1]?g[1].model:g[1])?h.index:h,null!=(h=null!=g[1]?g[1].model:g[1])?h.primeKey:h,{name:"fieldName",hash:{},data:e}))+"'\n               value='"+k(l(null!=b?b.value:b,b))+"'\n               "+(null!=(h=(c.ifCond||b&&b.ifCond||j).call(i,null!=b?b.value:b,"==",null!=(h=null!=g[1]?g[1].model:g[1])?h.value:h,{name:"ifCond",hash:{},fn:a.program(2,e,0,f,g),inverse:a.noop,data:e}))?h:"")+"/>"+(null!=(h=l(null!=b?b.name:b,b))?h:"")+"</label>\n    </div>\n"},2:function(a,b,c,d,e){return'checked="checked"'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e,f,g){var h,i=a.lambda,j=a.escapeExpression;return'<div class="kb-field kb-js-field field-api-radioset kb-field--radioset">\n    <label class="heading">'+j(i(null!=(h=null!=b?b.model:b)?h.label:h,b))+"</label>\n"+(null!=(h=c.each.call(null!=b?b:a.nullContext||{},null!=(h=null!=b?b.model:b)?h.options:h,{name:"each",hash:{},fn:a.program(1,e,0,f,g),inverse:a.noop,data:e}))?h:"")+'    <p class="description">'+j(i(null!=(h=null!=b?b.model:b)?h.description:h,b))+"</p>\n</div>"},useData:!0,useDepths:!0})},{"hbsfy/runtime":245}],205:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){return'            <option value="">Auswählen</option>\n'},3:function(a,b,c,d,e,f,g){var h,i=a.lambda;return"            <option "+(null!=(h=(c.ifCond||b&&b.ifCond||c.helperMissing).call(null!=b?b:a.nullContext||{},null!=b?b.value:b,"==",null!=(h=null!=g[1]?g[1].model:g[1])?h.value:h,{name:"ifCond",hash:{},fn:a.program(4,e,0,f,g),inverse:a.noop,data:e}))?h:"")+'    value="'+a.escapeExpression(i(null!=b?b.value:b,b))+'">'+(null!=(h=i(null!=b?b.name:b,b))?h:"")+"</option>\n"},4:function(a,b,c,d,e){return'selected="selected"'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e,f,g){var h,i=a.lambda,j=a.escapeExpression,k=null!=b?b:a.nullContext||{};return'<div class="kb-field kb-js-field field-api-text kb-field--select">\n    <label class="heading">'+j(i(null!=(h=null!=b?b.model:b)?h.label:h,b))+'</label>\n    <select name="'+j((c.fieldName||b&&b.fieldName||c.helperMissing).call(k,null!=(h=null!=b?b.model:b)?h.baseId:h,null!=(h=null!=b?b.model:b)?h.index:h,null!=(h=null!=b?b.model:b)?h.primeKey:h,{name:"fieldName",hash:{},data:e}))+'">\n'+(null!=(h=c["if"].call(k,null!=(h=null!=b?b.model:b)?h.showempty:h,{name:"if",hash:{},fn:a.program(1,e,0,f,g),inverse:a.noop,data:e}))?h:"")+(null!=(h=c.each.call(k,null!=(h=null!=b?b.model:b)?h.options:h,{name:"each",hash:{},fn:a.program(3,e,0,f,g),inverse:a.noop,data:e}))?h:"")+'    </select>\n    <p class="description">'+j(i(null!=(h=null!=b?b.model:b)?h.description:h,b))+"</p>\n</div>"},useData:!0,useDepths:!0})},{"hbsfy/runtime":245}],206:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){var f,g=a.escapeExpression;return"        "+g((f=null!=(f=c.key||e&&e.key)?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"key",hash:{},data:e}):f))+'="'+g(a.lambda(b,b))+'"\n'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression,i=null!=b?b:a.nullContext||{};return'<div class="kb-field kb-js-field field-api-text kb-field--text kb-field--reset">\n    <label class="heading">'+h(g(null!=(f=null!=b?b.model:b)?f.label:f,b))+'</label>\n    <input type="text"\n'+(null!=(f=c.each.call(i,null!=(f=null!=b?b.model:b)?f.attributes:f,{name:"each",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'    name="'+h((c.fieldName||b&&b.fieldName||c.helperMissing).call(i,null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+'" value="'+h(g(null!=(f=null!=b?b.model:b)?f.value:f,b))+'" >\n    <p class="description">'+h(g(null!=(f=null!=b?b.model:b)?f.description:f,b))+"</p>\n</div>"},useData:!0})},{"hbsfy/runtime":245}],207:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'<div class="kb-field--text-multiple-item">\n    <div class="kb-field--text-multiple-control kbf-sort"><span class="dashicons dashicons-menu"></span></div>\n    <input type="text" name="'+h(g(null!=(f=null!=b?b.model:b)?f.baseId:f,b))+'[]" value="'+h(g(null!=(f=null!=b?b.model:b)?f.value:f,b))+'">\n    <div data-kbfaction="delete" class="kb-field--text-multiple-control kbf-delete"><span class="dashicons dashicons-trash" ></span></div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],208:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'<div class="kb-field kb-js-field field-api-textarea">\n    <label class="heading">'+h(g(null!=(f=null!=b?b.model:b)?f.label:f,b))+'</label>\n    <textarea name="'+h((c.fieldName||b&&b.fieldName||c.helperMissing).call(null!=b?b:a.nullContext||{},null!=(f=null!=b?b.model:b)?f.baseId:f,null!=(f=null!=b?b.model:b)?f.index:f,null!=(f=null!=b?b.model:b)?f.primeKey:f,{name:"fieldName",hash:{},data:e}))+'">'+h(g(null!=(f=null!=b?b.model:b)?f.value:f,b))+'</textarea>\n    <p class="description">'+h(g(null!=(f=null!=b?b.model:b)?f.description:f,b))+"</p>\n</div>"},useData:!0})},{"hbsfy/runtime":245}],209:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return"<div>"+(null!=(f=a.lambda(null!=(f=null!=b?b.strings:b)?f.feedback:f,b))?f:"")+"</div>"},useData:!0})},{"hbsfy/runtime":245}],210:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({1:function(a,b,c,d,e){return" kb-dynamic-module "},3:function(a,b,c,d,e){return" global-module "},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{};return'<div data-kb-mcontrols="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.model:b)?f.mid:f,b))+"\" class='kb-module-controls "+(null!=(f=c["if"].call(g,null!=(f=null!=b?b.model:b)?f.inDynamic:f,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+" "+(null!=(f=c["if"].call(g,null!=(f=null!=b?b.model:b)?f.globalModule:f,{name:"if",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+'\'>\n    <div class="kb-controls-wrap"></div>\n</div>'},useData:!0})},{"hbsfy/runtime":245}],211:[function(a,b,c){var d=a("hbsfy/runtime");b.exports=d.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<div class="kb-module__placeholder">\n    <p>'+a.escapeExpression(a.lambda(null!=(f=null!=(f=null!=b?b.model:b)?f.settings:f)?f.name:f,b))+"\n    <span>Start here.</span>\n    </p>\n</div>"},useData:!0})},{"hbsfy/runtime":245}],212:[function(a,b,c){"use strict";function d(b,c){function d(a){var b,c;for(b=0;a[b];b+=1)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(1===b&&(".."===a[2]||".."===a[0]))break;b>0&&(a.splice(b-1,2),b-=2)}}function e(a,b){var c;return a&&"."===a.charAt(0)&&b&&(c=b.split("/"),c=c.slice(0,c.length-1),c=c.concat(a.split("/")),d(c),a=c.join("/")),a}function f(a){return function(b){return e(b,a)}}function g(a){function b(b){m[a]=b}return b.fromText=function(a,b){throw new Error("amdefine does not implement load.fromText")},b}function h(a,d,e){var f,g,h,i;if(a)g=m[a]={},h={id:a,uri:__filename,exports:g},f=j(c,g,h,a);else{if(n)throw new Error("amdefine with no module ID cannot be called more than once per file.");n=!0,g=b.exports,h=b,f=j(c,g,h,b.id)}d&&(d=d.map(function(a){return f(a)})),i="function"==typeof e?e.apply(h.exports,d):e,void 0!==i&&(h.exports=i,a&&(m[a]=h.exports))}function i(a,b,c){Array.isArray(a)?(c=b,b=a,a=void 0):"string"!=typeof a&&(c=a,a=b=void 0),b&&!Array.isArray(b)&&(c=b,b=void 0),b||(b=["require","exports","module"]),a?l[a]=[a,b,c]:h(a,b,c)}var j,k,l={},m={},n=!1,o=a("path");return j=function(a,b,c,d){function f(e,f){return"string"==typeof e?k(a,b,c,e,d):(e=e.map(function(e){return k(a,b,c,e,d)}),void(f&&process.nextTick(function(){f.apply(null,e)})))}return f.toUrl=function(a){return 0===a.indexOf(".")?e(a,o.dirname(c.filename)):a},f},c=c||function(){return b.require.apply(b,arguments)},k=function(a,b,c,d,i){var n,o,p=d.indexOf("!"),q=d;if(-1===p){if(d=e(d,i),"require"===d)return j(a,b,c,i);if("exports"===d)return b;if("module"===d)return c;if(m.hasOwnProperty(d))return m[d];if(l[d])return h.apply(null,l[d]),m[d];if(a)return a(q);throw new Error("No module with ID: "+d)}return n=d.substring(0,p),d=d.substring(p+1,d.length),o=k(a,b,c,n,i),d=o.normalize?o.normalize(d,f(i)):e(d,i),m[d]?m[d]:(o.load(d,j(a,b,c,i),g(d),{}),m[d])},i.require=function(a){return m[a]?m[a]:l[a]?(h.apply(null,l[a]),m[a]):void 0},i.amd={},i}b.exports=d},{path:246}],213:[function(a,b,c){},{}],214:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){var a=r();return a.compile=function(b,c){return k.compile(b,c,a)},a.precompile=function(b,c){return k.precompile(b,c,a)},a.AST=i["default"],a.Compiler=k.Compiler,a.JavaScriptCompiler=m["default"],a.Parser=j.parser,a.parse=j.parse,a}c.__esModule=!0;var f=a("./handlebars.runtime"),g=d(f),h=a("./handlebars/compiler/ast"),i=d(h),j=a("./handlebars/compiler/base"),k=a("./handlebars/compiler/compiler"),l=a("./handlebars/compiler/javascript-compiler"),m=d(l),n=a("./handlebars/compiler/visitor"),o=d(n),p=a("./handlebars/no-conflict"),q=d(p),r=g["default"].create,s=e();s.create=e,q["default"](s),s.Visitor=o["default"],s["default"]=s,c["default"]=s,b.exports=c["default"]},{"./handlebars.runtime":215,"./handlebars/compiler/ast":217,"./handlebars/compiler/base":218,"./handlebars/compiler/compiler":220,"./handlebars/compiler/javascript-compiler":222,"./handlebars/compiler/visitor":225,"./handlebars/no-conflict":239}],215:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j["default"],a.Exception=l["default"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}c.__esModule=!0;var g=a("./handlebars/base"),h=e(g),i=a("./handlebars/safe-string"),j=d(i),k=a("./handlebars/exception"),l=d(k),m=a("./handlebars/utils"),n=e(m),o=a("./handlebars/runtime"),p=e(o),q=a("./handlebars/no-conflict"),r=d(q),s=f();s.create=f,r["default"](s),s["default"]=s,c["default"]=s,b.exports=c["default"]},{"./handlebars/base":216,"./handlebars/exception":229,"./handlebars/no-conflict":239,"./handlebars/runtime":240,"./handlebars/safe-string":241,"./handlebars/utils":242}],216:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},i.registerDefaultHelpers(this),j.registerDefaultDecorators(this)}c.__esModule=!0,c.HandlebarsEnvironment=e;var f=a("./utils"),g=a("./exception"),h=d(g),i=a("./helpers"),j=a("./decorators"),k=a("./logger"),l=d(k),m="4.0.11";c.VERSION=m;var n=7;c.COMPILER_REVISION=n;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};c.REVISION_CHANGES=o;var p="[object Object]";e.prototype={constructor:e,logger:l["default"],log:l["default"].log,registerHelper:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple helpers");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(f.toString.call(a)===p)f.extend(this.partials,a);else{if("undefined"==typeof b)throw new h["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple decorators");f.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};var q=l["default"].log;c.log=q,c.createFrame=f.createFrame,c.logger=l["default"]},{"./decorators":227,"./exception":229,"./helpers":230,"./logger":238,"./utils":242}],217:[function(a,b,c){"use strict";c.__esModule=!0;var d={helpers:{helperExpression:function(a){return"SubExpression"===a.type||("MustacheStatement"===a.type||"BlockStatement"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!d.helpers.scopedId(a)&&!a.depth}}};c["default"]=d,b.exports=c["default"]},{}],218:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if("Program"===a.type)return a;h["default"].yy=n,n.locInfo=function(a){return new n.SourceLocation(b&&b.srcName,a)};var c=new j["default"](b);return c.accept(h["default"].parse(a))}c.__esModule=!0,c.parse=f;var g=a("./parser"),h=e(g),i=a("./whitespace-control"),j=e(i),k=a("./helpers"),l=d(k),m=a("../utils");
c.parser=h["default"];var n={};m.extend(n,l)},{"../utils":242,"./helpers":221,"./parser":223,"./whitespace-control":226}],219:[function(a,b,c){"use strict";function d(a,b,c){if(f.isArray(a)){for(var d=[],e=0,g=a.length;g>e;e++)d.push(b.wrap(a[e],c));return d}return"boolean"==typeof a||"number"==typeof a?a+"":a}function e(a){this.srcFile=a,this.source=[]}c.__esModule=!0;var f=a("../utils"),g=void 0;try{if("function"!=typeof define||!define.amd){var h=a("source-map");g=h.SourceNode}}catch(i){}g||(g=function(a,b,c,d){this.src="",d&&this.add(d)},g.prototype={add:function(a){f.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){f.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;c>b;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new g(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof g?a:(a=d(a,this,b),new g(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c],this);"undefined"!==e&&b.push([this.quotedString(c),":",e])}var f=this.generateList(b);return f.prepend("{"),f.add("}"),f},generateList:function(a){for(var b=this.empty(),c=0,e=a.length;e>c;c++)c&&b.add(","),b.add(d(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend("["),b.add("]"),b}},c["default"]=e,b.exports=c["default"]},{"../utils":242,"source-map":247}],220:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){}function f(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function g(a,b,c){function d(){var d=c.parse(a,b),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}function e(a,b){return f||(f=d()),f.call(this,a,b)}if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=l.extend({},b),"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var f=void 0;return e._setup=function(a){return f||(f=d()),f._setup(a)},e._child=function(a,b,c,e){return f||(f=d()),f._child(a,b,c,e)},e}function h(a,b){if(a===b)return!0;if(l.isArray(a)&&l.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!h(a[c],b[c]))return!1;return!0}}function i(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}c.__esModule=!0,c.Compiler=e,c.precompile=f,c.compile=g;var j=a("../exception"),k=d(j),l=a("../utils"),m=a("./ast"),n=d(m),o=[].slice;e.prototype={compiler:e,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!h(d.args,e.args))return!1}b=this.children.length;for(var c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[];var c=b.knownHelpers;if(b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},c)for(var d in c)d in c&&(this.options.knownHelpers[d]=c[d]);return this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){if(!this[a.type])throw new k["default"]("Unknown type: "+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;c>d;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){i(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode("registerDecorator",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new k["default"]("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,e="SubExpression"===a.name.type;e&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var f=a.indent||"";this.options.preventIndent&&f&&(this.opcode("appendContent",f),f=""),this.opcode("invokePartial",e,d,f),this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){i(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),d.strict=!0,this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",d.length,f);else{if(this.options.knownHelpersOnly)throw new k["default"]("You specified knownHelpersOnly, but used the unknown helper "+f,a);e.strict=!0,e.falsy=!0,this.accept(e),this.opcode("invokeHelper",d.length,e.original,n["default"].helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=n["default"].helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");d>c;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:o.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=n["default"].helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&n["default"].helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;c>b;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||n["default"].helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else b=a.original||b,b.replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;c>b;b++){var d=this.options.blockParams[b],e=d&&l.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},{"../exception":229,"../utils":242,"./ast":217}],221:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new q["default"](a.path.original+" doesn't match "+b,c)}}function f(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function g(a){return/^\[.*\]$/.test(a)?a.substr(1,a.length-2):a}function h(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function i(a){return a.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function j(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",e=[],f=0,g="",h=0,i=b.length;i>h;h++){var j=b[h].part,k=b[h].original!==j;if(d+=(b[h].separator||"")+j,k||".."!==j&&"."!==j&&"this"!==j)e.push(j);else{if(e.length>0)throw new q["default"]("Invalid path: "+d,{loc:c});".."===j&&(f++,g+="../")}}return{type:"PathExpression",data:a,depth:f,parts:e,original:d,loc:c}}function k(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g,i=/\*/.test(d);return{type:i?"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:h,strip:e,loc:this.locInfo(f)}}function l(a,b,c,d){e(a,c),d=this.locInfo(d);var f={type:"Program",body:b,strip:{},loc:d};return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:d}}function m(a,b,c,d,f,g){d&&d.path&&e(a,d);var h=/\*/.test(a.open);b.blockParams=a.blockParams;var i=void 0,j=void 0;if(c){if(h)throw new q["default"]("Unexpected inverse block on decorator",c);c.chain&&(c.program.body[0].closeStrip=d.strip),j=c.strip,i=c.program}return f&&(f=i,i=b,b=f),{type:h?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:i,openStrip:a.strip,inverseStrip:j,closeStrip:d&&d.strip,loc:this.locInfo(g)}}function n(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,strip:{},loc:b}}function o(a,b,c,d){return e(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(d)}}c.__esModule=!0,c.SourceLocation=f,c.id=g,c.stripFlags=h,c.stripComment=i,c.preparePath=j,c.prepareMustache=k,c.prepareRawBlock=l,c.prepareBlock=m,c.prepareProgram=n,c.preparePartialBlock=o;var p=a("../exception"),q=d(p)},{"../exception":229}],222:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){this.value=a}function f(){}function g(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;g>f;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable("container.strict"),"(",e,", ",b.quotedString(c[f]),")"]:e}c.__esModule=!0;var h=a("../base"),i=a("../exception"),j=d(i),k=a("../utils"),l=a("./code-gen"),m=d(l);f.prototype={nameLookup:function(a,b){return f.isValidJavaScriptVariableName(b)?[a,".",b]:[a,"[",JSON.stringify(b),"]"]},depthedLookup:function(a){return[this.aliasable("container.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=h.COMPILER_REVISION,b=h.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return k.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=void 0,g=void 0,h=void 0,i=void 0;for(h=0,i=e.length;i>h;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new j["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(h=0,i=n.length;i>h;h++)n[h]&&(l[h]=n[h],o[h]&&(l[h+"_d"]=o[h],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new m["default"](this.options.srcName),this.decorators=new m["default"](this.options.srcName)},createFunctionContext:function(a){var b="",c=this.stackVars.concat(this.registers.list);c.length>0&&(b+=", "+c.join(", "));var d=0;for(var e in this.aliases){var f=this.aliases[e];this.aliases.hasOwnProperty(e)&&f.children&&f.referenceCount>1&&(b+=", alias"+ ++d+"="+e,f.children[0]="alias"+d)}var g=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths");var h=this.mergeSource(b);return a?(g.push(h),Function.apply(this,g)):this.source.wrap(["function(",g.join(","),") {\n  ",h,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},blockValue:function(a){var b=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath("context",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var f=this;if(this.options.strict||this.options.assumeObjects)return void this.push(g(this.options.strict&&e,this,b,a));for(var h=b.length;h>c;c++)this.replaceStack(function(e){var g=f.nameLookup(e,b[c],a);return d?[" && ",g]:[" != null ? ",g," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator"),d=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",this.decorators.functionCall(c,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=c?[e.name," || "]:"",g=["("].concat(f,d);this.options.strict||g.push(" || ",this.aliasable("helpers.helperMissing")),g.push(")"),this.push(this.source.functionCall(g,"call",e.callParams))},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=["(","(helper = ",e," || ",c,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",f,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",e.decorators="container.decorators",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:f,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;g>f;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);if(null==h){this.context.programs.push("");var i=this.context.programs.length;d.index=i,d.name="program"+i,this.context.programs[i]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[i]=e.decorators,this.context.environments[i]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams,d.useDepths=this.useDepths,d.useBlockParams=this.useBlockParams}else d.index=h.index,d.name="program"+h.index,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=this.useBlockParams||h.useBlockParams}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return d}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof e||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new e(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,d=void 0,f=void 0;if(!this.isInline())throw new j["default"]("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof e)c=[g.value],b=["(",c],f=!0;else{d=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var i=a.call(this,c);f||this.popStack(),d&&this.stackSlot--,this.push(b.concat(i,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;c>b;b++){var d=a[b];if(d instanceof e)this.compileStack.push(d);else{var f=this.incrStack();this.pushSource([f," = ",d,";"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof e)return c.value;if(!b){if(!this.stackSlot)throw new j["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof e?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c),f=this.nameLookup("helpers",b,"helper"),g=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:d,paramsInit:e,name:f,callParams:[g].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=!c,i=void 0;h&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var j=this.popStack(),k=this.popStack();(k||j)&&(d.fn=k||"container.noop",d.inverse=j||"container.noop");for(var l=b;l--;)i=this.popStack(),c[l]=i,this.trackIds&&(g[l]=this.popStack()),this.stringParams&&(f[l]=this.popStack(),e[l]=this.popStack());return h&&(d.args=this.source.generateArray(c)),this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return e=this.objectLiteral(e),d?(this.useRegister("options"),c.push("options"),["options=",e]):c?(c.push(e),""):e}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=f.RESERVED_WORDS={},c=0,d=a.length;d>c;c++)b[a[c]]=!0}(),f.isValidJavaScriptVariableName=function(a){return!f.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},c["default"]=f,b.exports=c["default"]},{"../base":216,"../exception":229,"../utils":242,"./code-gen":219}],223:[function(a,b,c){"use strict";c.__esModule=!0;var d=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:this.$=f[h];break;case 4:this.$=f[h];break;case 5:this.$=f[h];break;case 6:this.$=f[h];break;case 7:this.$=f[h];break;case 8:this.$=f[h];break;case 9:this.$={type:"CommentStatement",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 20:this.$=f[h];break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[h-3],params:f[h-2],hash:f[h-1],indent:"",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 27:this.$=f[h];break;case 28:this.$=f[h];break;case 29:
this.$={type:"SubExpression",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 33:this.$=f[h];break;case 34:this.$=f[h];break;case 35:this.$={type:"StringLiteral",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===f[h],original:"true"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:d.locInfo(this._$)};break;case 40:this.$=f[h];break;case 41:this.$=f[h];break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:this.$=[];break;case 47:f[h-1].push(f[h]);break;case 48:this.$=[f[h]];break;case 49:f[h-1].push(f[h]);break;case 50:this.$=[];break;case 51:f[h-1].push(f[h]);break;case 58:this.$=[];break;case 59:f[h-1].push(f[h]);break;case 64:this.$=[];break;case 65:f[h-1].push(f[h]);break;case 70:this.$=[];break;case 71:f[h-1].push(f[h]);break;case 78:this.$=[];break;case 79:f[h-1].push(f[h]);break;case 82:this.$=[];break;case 83:f[h-1].push(f[h]);break;case 86:this.$=[];break;case 87:f[h-1].push(f[h]);break;case 90:this.$=[];break;case 91:f[h-1].push(f[h]);break;case 94:this.$=[];break;case 95:f[h-1].push(f[h]);break;case 98:this.$=[f[h]];break;case 99:f[h-1].push(f[h]);break;case 100:this.$=[f[h]];break;case 101:f[h-1].push(f[h])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(b.yytext=b.yytext.substr(5,b.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();c["default"]=d,b.exports=c["default"]},{}],224:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(new f).accept(a)}function f(){this.padding=0}c.__esModule=!0,c.print=e,c.PrintVisitor=f;var g=a("./visitor"),h=d(g);f.prototype=new h["default"],f.prototype.pad=function(a){for(var b="",c=0,d=this.padding;d>c;c++)b+="  ";return b+=a+"\n"},f.prototype.Program=function(a){var b="",c=a.body,d=void 0,e=void 0;if(a.blockParams){var f="BLOCK PARAMS: [";for(d=0,e=a.blockParams.length;e>d;d++)f+=" "+a.blockParams[d];f+=" ]",b+=this.pad(f)}for(d=0,e=c.length;e>d;d++)b+=this.accept(c[d]);return this.padding--,b},f.prototype.MustacheStatement=function(a){return this.pad("{{ "+this.SubExpression(a)+" }}")},f.prototype.Decorator=function(a){return this.pad("{{ DIRECTIVE "+this.SubExpression(a)+" }}")},f.prototype.BlockStatement=f.prototype.DecoratorBlock=function(a){var b="";return b+=this.pad(("DecoratorBlock"===a.type?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,b+=this.pad(this.SubExpression(a)),a.program&&(b+=this.pad("PROGRAM:"),this.padding++,b+=this.accept(a.program),this.padding--),a.inverse&&(a.program&&this.padding++,b+=this.pad("{{^}}"),this.padding++,b+=this.accept(a.inverse),this.padding--,a.program&&this.padding--),this.padding--,b},f.prototype.PartialStatement=function(a){var b="PARTIAL:"+a.name.original;return a.params[0]&&(b+=" "+this.accept(a.params[0])),a.hash&&(b+=" "+this.accept(a.hash)),this.pad("{{> "+b+" }}")},f.prototype.PartialBlockStatement=function(a){var b="PARTIAL BLOCK:"+a.name.original;return a.params[0]&&(b+=" "+this.accept(a.params[0])),a.hash&&(b+=" "+this.accept(a.hash)),b+=" "+this.pad("PROGRAM:"),this.padding++,b+=this.accept(a.program),this.padding--,this.pad("{{> "+b+" }}")},f.prototype.ContentStatement=function(a){return this.pad("CONTENT[ '"+a.value+"' ]")},f.prototype.CommentStatement=function(a){return this.pad("{{! '"+a.value+"' }}")},f.prototype.SubExpression=function(a){for(var b=a.params,c=[],d=void 0,e=0,f=b.length;f>e;e++)c.push(this.accept(b[e]));return b="["+c.join(", ")+"]",d=a.hash?" "+this.accept(a.hash):"",this.accept(a.path)+" "+b+d},f.prototype.PathExpression=function(a){var b=a.parts.join("/");return(a.data?"@":"")+"PATH:"+b},f.prototype.StringLiteral=function(a){return'"'+a.value+'"'},f.prototype.NumberLiteral=function(a){return"NUMBER{"+a.value+"}"},f.prototype.BooleanLiteral=function(a){return"BOOLEAN{"+a.value+"}"},f.prototype.UndefinedLiteral=function(){return"UNDEFINED"},f.prototype.NullLiteral=function(){return"NULL"},f.prototype.Hash=function(a){for(var b=a.pairs,c=[],d=0,e=b.length;e>d;d++)c.push(this.accept(b[d]));return"HASH{"+c.join(", ")+"}"},f.prototype.HashPair=function(a){return a.key+"="+this.accept(a.value)}},{"./visitor":225}],225:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){this.parents=[]}function f(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")}function g(a){f.call(this,a),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")}function h(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")}c.__esModule=!0;var i=a("../exception"),j=d(i);e.prototype={constructor:e,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!e.prototype[c.type])throw new j["default"]('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new j["default"](a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;c>b;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new j["default"]("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:b!==!1?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:f,Decorator:f,BlockStatement:g,DecoratorBlock:g,PartialStatement:h,PartialBlockStatement:function(a){h.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:f,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},c["default"]=e,b.exports=c["default"]},{"../exception":229}],226:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function f(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function g(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function h(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function i(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}c.__esModule=!0;var j=a("./visitor"),k=d(j);e.prototype=new k["default"],e.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,e=0,j=d.length;j>e;e++){var k=d[e],l=this.accept(k);if(l){var m=f(d,e,c),n=g(d,e,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&h(d,e,!0),l.open&&i(d,e,!0),b&&q&&(h(d,e),i(d,e)&&"PartialStatement"===k.type&&(k.indent=/([ \t]+$)/.exec(d[e-1].original)[1])),b&&o&&(h((k.program||k.inverse).body),i(d,e)),b&&p&&(h(d,e),i((k.inverse||k.program).body))}}return a},e.prototype.BlockStatement=e.prototype.DecoratorBlock=e.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,e=c;if(c&&c.chained)for(d=c.body[0].program;e.chained;)e=e.body[e.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:g(b.body),closeStandalone:f((d||b).body)};if(a.openStrip.close&&h(b.body,null,!0),c){var k=a.inverseStrip;k.open&&i(b.body,null,!0),k.close&&h(d.body,null,!0),a.closeStrip.open&&i(e.body,null,!0),!this.options.ignoreStandalone&&f(b.body)&&g(d.body)&&(i(b.body),h(d.body))}else a.closeStrip.open&&i(b.body,null,!0);return j},e.prototype.Decorator=e.prototype.MustacheStatement=function(a){return a.strip},e.prototype.PartialStatement=e.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},c["default"]=e,b.exports=c["default"]},{"./visitor":225}],227:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"](a)}c.__esModule=!0,c.registerDefaultDecorators=e;var f=a("./decorators/inline"),g=d(f)},{"./decorators/inline":228}],228:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("../utils");c["default"]=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},b.exports=c["default"]},{"../utils":242}],229:[function(a,b,c){"use strict";function d(a,b){var c=b&&b.loc,f=void 0,g=void 0;c&&(f=c.start.line,g=c.start.column,a+=" - "+f+":"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<e.length;i++)this[e[i]]=h[e[i]];Error.captureStackTrace&&Error.captureStackTrace(this,d);try{c&&(this.lineNumber=f,Object.defineProperty?Object.defineProperty(this,"column",{value:g,enumerable:!0}):this.column=g)}catch(j){}}c.__esModule=!0;var e=["description","fileName","lineNumber","message","name","number","stack"];d.prototype=new Error,c["default"]=d,b.exports=c["default"]},{}],230:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"](a),i["default"](a),k["default"](a),m["default"](a),o["default"](a),q["default"](a),s["default"](a)}c.__esModule=!0,c.registerDefaultHelpers=e;var f=a("./helpers/block-helper-missing"),g=d(f),h=a("./helpers/each"),i=d(h),j=a("./helpers/helper-missing"),k=d(j),l=a("./helpers/if"),m=d(l),n=a("./helpers/log"),o=d(n),p=a("./helpers/lookup"),q=d(p),r=a("./helpers/with"),s=d(r)},{"./helpers/block-helper-missing":231,"./helpers/each":232,"./helpers/helper-missing":233,"./helpers/if":234,"./helpers/log":235,"./helpers/lookup":236,"./helpers/with":237}],231:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("../utils");c["default"]=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(b===!0)return f(this);if(b===!1||null==b)return e(this);if(d.isArray(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},b.exports=c["default"]},{"../utils":242}],232:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("../utils"),f=a("../exception"),g=d(f);c["default"]=function(a){a.registerHelper("each",function(a,b){function c(b,c,f){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!f,k&&(j.contextPath=k+b)),i+=d(a[b],{data:j,blockParams:e.blockParams([a[b],b],[k+b,null])})}if(!b)throw new g["default"]("Must pass iterator to #each");var d=b.fn,f=b.inverse,h=0,i="",j=void 0,k=void 0;if(b.data&&b.ids&&(k=e.appendContextPath(b.data.contextPath,b.ids[0])+"."),e.isFunction(a)&&(a=a.call(this)),b.data&&(j=e.createFrame(b.data)),a&&"object"==typeof a)if(e.isArray(a))for(var l=a.length;l>h;h++)h in a&&c(h,h,h===a.length-1);else{var m=void 0;for(var n in a)a.hasOwnProperty(n)&&(void 0!==m&&c(m,h-1),m=n,h++);void 0!==m&&c(m,h-1,!0);
}return 0===h&&(i=f(this)),i})},b.exports=c["default"]},{"../exception":229,"../utils":242}],233:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("../exception"),f=d(e);c["default"]=function(a){a.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new f["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},b.exports=c["default"]},{"../exception":229}],234:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("../utils");c["default"]=function(a){a.registerHelper("if",function(a,b){return d.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},b.exports=c["default"]},{"../utils":242}],235:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},b.exports=c["default"]},{}],236:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(a){a.registerHelper("lookup",function(a,b){return a&&a[b]})},b.exports=c["default"]},{}],237:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("../utils");c["default"]=function(a){a.registerHelper("with",function(a,b){d.isFunction(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=d.createFrame(b.data),e.contextPath=d.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:e,blockParams:d.blockParams([a],[e&&e.contextPath])})})},b.exports=c["default"]},{"../utils":242}],238:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("./utils"),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;c>f;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};c["default"]=e,b.exports=c["default"]},{"./utils":242}],239:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(a){var b="undefined"!=typeof global?global:window,c=b.Handlebars;a.noConflict=function(){return b.Handlebars===a&&(b.Handlebars=c),a}},b.exports=c["default"]},{}],240:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a){var b=a&&a[0]||1,c=r.COMPILER_REVISION;if(b!==c){if(c>b){var d=r.REVISION_CHANGES[c],e=r.REVISION_CHANGES[b];throw new q["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new q["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function g(a,b){function c(c,d,e){e.hash&&(d=o.extend({},d,e.hash),e.ids&&(e.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;i>h&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new q["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){function c(b){return""+a.main(e,b,e.helpers,e.partials,g,i,h)}var f=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=f.data;d._setup(f),!f.partial&&a.useData&&(g=l(b,g));var h=void 0,i=a.useBlockParams?[]:void 0;return a.useDepths&&(h=f.depths?b!=f.depths[0]?[b].concat(f.depths):f.depths:[b]),(c=m(a.main,c,e,f.depths||[],g,i))(b,f)}if(!b)throw new q["default"]("No environment passed to template");if(!a||!a.main)throw new q["default"]("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new q["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:o.escapeExpression,invokePartial:c,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var f=this.programs[a],g=this.fn(a);return b||e||d||c?f=h(this,a,g,b,c,d,e):f||(f=this.programs[a]=h(this,a,g)),f},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=o.extend({},b,a)),c},nullContext:Object.seal({}),noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials,e.decorators=c.decorators):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(e.decorators=e.merge(c.decorators,b.decorators)))},d._child=function(b,c,d,f){if(a.useBlockParams&&!d)throw new q["default"]("must pass block params");if(a.useDepths&&!f)throw new q["default"]("must pass parent depths");return h(e,b,a[b],c,0,d,f)},d}function h(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return!g||b==g[0]||b===a.nullContext&&null===g[0]||(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=m(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function i(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function j(a,b,c){var d=c.data&&c.data["partial-block"];c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var e=void 0;if(c.fn&&c.fn!==k&&!function(){c.data=r.createFrame(c.data);var a=c.fn;e=c.data["partial-block"]=function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return c.data=r.createFrame(c.data),c.data["partial-block"]=d,a(b,c)},a.partials&&(c.partials=o.extend({},c.partials,a.partials))}(),void 0===a&&e&&(a=e),void 0===a)throw new q["default"]("The partial "+c.name+" could not be found");return a instanceof Function?a(b,c):void 0}function k(){return""}function l(a,b){return b&&"root"in b||(b=b?r.createFrame(b):{},b.root=a),b}function m(a,b,c,d,e,f){if(a.decorator){var g={};b=a.decorator(b,g,c,d&&d[0],e,f,d),o.extend(b,g)}return b}c.__esModule=!0,c.checkRevision=f,c.template=g,c.wrapProgram=h,c.resolvePartial=i,c.invokePartial=j,c.noop=k;var n=a("./utils"),o=e(n),p=a("./exception"),q=d(p),r=a("./base")},{"./base":216,"./exception":229,"./utils":242}],241:[function(a,b,c){"use strict";function d(a){this.string=a}c.__esModule=!0,d.prototype.toString=d.prototype.toHTML=function(){return""+this.string},c["default"]=d,b.exports=c["default"]},{}],242:[function(a,b,c){"use strict";function d(a){return l[a]}function e(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function f(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function g(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return n.test(a)?a.replace(m,d):a}function h(a){return a||0===a?q(a)&&0===a.length?!0:!1:!0}function i(a){var b=e({},a);return b._parent=a,b}function j(a,b){return a.path=b,a}function k(a,b){return(a?a+".":"")+b}c.__esModule=!0,c.extend=e,c.indexOf=f,c.escapeExpression=g,c.isEmpty=h,c.createFrame=i,c.blockParams=j,c.appendContextPath=k;var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},m=/[&<>"'`=]/g,n=/[&<>"'`=]/,o=Object.prototype.toString;c.toString=o;var p=function(a){return"function"==typeof a};p(/x/)&&(c.isFunction=p=function(a){return"function"==typeof a&&"[object Function]"===o.call(a)}),c.isFunction=p;var q=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===o.call(a):!1};c.isArray=q},{}],243:[function(a,b,c){function d(b,c){var d=a("fs"),f=d.readFileSync(c,"utf8");b.exports=e.compile(f)}var e=a("../dist/cjs/handlebars")["default"],f=a("../dist/cjs/handlebars/compiler/printer");e.PrintVisitor=f.PrintVisitor,e.print=f.print,b.exports=e,"undefined"!=typeof a&&a.extensions&&(a.extensions[".handlebars"]=d,a.extensions[".hbs"]=d)},{"../dist/cjs/handlebars":214,"../dist/cjs/handlebars/compiler/printer":224,fs:213}],244:[function(a,b,c){b.exports=a("./dist/cjs/handlebars.runtime")["default"]},{"./dist/cjs/handlebars.runtime":215}],245:[function(a,b,c){b.exports=a("handlebars/runtime")["default"]},{"handlebars/runtime":244}],246:[function(a,b,c){function d(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function e(a){"string"!=typeof a&&(a+="");var b,c=0,d=-1,e=!0;for(b=a.length-1;b>=0;--b)if(47===a.charCodeAt(b)){if(!e){c=b+1;break}}else-1===d&&(e=!1,d=b+1);return-1===d?"":a.slice(c,d)}function f(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}c.resolve=function(){for(var a="",b=!1,c=arguments.length-1;c>=-1&&!b;c--){var e=c>=0?arguments[c]:process.cwd();if("string"!=typeof e)throw new TypeError("Arguments to path.resolve must be strings");e&&(a=e+"/"+a,b="/"===e.charAt(0))}return a=d(f(a.split("/"),function(a){return!!a}),!b).join("/"),(b?"/":"")+a||"."},c.normalize=function(a){var b=c.isAbsolute(a),e="/"===g(a,-1);return a=d(f(a.split("/"),function(a){return!!a}),!b).join("/"),a||b||(a="."),a&&e&&(a+="/"),(b?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(f(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){if("string"!=typeof a&&(a+=""),0===a.length)return".";for(var b=a.charCodeAt(0),c=47===b,d=-1,e=!0,f=a.length-1;f>=1;--f)if(b=a.charCodeAt(f),47===b){if(!e){d=f;break}}else e=!1;return-1===d?c?"/":".":c&&1===d?"/":a.slice(0,d)},c.basename=function(a,b){var c=e(a);return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){"string"!=typeof a&&(a+="");for(var b=-1,c=0,d=-1,e=!0,f=0,g=a.length-1;g>=0;--g){var h=a.charCodeAt(g);if(47!==h)-1===d&&(e=!1,d=g+1),46===h?-1===b?b=g:1!==f&&(f=1):-1!==b&&(f=-1);else if(!e){c=g+1;break}}return-1===b||-1===d||0===f||1===f&&b===d-1&&b===c+1?"":a.slice(b,d)};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}},{}],247:[function(a,b,c){c.SourceMapGenerator=a("./source-map/source-map-generator").SourceMapGenerator,c.SourceMapConsumer=a("./source-map/source-map-consumer").SourceMapConsumer,c.SourceNode=a("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":254,"./source-map/source-map-generator":255,"./source-map/source-node":256}],248:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(){this._array=[],this._set={}}var e=a("./util");d.fromArray=function(a,b){for(var c=new d,e=0,f=a.length;f>e;e++)c.add(a[e],b);return c},d.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},d.prototype.add=function(a,b){var c=this.has(a),d=this._array.length;(!c||b)&&this._array.push(a),c||(this._set[e.toSetString(a)]=d)},d.prototype.has=function(a){return Object.prototype.hasOwnProperty.call(this._set,e.toSetString(a))},d.prototype.indexOf=function(a){if(this.has(a))return this._set[e.toSetString(a)];throw new Error('"'+a+'" is not in the set.')},d.prototype.at=function(a){if(a>=0&&a<this._array.length)return this._array[a];throw new Error("No element indexed by "+a)},d.prototype.toArray=function(){return this._array.slice()},b.ArraySet=d})},{"./util":257,amdefine:212}],249:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a){return 0>a?(-a<<1)+1:(a<<1)+0}function e(a){var b=1===(1&a),c=a>>1;return b?-c:c}var f=a("./base64"),g=5,h=1<<g,i=h-1,j=h;b.encode=function(a){var b,c="",e=d(a);do b=e&i,e>>>=g,e>0&&(b|=j),c+=f.encode(b);while(e>0);return c},b.decode=function(a,b,c){var d,h,k=a.length,l=0,m=0;do{if(b>=k)throw new Error("Expected more digits in base 64 VLQ value.");if(h=f.decode(a.charCodeAt(b++)),-1===h)throw new Error("Invalid base64 digit: "+a.charAt(b-1));d=!!(h&j),h&=i,l+=h<<m,m+=g}while(d);c.value=e(l),c.rest=b}})},{"./base64":250,amdefine:212}],250:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");b.encode=function(a){if(a>=0&&a<d.length)return d[a];throw new TypeError("Must be between 0 and 63: "+aNumber)},b.decode=function(a){var b=65,c=90,d=97,e=122,f=48,g=57,h=43,i=47,j=26,k=52;return a>=b&&c>=a?a-b:a>=d&&e>=a?a-d+j:a>=f&&g>=a?a-f+k:a==h?62:a==i?63:-1}})},{amdefine:212}],251:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,c,e,f,g,h){var i=Math.floor((c-a)/2)+a,j=g(e,f[i],!0);return 0===j?i:j>0?c-i>1?d(i,c,e,f,g,h):h==b.LEAST_UPPER_BOUND?c<f.length?c:-1:i:i-a>1?d(a,i,e,f,g,h):h==b.LEAST_UPPER_BOUND?i:0>a?-1:a}b.GREATEST_LOWER_BOUND=1,b.LEAST_UPPER_BOUND=2,b.search=function(a,c,e,f){if(0===c.length)return-1;var g=d(-1,c.length,a,c,e,f||b.GREATEST_LOWER_BOUND);if(0>g)return-1;for(;g-1>=0&&0===e(c[g],c[g-1],!0);)--g;return g}})},{amdefine:212}],252:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,b){var c=a.generatedLine,d=b.generatedLine,e=a.generatedColumn,g=b.generatedColumn;return d>c||d==c&&g>=e||f.compareByGeneratedPositionsInflated(a,b)<=0}function e(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var f=a("./util");e.prototype.unsortedForEach=function(a,b){this._array.forEach(a,b)},e.prototype.add=function(a){d(this._last,a)?(this._last=a,this._array.push(a)):(this._sorted=!1,this._array.push(a))},e.prototype.toArray=function(){return this._sorted||(this._array.sort(f.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},b.MappingList=e})},{"./util":257,amdefine:212}],253:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function e(a,b){return Math.round(a+Math.random()*(b-a))}function f(a,b,c,g){if(g>c){var h=e(c,g),i=c-1;d(a,h,g);for(var j=a[g],k=c;g>k;k++)b(a[k],j)<=0&&(i+=1,d(a,i,k));d(a,i+1,k);var l=i+1;f(a,b,c,l-1),f(a,b,l+1,g)}}b.quickSort=function(a,b){f(a,b,0,a.length-1)}})},{amdefine:212}],254:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a){var b=a;return"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,""))),null!=b.sections?new g(b):new e(b)}function e(a){var b=a;"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,"")));var c=h.getArg(b,"version"),d=h.getArg(b,"sources"),e=h.getArg(b,"names",[]),f=h.getArg(b,"sourceRoot",null),g=h.getArg(b,"sourcesContent",null),i=h.getArg(b,"mappings"),k=h.getArg(b,"file",null);if(c!=this._version)throw new Error("Unsupported version: "+c);d=d.map(h.normalize),this._names=j.fromArray(e,!0),this._sources=j.fromArray(d,!0),this.sourceRoot=f,this.sourcesContent=g,this._mappings=i,this.file=k}function f(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function g(a){var b=a;"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,"")));var c=h.getArg(b,"version"),e=h.getArg(b,"sections");if(c!=this._version)throw new Error("Unsupported version: "+c);this._sources=new j,this._names=new j;var f={line:-1,column:0};this._sections=e.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var b=h.getArg(a,"offset"),c=h.getArg(b,"line"),e=h.getArg(b,"column");if(c<f.line||c===f.line&&e<f.column)throw new Error("Section offsets must be ordered and non-overlapping.");return f=b,{generatedOffset:{generatedLine:c+1,generatedColumn:e+1},consumer:new d(h.getArg(a,"map"))}})}var h=a("./util"),i=a("./binary-search"),j=a("./array-set").ArraySet,k=a("./base64-vlq"),l=a("./quick-sort").quickSort;d.fromSourceMap=function(a){return e.fromSourceMap(a)},d.prototype._version=3,d.prototype.__generatedMappings=null,Object.defineProperty(d.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),d.prototype.__originalMappings=null,Object.defineProperty(d.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),d.prototype._charIsMappingSeparator=function(a,b){var c=a.charAt(b);return";"===c||","===c},d.prototype._parseMappings=function(a,b){throw new Error("Subclasses must implement _parseMappings")},d.GENERATED_ORDER=1,d.ORIGINAL_ORDER=2,d.GREATEST_LOWER_BOUND=1,d.LEAST_UPPER_BOUND=2,d.prototype.eachMapping=function(a,b,c){var e,f=b||null,g=c||d.GENERATED_ORDER;switch(g){case d.GENERATED_ORDER:e=this._generatedMappings;break;case d.ORIGINAL_ORDER:e=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;e.map(function(a){var b=null===a.source?null:this._sources.at(a.source);return null!=b&&null!=i&&(b=h.join(i,b)),{source:b,generatedLine:a.generatedLine,generatedColumn:a.generatedColumn,originalLine:a.originalLine,originalColumn:a.originalColumn,name:null===a.name?null:this._names.at(a.name)}},this).forEach(a,f)},d.prototype.allGeneratedPositionsFor=function(a){var b=h.getArg(a,"line"),c={source:h.getArg(a,"source"),originalLine:b,originalColumn:h.getArg(a,"column",0)};if(null!=this.sourceRoot&&(c.source=h.relative(this.sourceRoot,c.source)),!this._sources.has(c.source))return[];c.source=this._sources.indexOf(c.source);var d=[],e=this._findMapping(c,this._originalMappings,"originalLine","originalColumn",h.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(e>=0){var f=this._originalMappings[e];if(void 0===a.column)for(var g=f.originalLine;f&&f.originalLine===g;)d.push({line:h.getArg(f,"generatedLine",null),column:h.getArg(f,"generatedColumn",null),lastColumn:h.getArg(f,"lastGeneratedColumn",null)}),f=this._originalMappings[++e];else for(var j=f.originalColumn;f&&f.originalLine===b&&f.originalColumn==j;)d.push({line:h.getArg(f,"generatedLine",null),column:h.getArg(f,"generatedColumn",null),lastColumn:h.getArg(f,"lastGeneratedColumn",null)}),f=this._originalMappings[++e]}return d},b.SourceMapConsumer=d,e.prototype=Object.create(d.prototype),e.prototype.consumer=d,e.fromSourceMap=function(a){var b=Object.create(e.prototype),c=b._names=j.fromArray(a._names.toArray(),!0),d=b._sources=j.fromArray(a._sources.toArray(),!0);b.sourceRoot=a._sourceRoot,b.sourcesContent=a._generateSourcesContent(b._sources.toArray(),b.sourceRoot),b.file=a._file;for(var g=a._mappings.toArray().slice(),i=b.__generatedMappings=[],k=b.__originalMappings=[],m=0,n=g.length;n>m;m++){var o=g[m],p=new f;p.generatedLine=o.generatedLine,p.generatedColumn=o.generatedColumn,o.source&&(p.source=d.indexOf(o.source),p.originalLine=o.originalLine,p.originalColumn=o.originalColumn,o.name&&(p.name=c.indexOf(o.name)),k.push(p)),i.push(p)}return l(b.__originalMappings,h.compareByOriginalPositions),b},e.prototype._version=3,Object.defineProperty(e.prototype,"sources",{get:function(){return this._sources.toArray().map(function(a){return null!=this.sourceRoot?h.join(this.sourceRoot,a):a},this)}}),e.prototype._parseMappings=function(a,b){for(var c,d,e,g,i,j=1,m=0,n=0,o=0,p=0,q=0,r=a.length,s=0,t={},u={},v=[],w=[];r>s;)if(";"===a.charAt(s))j++,s++,m=0;else if(","===a.charAt(s))s++;else{for(c=new f,c.generatedLine=j,g=s;r>g&&!this._charIsMappingSeparator(a,g);g++);if(d=a.slice(s,g),e=t[d])s+=d.length;else{for(e=[];g>s;)k.decode(a,s,u),i=u.value,s=u.rest,e.push(i);if(2===e.length)throw new Error("Found a source, but no line and column");if(3===e.length)throw new Error("Found a source and line, but no column");t[d]=e}c.generatedColumn=m+e[0],m=c.generatedColumn,e.length>1&&(c.source=p+e[1],p+=e[1],c.originalLine=n+e[2],n=c.originalLine,c.originalLine+=1,c.originalColumn=o+e[3],o=c.originalColumn,e.length>4&&(c.name=q+e[4],q+=e[4])),w.push(c),"number"==typeof c.originalLine&&v.push(c)}l(w,h.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,l(v,h.compareByOriginalPositions),this.__originalMappings=v},e.prototype._findMapping=function(a,b,c,d,e,f){if(a[c]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+a[c]);if(a[d]<0)throw new TypeError("Column must be greater than or equal to 0, got "+a[d]);return i.search(a,b,e,f)},e.prototype.computeColumnSpans=function(){for(var a=0;a<this._generatedMappings.length;++a){var b=this._generatedMappings[a];if(a+1<this._generatedMappings.length){var c=this._generatedMappings[a+1];if(b.generatedLine===c.generatedLine){b.lastGeneratedColumn=c.generatedColumn-1;continue}}b.lastGeneratedColumn=1/0}},e.prototype.originalPositionFor=function(a){var b={generatedLine:h.getArg(a,"line"),generatedColumn:h.getArg(a,"column")},c=this._findMapping(b,this._generatedMappings,"generatedLine","generatedColumn",h.compareByGeneratedPositionsDeflated,h.getArg(a,"bias",d.GREATEST_LOWER_BOUND));if(c>=0){var e=this._generatedMappings[c];if(e.generatedLine===b.generatedLine){var f=h.getArg(e,"source",null);null!==f&&(f=this._sources.at(f),null!=this.sourceRoot&&(f=h.join(this.sourceRoot,f)));var g=h.getArg(e,"name",null);return null!==g&&(g=this._names.at(g)),{source:f,line:h.getArg(e,"originalLine",null),column:h.getArg(e,"originalColumn",null),name:g}}}return{source:null,line:null,column:null,name:null}},e.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(a){return null==a}):!1},e.prototype.sourceContentFor=function(a,b){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(a=h.relative(this.sourceRoot,a)),this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];var c;if(null!=this.sourceRoot&&(c=h.urlParse(this.sourceRoot))){var d=a.replace(/^file:\/\//,"");if("file"==c.scheme&&this._sources.has(d))return this.sourcesContent[this._sources.indexOf(d)];if((!c.path||"/"==c.path)&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(b)return null;throw new Error('"'+a+'" is not in the SourceMap.')},e.prototype.generatedPositionFor=function(a){var b=h.getArg(a,"source");if(null!=this.sourceRoot&&(b=h.relative(this.sourceRoot,b)),!this._sources.has(b))return{line:null,column:null,lastColumn:null};b=this._sources.indexOf(b);var c={source:b,originalLine:h.getArg(a,"line"),originalColumn:h.getArg(a,"column")},e=this._findMapping(c,this._originalMappings,"originalLine","originalColumn",h.compareByOriginalPositions,h.getArg(a,"bias",d.GREATEST_LOWER_BOUND));if(e>=0){var f=this._originalMappings[e];if(f.source===c.source)return{line:h.getArg(f,"generatedLine",null),column:h.getArg(f,"generatedColumn",null),lastColumn:h.getArg(f,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},b.BasicSourceMapConsumer=e,g.prototype=Object.create(d.prototype),g.prototype.constructor=d,g.prototype._version=3,Object.defineProperty(g.prototype,"sources",{get:function(){for(var a=[],b=0;b<this._sections.length;b++)for(var c=0;c<this._sections[b].consumer.sources.length;c++)a.push(this._sections[b].consumer.sources[c]);return a}}),g.prototype.originalPositionFor=function(a){var b={generatedLine:h.getArg(a,"line"),generatedColumn:h.getArg(a,"column")},c=i.search(b,this._sections,function(a,b){var c=a.generatedLine-b.generatedOffset.generatedLine;return c?c:a.generatedColumn-b.generatedOffset.generatedColumn}),d=this._sections[c];return d?d.consumer.originalPositionFor({line:b.generatedLine-(d.generatedOffset.generatedLine-1),column:b.generatedColumn-(d.generatedOffset.generatedLine===b.generatedLine?d.generatedOffset.generatedColumn-1:0),bias:a.bias}):{source:null,line:null,column:null,name:null}},g.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(a){return a.consumer.hasContentsOfAllSources()})},g.prototype.sourceContentFor=function(a,b){for(var c=0;c<this._sections.length;c++){var d=this._sections[c],e=d.consumer.sourceContentFor(a,!0);if(e)return e}if(b)return null;throw new Error('"'+a+'" is not in the SourceMap.')},g.prototype.generatedPositionFor=function(a){for(var b=0;b<this._sections.length;b++){var c=this._sections[b];if(-1!==c.consumer.sources.indexOf(h.getArg(a,"source"))){var d=c.consumer.generatedPositionFor(a);if(d){var e={line:d.line+(c.generatedOffset.generatedLine-1),column:d.column+(c.generatedOffset.generatedLine===d.line?c.generatedOffset.generatedColumn-1:0)};return e}}}return{line:null,column:null}},g.prototype._parseMappings=function(a,b){this.__generatedMappings=[],this.__originalMappings=[];for(var c=0;c<this._sections.length;c++)for(var d=this._sections[c],e=d.consumer._generatedMappings,f=0;f<e.length;f++){var g=e[c],i=d.consumer._sources.at(g.source);null!==d.consumer.sourceRoot&&(i=h.join(d.consumer.sourceRoot,i)),this._sources.add(i),i=this._sources.indexOf(i);var j=d.consumer._names.at(g.name);this._names.add(j),j=this._names.indexOf(j);var k={source:i,generatedLine:g.generatedLine+(d.generatedOffset.generatedLine-1),generatedColumn:g.column+(d.generatedOffset.generatedLine===g.generatedLine)?d.generatedOffset.generatedColumn-1:0,originalLine:g.originalLine,originalColumn:g.originalColumn,name:j};this.__generatedMappings.push(k),"number"==typeof k.originalLine&&this.__originalMappings.push(k)}l(this.__generatedMappings,h.compareByGeneratedPositionsDeflated),l(this.__originalMappings,h.compareByOriginalPositions)},b.IndexedSourceMapConsumer=g})},{"./array-set":248,"./base64-vlq":249,"./binary-search":251,"./quick-sort":253,"./util":257,amdefine:212}],255:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a){a||(a={}),this._file=f.getArg(a,"file",null),this._sourceRoot=f.getArg(a,"sourceRoot",null),this._skipValidation=f.getArg(a,"skipValidation",!1),this._sources=new g,this._names=new g,this._mappings=new h,this._sourcesContents=null}var e=a("./base64-vlq"),f=a("./util"),g=a("./array-set").ArraySet,h=a("./mapping-list").MappingList;d.prototype._version=3,d.fromSourceMap=function(a){var b=a.sourceRoot,c=new d({file:a.file,sourceRoot:b});return a.eachMapping(function(a){var d={generated:{line:a.generatedLine,column:a.generatedColumn}};null!=a.source&&(d.source=a.source,null!=b&&(d.source=f.relative(b,d.source)),d.original={line:a.originalLine,column:a.originalColumn},null!=a.name&&(d.name=a.name)),c.addMapping(d)}),a.sources.forEach(function(b){var d=a.sourceContentFor(b);null!=d&&c.setSourceContent(b,d)}),c},d.prototype.addMapping=function(a){var b=f.getArg(a,"generated"),c=f.getArg(a,"original",null),d=f.getArg(a,"source",null),e=f.getArg(a,"name",null);this._skipValidation||this._validateMapping(b,c,d,e),null==d||this._sources.has(d)||this._sources.add(d),null==e||this._names.has(e)||this._names.add(e),this._mappings.add({generatedLine:b.line,generatedColumn:b.column,originalLine:null!=c&&c.line,originalColumn:null!=c&&c.column,source:d,name:e})},d.prototype.setSourceContent=function(a,b){var c=a;null!=this._sourceRoot&&(c=f.relative(this._sourceRoot,c)),null!=b?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[f.toSetString(c)]=b):this._sourcesContents&&(delete this._sourcesContents[f.toSetString(c)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},d.prototype.applySourceMap=function(a,b,c){var d=b;if(null==b){if(null==a.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');d=a.file}var e=this._sourceRoot;null!=e&&(d=f.relative(e,d));var h=new g,i=new g;this._mappings.unsortedForEach(function(b){if(b.source===d&&null!=b.originalLine){var g=a.originalPositionFor({line:b.originalLine,column:b.originalColumn});null!=g.source&&(b.source=g.source,null!=c&&(b.source=f.join(c,b.source)),null!=e&&(b.source=f.relative(e,b.source)),b.originalLine=g.line,b.originalColumn=g.column,null!=g.name&&(b.name=g.name))}var j=b.source;null==j||h.has(j)||h.add(j);var k=b.name;null==k||i.has(k)||i.add(k)},this),this._sources=h,this._names=i,a.sources.forEach(function(b){var d=a.sourceContentFor(b);null!=d&&(null!=c&&(b=f.join(c,b)),null!=e&&(b=f.relative(e,b)),this.setSourceContent(b,d))},this)},d.prototype._validateMapping=function(a,b,c,d){if((!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0)||b||c||d)&&!(a&&"line"in a&&"column"in a&&b&&"line"in b&&"column"in b&&a.line>0&&a.column>=0&&b.line>0&&b.column>=0&&c))throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:c,original:b,name:d}))},d.prototype._serializeMappings=function(){for(var a,b=0,c=1,d=0,g=0,h=0,i=0,j="",k=this._mappings.toArray(),l=0,m=k.length;m>l;l++){if(a=k[l],a.generatedLine!==c)for(b=0;a.generatedLine!==c;)j+=";",c++;else if(l>0){if(!f.compareByGeneratedPositionsInflated(a,k[l-1]))continue;j+=","}j+=e.encode(a.generatedColumn-b),b=a.generatedColumn,null!=a.source&&(j+=e.encode(this._sources.indexOf(a.source)-i),i=this._sources.indexOf(a.source),j+=e.encode(a.originalLine-1-g),g=a.originalLine-1,j+=e.encode(a.originalColumn-d),d=a.originalColumn,null!=a.name&&(j+=e.encode(this._names.indexOf(a.name)-h),h=this._names.indexOf(a.name)))}return j},d.prototype._generateSourcesContent=function(a,b){return a.map(function(a){if(!this._sourcesContents)return null;null!=b&&(a=f.relative(b,a));var c=f.toSetString(a);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},d.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(a.file=this._file),null!=this._sourceRoot&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},d.prototype.toString=function(){return JSON.stringify(this.toJSON())},b.SourceMapGenerator=d})},{"./array-set":248,"./base64-vlq":249,"./mapping-list":252,"./util":257,amdefine:212}],256:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,b,c,d,e){this.children=[],this.sourceContents={},this.line=null==a?null:a,this.column=null==b?null:b,this.source=null==c?null:c,this.name=null==e?null:e,this[i]=!0,null!=d&&this.add(d)}var e=a("./source-map-generator").SourceMapGenerator,f=a("./util"),g=/(\r?\n)/,h=10,i="$$$isSourceNode$$$";d.fromStringWithSourceMap=function(a,b,c){function e(a,b){if(null===a||void 0===a.source)h.add(b);else{
var e=c?f.join(c,a.source):a.source;h.add(new d(a.originalLine,a.originalColumn,e,b,a.name))}}var h=new d,i=a.split(g),j=function(){var a=i.shift(),b=i.shift()||"";return a+b},k=1,l=0,m=null;return b.eachMapping(function(a){if(null!==m){if(!(k<a.generatedLine)){var b=i[0],c=b.substr(0,a.generatedColumn-l);return i[0]=b.substr(a.generatedColumn-l),l=a.generatedColumn,e(m,c),void(m=a)}var c="";e(m,j()),k++,l=0}for(;k<a.generatedLine;)h.add(j()),k++;if(l<a.generatedColumn){var b=i[0];h.add(b.substr(0,a.generatedColumn)),i[0]=b.substr(a.generatedColumn),l=a.generatedColumn}m=a},this),i.length>0&&(m&&e(m,j()),h.add(i.join(""))),b.sources.forEach(function(a){var d=b.sourceContentFor(a);null!=d&&(null!=c&&(a=f.join(c,a)),h.setSourceContent(a,d))}),h},d.prototype.add=function(a){if(Array.isArray(a))a.forEach(function(a){this.add(a)},this);else{if(!a[i]&&"string"!=typeof a)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);a&&this.children.push(a)}return this},d.prototype.prepend=function(a){if(Array.isArray(a))for(var b=a.length-1;b>=0;b--)this.prepend(a[b]);else{if(!a[i]&&"string"!=typeof a)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);this.children.unshift(a)}return this},d.prototype.walk=function(a){for(var b,c=0,d=this.children.length;d>c;c++)b=this.children[c],b[i]?b.walk(a):""!==b&&a(b,{source:this.source,line:this.line,column:this.column,name:this.name})},d.prototype.join=function(a){var b,c,d=this.children.length;if(d>0){for(b=[],c=0;d-1>c;c++)b.push(this.children[c]),b.push(a);b.push(this.children[c]),this.children=b}return this},d.prototype.replaceRight=function(a,b){var c=this.children[this.children.length-1];return c[i]?c.replaceRight(a,b):"string"==typeof c?this.children[this.children.length-1]=c.replace(a,b):this.children.push("".replace(a,b)),this},d.prototype.setSourceContent=function(a,b){this.sourceContents[f.toSetString(a)]=b},d.prototype.walkSourceContents=function(a){for(var b=0,c=this.children.length;c>b;b++)this.children[b][i]&&this.children[b].walkSourceContents(a);for(var d=Object.keys(this.sourceContents),b=0,c=d.length;c>b;b++)a(f.fromSetString(d[b]),this.sourceContents[d[b]])},d.prototype.toString=function(){var a="";return this.walk(function(b){a+=b}),a},d.prototype.toStringWithSourceMap=function(a){var b={code:"",line:1,column:0},c=new e(a),d=!1,f=null,g=null,i=null,j=null;return this.walk(function(a,e){b.code+=a,null!==e.source&&null!==e.line&&null!==e.column?((f!==e.source||g!==e.line||i!==e.column||j!==e.name)&&c.addMapping({source:e.source,original:{line:e.line,column:e.column},generated:{line:b.line,column:b.column},name:e.name}),f=e.source,g=e.line,i=e.column,j=e.name,d=!0):d&&(c.addMapping({generated:{line:b.line,column:b.column}}),f=null,d=!1);for(var k=0,l=a.length;l>k;k++)a.charCodeAt(k)===h?(b.line++,b.column=0,k+1===l?(f=null,d=!1):d&&c.addMapping({source:e.source,original:{line:e.line,column:e.column},generated:{line:b.line,column:b.column},name:e.name})):b.column++}),this.walkSourceContents(function(a,b){c.setSourceContent(a,b)}),{code:b.code,map:c}},b.SourceNode=d})},{"./source-map-generator":255,"./util":257,amdefine:212}],257:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,b,c){if(b in a)return a[b];if(3===arguments.length)return c;throw new Error('"'+b+'" is a required argument.')}function e(a){var b=a.match(p);return b?{scheme:b[1],auth:b[2],host:b[3],port:b[4],path:b[5]}:null}function f(a){var b="";return a.scheme&&(b+=a.scheme+":"),b+="//",a.auth&&(b+=a.auth+"@"),a.host&&(b+=a.host),a.port&&(b+=":"+a.port),a.path&&(b+=a.path),b}function g(a){var b=a,c=e(a);if(c){if(!c.path)return a;b=c.path}for(var d,g="/"===b.charAt(0),h=b.split(/\/+/),i=0,j=h.length-1;j>=0;j--)d=h[j],"."===d?h.splice(j,1):".."===d?i++:i>0&&(""===d?(h.splice(j+1,i),i=0):(h.splice(j,2),i--));return b=h.join("/"),""===b&&(b=g?"/":"."),c?(c.path=b,f(c)):b}function h(a,b){""===a&&(a="."),""===b&&(b=".");var c=e(b),d=e(a);if(d&&(a=d.path||"/"),c&&!c.scheme)return d&&(c.scheme=d.scheme),f(c);if(c||b.match(q))return b;if(d&&!d.host&&!d.path)return d.host=b,f(d);var h="/"===b.charAt(0)?b:g(a.replace(/\/+$/,"")+"/"+b);return d?(d.path=h,f(d)):h}function i(a,b){""===a&&(a="."),a=a.replace(/\/$/,"");for(var c=0;0!==b.indexOf(a+"/");){var d=a.lastIndexOf("/");if(0>d)return b;if(a=a.slice(0,d),a.match(/^([^\/]+:\/)?\/*$/))return b;++c}return Array(c+1).join("../")+b.substr(a.length+1)}function j(a){return"$"+a}function k(a){return a.substr(1)}function l(a,b,c){var d=a.source-b.source;return 0!==d?d:(d=a.originalLine-b.originalLine,0!==d?d:(d=a.originalColumn-b.originalColumn,0!==d||c?d:(d=a.generatedColumn-b.generatedColumn,0!==d?d:(d=a.generatedLine-b.generatedLine,0!==d?d:a.name-b.name))))}function m(a,b,c){var d=a.generatedLine-b.generatedLine;return 0!==d?d:(d=a.generatedColumn-b.generatedColumn,0!==d||c?d:(d=a.source-b.source,0!==d?d:(d=a.originalLine-b.originalLine,0!==d?d:(d=a.originalColumn-b.originalColumn,0!==d?d:a.name-b.name))))}function n(a,b){return a===b?0:a>b?1:-1}function o(a,b){var c=a.generatedLine-b.generatedLine;return 0!==c?c:(c=a.generatedColumn-b.generatedColumn,0!==c?c:(c=n(a.source,b.source),0!==c?c:(c=a.originalLine-b.originalLine,0!==c?c:(c=a.originalColumn-b.originalColumn,0!==c?c:n(a.name,b.name)))))}b.getArg=d;var p=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,q=/^data:.+\,.+$/;b.urlParse=e,b.urlGenerate=f,b.normalize=g,b.join=h,b.relative=i,b.toSetString=j,b.fromSetString=k,b.compareByOriginalPositions=l,b.compareByGeneratedPositionsDeflated=m,b.compareByGeneratedPositionsInflated=o})},{amdefine:212}]},{},[1]);