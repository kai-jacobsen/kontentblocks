/*! Kontentblocks ProdVersion 2021-11-26 08:11 */

!function o(s,l,a){function d(i,t){if(!l[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(k)return k(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var r=l[i]={exports:{}};s[i][0].call(r.exports,function(t){var e=s[i][1][t];return d(e||t)},r,r.exports,o,s,l,a)}return l[i].exports}for(var k="function"==typeof require&&require,t=0;t<a.length;t++)d(a[t]);return d}({1:[function(t,e,i){wp.customize.controlConstructor.kbLink=t("customizer/controls/Link")},{"customizer/controls/Link":2}],2:[function(t,e,i){var n=t("fields/controls/link");e.exports=wp.customize.Control.extend({ready:function(){var t=this;_.bind(t.updateValue,t),t.LinkField=new n({el:t.selector}),jQuery("#wp-link-wrap").css("zIndex","99999999");var e=_.bind(_.debounce(t.updateValue,400),t);t.LinkField.on("update",e,400),t.LinkField.$text.on("keyup",e),t.LinkField.$input.on("keyup",e)},updateValue:function(){var t=this,e={linktext:t.LinkField.$text.val(),link:t.LinkField.$input.val()};t.setting.set(e)}})},{"fields/controls/link":4}],3:[function(t,e,i){e.exports=Backbone.View.extend({rerender:function(){this.render()},gone:function(){this.trigger("field.view.gone",this)},toString:function(){return""}})},{}],4:[function(t,e,i){var n=t("../FieldControlBaseView");e.exports=n.extend({initialize:function(){this.render()},events:{"click .kb-js-add-link":"openModal"},render:function(){this.$input=this.$("[data-kbf-link-url]"),this.$text=this.$("[data-kbf-link-linktext]"),this.$target=this.$("[data-kbf-link-target]")},derender:function(){},openModal:function(){window._kbLink=this,wpActiveEditor=this.$input.attr("id"),jQuery("#wp-link-wrap").addClass("kb-customized"),window.kb_restore_htmlUpdate=wpLink.htmlUpdate,window.kb_restore_isMce=wpLink.isMCE,wpLink.isMCE=this.isMCE,wpLink.htmlUpdate=this.htmlUpdate,wpLink.open(),jQuery("#wp-link-text").val(this.$text.val()),jQuery("#wp-link-url").val(this.$input.val()),this.model.get("showtarget")||jQuery("#link-selector .link-target").addClass("kb-hide"),this.setTarget()},setTarget:function(){var t=jQuery("#wp-link-target");this.$target.is(":checked")?t.prop("checked",!0):t.prop("checked",!1)},setTargetFromModal:function(t){"_blank"===t?this.$target.prop("checked",!0):this.$target.prop("checked",!1)},htmlUpdate:function(){var t,e,i,n,r=wpLink.textarea;r&&(e=wpLink.getAttrs(),n=jQuery("#wp-link-text").val(),t=e.target,window._kbLink.setTargetFromModal(t),e.href&&(i=e.href,window._kbLink.$input.empty(),window._kbLink.$input.val(i),window._kbLink.trigger("update",n,i),window._kbLink.$text.val(n),wpLink.close(),window._kbLink.close(),r.focus()))},isMCE:function(){return!1},close:function(){this.model.get("showtarget")||jQuery("#link-selector .link-target").removeClass("kb-hide"),wpLink.isMCE=window.kb_restore_isMce,wpLink.htmlUpdate=window.kb_restore_htmlUpdate}})},{"../FieldControlBaseView":3}]},{},[1]);