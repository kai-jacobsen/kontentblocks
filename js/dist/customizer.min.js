/*! Kontentblocks ProdVersion 2015-08-21 03:08 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){wp.customize.controlConstructor.kbLink=a("customizer/controls/Link")},{"customizer/controls/Link":2}],2:[function(a,b,c){var d=a("fields/controls/link");b.exports=wp.customize.Control.extend({ready:function(){var a=this;_.bind(a.updateValue,a),a.LinkField=new d({el:a.selector}),jQuery("#wp-link-wrap").css("zIndex","99999999");var b=_.bind(_.debounce(a.updateValue,400),a);a.LinkField.on("update",b,400),a.LinkField.$text.on("keyup",b),a.LinkField.$input.on("keyup",b)},updateValue:function(){var a=this,b={linktext:a.LinkField.$text.val(),link:a.LinkField.$input.val()};a.setting.set(b)}})},{"fields/controls/link":4}],3:[function(a,b,c){b.exports=Backbone.View.extend({rerender:function(){this.render()}})},{}],4:[function(a,b,c){var d=a("../FieldBaseView");b.exports=d.extend({initialize:function(){window._kbLink=this,this.render()},events:{"click .kb-js-add-link":"openModal"},render:function(){this.$input=this.$("[data-kbf-link-url]"),this.$text=this.$("[data-kbf-link-linktext]")},derender:function(){},openModal:function(){wpActiveEditor=this.$input.attr("id"),jQuery("#wp-link-wrap").addClass("kb-customized"),window.kb_restore_htmlUpdate=wpLink.htmlUpdate,window.kb_restore_isMce=wpLink.isMCE,wpLink.isMCE=this.isMCE,wpLink.htmlUpdate=this.htmlUpdate,wpLink.open(),jQuery("#wp-link-text").val(this.$text.val()),jQuery("#wp-link-url").val(this.$input.val())},htmlUpdate:function(){var a,b,c,d=wpLink.textarea;d&&(a=wpLink.getAttrs(),c=jQuery("#wp-link-text").val(),a.href&&"http://"!=a.href&&(b=a.href,jQuery(d).empty(),d.value=b,window._kbLink.trigger("update",c,b),window._kbLink.$text.val(c),wpLink.close(),window._kbLink.close(),d.focus()))},isMCE:function(){return!1},close:function(){wpLink.isMCE=window.kb_restore_isMce,wpLink.htmlUpdate=window.kb_restore_htmlUpdate}})},{"../FieldBaseView":3}]},{},[1]);