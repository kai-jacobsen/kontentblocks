/*! kontentblocks 2013-10-26 */
function noty(a){jQuery.fn.noty(a)}!function(a,b){"use strict";var c,d=a.document;c=function(){var c,e,f,g,h,i,j,k,l,m,n,o,p,q={},r={},s=!1,t={ENTER:13,ESC:27,SPACE:32},u=[];return r={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',cancel:'<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},p=function(){var a,c,e=!1,f=d.createElement("fakeelement"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(a in g)if(f.style[a]!==b){c=g[a],e=!0;break}return{type:c,supported:e}},c=function(a){return d.getElementById(a)},q={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:b,addListeners:function(a){var b,c,i,j,k,l="undefined"!=typeof f,m="undefined"!=typeof e,n="undefined"!=typeof o,p="",q=this;b=function(b){return"undefined"!=typeof b.preventDefault&&b.preventDefault(),i(b),"undefined"!=typeof o&&(p=o.value),"function"==typeof a&&("undefined"!=typeof o?a(!0,p):a(!0)),!1},c=function(b){return"undefined"!=typeof b.preventDefault&&b.preventDefault(),i(b),"function"==typeof a&&a(!1),!1},i=function(){q.hide(),q.unbind(d.body,"keyup",j),q.unbind(g,"focus",k),l&&q.unbind(f,"click",b),m&&q.unbind(e,"click",c)},j=function(a){var d=a.keyCode;(d===t.SPACE&&!n||n&&d===t.ENTER)&&b(a),d===t.ESC&&m&&c(a)},k=function(){n?o.focus():!m||q.buttonReverse?f.focus():e.focus()},this.bind(g,"focus",k),this.bind(h,"focus",k),l&&this.bind(f,"click",b),m&&this.bind(e,"click",c),this.bind(d.body,"keyup",j),this.transition.supported||this.setFocus()},bind:function(a,b,c){"function"==typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},handleErrors:function(){if("undefined"!=typeof a.onerror){var b=this;return a.onerror=function(a,c,d){b.error("["+a+" on line "+d+" of "+c+"]",0)},!0}return!1},appendButtons:function(a,b){return this.buttonReverse?b+a:a+b},build:function(a){var b="",c=a.type,d=a.message,e=a.cssClass||"";switch(b+='<div class="alertify-dialog">',b+='<a id="alertify-resetFocusBack" class="alertify-resetFocus" href="#">Reset Focus</a>',"none"===q.buttonFocus&&(b+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'),"prompt"===c&&(b+='<div id="alertify-form">'),b+='<article class="alertify-inner">',b+=r.message.replace("{{message}}",d),"prompt"===c&&(b+=r.input),b+=r.buttons.holder,b+="</article>","prompt"===c&&(b+="</div>"),b+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',b+="</div>",c){case"confirm":b=b.replace("{{buttons}}",this.appendButtons(r.buttons.cancel,r.buttons.ok)),b=b.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":b=b.replace("{{buttons}}",this.appendButtons(r.buttons.cancel,r.buttons.submit)),b=b.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":b=b.replace("{{buttons}}",r.buttons.ok),b=b.replace("{{ok}}",this.labels.ok)}return l.className="alertify alertify-"+c+" "+e,k.className="alertify-cover",b},close:function(a,b){var c,d,e=b&&!isNaN(b)?+b:this.delay,f=this;this.bind(a,"click",function(){c(a)}),d=function(a){a.stopPropagation(),f.unbind(this,f.transition.type,d),m.removeChild(this),m.hasChildNodes()||(m.className+=" alertify-logs-hidden")},c=function(a){"undefined"!=typeof a&&a.parentNode===m&&(f.transition.supported?(f.bind(a,f.transition.type,d),a.className+=" alertify-log-hide"):(m.removeChild(a),m.hasChildNodes()||(m.className+=" alertify-logs-hidden")))},0!==b&&setTimeout(function(){c(a)},e)},dialog:function(a,b,c,e,f){j=d.activeElement;var g=function(){m&&null!==m.scrollTop&&k&&null!==k.scrollTop||g()};if("string"!=typeof a)throw new Error("message must be a string");if("string"!=typeof b)throw new Error("type must be a string");if("undefined"!=typeof c&&"function"!=typeof c)throw new Error("fn must be a function");return this.init(),g(),u.push({type:b,message:a,callback:c,placeholder:e,cssClass:f}),s||this.setup(),this},extend:function(a){if("string"!=typeof a)throw new Error("extend method must have exactly one paramter");return function(b,c){return this.log(b,a,c),this}},hide:function(){var a,b=this;u.splice(0,1),u.length>0?this.setup(!0):(s=!1,a=function(c){c.stopPropagation(),b.unbind(l,b.transition.type,a)},this.transition.supported?(this.bind(l,this.transition.type,a),l.className="alertify alertify-hide alertify-hidden"):l.className="alertify alertify-hide alertify-hidden alertify-isHidden",k.className="alertify-cover alertify-cover-hidden",j.focus())},init:function(){d.createElement("nav"),d.createElement("article"),d.createElement("section"),null==c("alertify-cover")&&(k=d.createElement("div"),k.setAttribute("id","alertify-cover"),k.className="alertify-cover alertify-cover-hidden",d.body.appendChild(k)),null==c("alertify")&&(s=!1,u=[],l=d.createElement("section"),l.setAttribute("id","alertify"),l.className="alertify alertify-hidden",d.body.appendChild(l)),null==c("alertify-logs")&&(m=d.createElement("section"),m.setAttribute("id","alertify-logs"),m.className="alertify-logs alertify-logs-hidden",d.body.appendChild(m)),d.body.setAttribute("tabindex","0"),this.transition=p()},log:function(a,b,c){var d=function(){m&&null!==m.scrollTop||d()};return this.init(),d(),m.className="alertify-logs",this.notify(a,b,c),this},notify:function(a,b,c){var e=d.createElement("article");e.className="alertify-log"+("string"==typeof b&&""!==b?" alertify-log-"+b:""),e.innerHTML=a,m.appendChild(e),setTimeout(function(){e.className=e.className+" alertify-log-show"},50),this.close(e,c)},set:function(a){var b;if("object"!=typeof a&&a instanceof Array)throw new Error("args must be an object");for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},setFocus:function(){o?(o.focus(),o.select()):i.focus()},setup:function(a){var d,j=u[0],k=this;s=!0,d=function(a){a.stopPropagation(),k.setFocus(),k.unbind(l,k.transition.type,d)},this.transition.supported&&!a&&this.bind(l,this.transition.type,d),l.innerHTML=this.build(j),g=c("alertify-resetFocus"),h=c("alertify-resetFocusBack"),f=c("alertify-ok")||b,e=c("alertify-cancel")||b,i="cancel"===q.buttonFocus?e:"none"===q.buttonFocus?c("alertify-noneFocus"):f,o=c("alertify-text")||b,n=c("alertify-form")||b,"string"==typeof j.placeholder&&""!==j.placeholder&&(o.value=j.placeholder),a&&this.setFocus(),this.addListeners(j.callback)},unbind:function(a,b,c){"function"==typeof a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}},{alert:function(a,b,c){return q.dialog(a,"alert",b,"",c),this},confirm:function(a,b,c){return q.dialog(a,"confirm",b,"",c),this},extend:q.extend,init:q.init,log:function(a,b,c){return q.log(a,b,c),this},prompt:function(a,b,c,d){return q.dialog(a,"prompt",b,c,d),this},success:function(a,b){return q.log(a,"success",b),this},error:function(a,b){return q.log(a,"error",b),this},set:function(a){q.set(a)},labels:q.labels,debug:q.handleErrors}},"function"==typeof define?define([],function(){return new c}):"undefined"==typeof a.alertify&&(a.alertify=new c)}(this),function(a){var b,c=0,d=function(){var a=navigator.userAgent,b=/msie\s\d+/i;return 0<a.search(b)?(a=b.exec(a).toString(),a=a.split(" ")[1],9>a?!0:!1):!1}();try{document.createEvent("TouchEvent"),b=!0}catch(e){b=!1}var f={init:function(e){var f=a.extend({min:10,max:100,from:null,to:null,type:"single",step:1,prefix:"",postfix:"",hasGrid:!1,hideText:!1,prettify:!0,onChange:null,onFinish:null},e),g='<span class="irs">',g=g+'<span class="irs-line"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span>',g=g+'<span class="irs-min">0</span><span class="irs-max">1</span>',g=g+'<span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span>',g=g+"</span>",g=g+'<span class="irs-grid"></span>',h='<span class="irs-diapason"></span>',h=h+'<span class="irs-slider from"></span>',h=h+'<span class="irs-slider to"></span>';return this.each(function(){var e=a(this);if(!e.data("isActive")){e.data("isActive",!0),c++,this.pluginCount=c,"number"!=typeof f.from&&(f.from=f.min),"number"!=typeof f.to&&(f.to=f.max),e.attr("value")&&(f.min=parseInt(e.attr("value").split(";")[0],10),f.max=parseInt(e.attr("value").split(";")[1],10)),"number"==typeof e.data("from")&&(f.from=parseInt(e.data("from"),10)),"number"==typeof e.data("to")&&(f.to=parseInt(e.data("to"),10)),e.data("step")&&(f.step=parseFloat(e.data("step"))),e.data("type")&&(f.type=e.data("type")),e.data("prefix")&&(f.prefix=e.data("prefix")),e.data("postfix")&&(f.postfix=e.data("postfix")),e.data("hasgrid")&&(f.hasGrid=e.data("hasgrid")),e.data("hidetext")&&(f.hideText=e.data("hidetext")),e.data("prettify")&&(f.prettify=e.data("prettify")),f.from<f.min&&(f.from=f.min),f.to>f.max&&(f.to=f.max),"double"===f.type&&(f.from>f.to&&(f.from=f.to),f.to<f.from&&(f.to=f.from));var i=function(a){return a=a.toString(),f.prettify&&(a=a.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")),a},j='<span class="irs" id="irs-'+this.pluginCount+'"></span>';e[0].style.display="none",e.before(j);var k,l,m,n,o,p,q,r,s,t,u,v,w=a("#irs-"+this.pluginCount),x=a(document.body),y=a(window),z=!1,A=!1,B=!0,C={},D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=0;parseInt(f.step,10)!==parseFloat(f.step)&&(N=f.step.toString().split(".")[1],N=Math.pow(10,N.length)),this.updateData=function(b){f=a.extend(f,b),w.find("*").off(),w.html(""),O()},this.removeSlider=function(){w.find("*").off(),w.html("").remove(),e.data("isActive",!1),e.show()};var O=function(){w.html(g),k=w.find(".irs"),l=k.find(".irs-min"),m=k.find(".irs-max"),n=k.find(".irs-from"),o=k.find(".irs-to"),p=k.find(".irs-single"),v=w.find(".irs-grid"),f.hideText?(l[0].style.display="none",m[0].style.display="none",n[0].style.display="none",o[0].style.display="none",p[0].style.display="none"):(l.html(f.prefix+i(f.min)+f.postfix),m.html(f.prefix+i(f.max)+f.postfix)),E=l.outerWidth(),F=m.outerWidth(),"single"===f.type?(k.append('<span class="irs-slider single"></span>'),q=k.find(".single"),q.on("mousedown",function(b){b.preventDefault(),b.stopPropagation(),Q(b,a(this),null),A=z=!0,d&&a("*").prop("unselectable",!0)}),b&&q.on("touchstart",function(b){b.preventDefault(),b.stopPropagation(),Q(b.originalEvent.touches[0],a(this),null),A=z=!0})):"double"===f.type&&(k.append(h),r=k.find(".from"),s=k.find(".to"),u=k.find(".irs-diapason"),R(),r.on("mousedown",function(b){b.preventDefault(),b.stopPropagation(),a(this).addClass("last"),s.removeClass("last"),Q(b,a(this),"from"),A=z=!0,d&&a("*").prop("unselectable",!0)}),s.on("mousedown",function(b){b.preventDefault(),b.stopPropagation(),a(this).addClass("last"),r.removeClass("last"),Q(b,a(this),"to"),A=z=!0,d&&a("*").prop("unselectable",!0)}),b&&(r.on("touchstart",function(b){b.preventDefault(),b.stopPropagation(),a(this).addClass("last"),s.removeClass("last"),Q(b.originalEvent.touches[0],a(this),"from"),A=z=!0}),s.on("touchstart",function(b){b.preventDefault(),b.stopPropagation(),a(this).addClass("last"),r.removeClass("last"),Q(b.originalEvent.touches[0],a(this),"to"),A=z=!0})),f.to===f.max&&r.addClass("last")),x.on("mouseup",function(){z&&(z=A=!1,t.removeAttr("id"),t=null,"double"===f.type&&R(),T(),d&&a("*").prop("unselectable",!1))}),x.on("mousemove",function(a){z&&(D=a.pageX,S())}),b&&(y.on("touchend",function(){z&&(z=A=!1,t.removeAttr("id"),t=null,"double"===f.type&&R(),T())}),y.on("touchmove",function(a){z&&(D=a.originalEvent.touches[0].pageX,S())})),P(),U(),f.hasGrid&&W()},P=function(){G=k.width(),I=q?q.width():r.width(),H=G-I},Q=function(a,b,c){P(),B=!1,t=b,t.attr("id","irs-active-slider"),b=t.offset().left,M=b+(a.pageX-b)-t.position().left,"single"===f.type?J=k.width()-I:"double"===f.type&&("from"===c?(K=0,L=parseInt(s.css("left"),10)):(K=parseInt(r.css("left"),10),L=k.width()-I))},R=function(){var a=r.width(),b=parseInt(r[0].style.left,10)||r.position().left,c=(parseInt(s[0].style.left,10)||s.position().left)-b;u[0].style.left=b+a/2+"px",u[0].style.width=c+"px"},S=function(){var a=Math.round(D-M);"single"===f.type?(0>a&&(a=0),a>J&&(a=J),T()):"double"===f.type&&(K>a&&(a=K),a>L&&(a=L),T(),R()),t[0].style.left=a+"px"},T=function(){var a,b={fromNumber:0,toNumber:0,fromPers:0,toPers:0,fromX:0,toX:0},c=f.max-f.min;"single"===f.type?(b.fromX=parseInt(q[0].style.left,10)||q.position().left,b.fromPers=100*(b.fromX/H),a=c/100*b.fromPers+parseInt(f.min,10),b.fromNumber=Math.round(a/f.step)*f.step,N&&(b.fromNumber=parseInt(b.fromNumber*N,10)/N)):"double"===f.type&&(b.fromX=parseInt(r[0].style.left,10)||r.position().left,b.fromPers=100*(b.fromX/H),a=c/100*b.fromPers+parseInt(f.min,10),b.fromNumber=Math.round(a/f.step)*f.step,b.toX=parseInt(s[0].style.left,10)||s.position().left,b.toPers=100*(b.toX/H),c=c/100*b.toPers+parseInt(f.min,10),b.toNumber=Math.round(c/f.step)*f.step,N&&(b.fromNumber=parseInt(b.fromNumber*N,10)/N,b.toNumber=parseInt(b.toNumber*N,10)/N)),C=b,V()},U=function(){var a={fromNumber:f.from,toNumber:f.to,fromPers:0,toPers:0,fromX:0,toX:0},b=f.max-f.min;"single"===f.type?(a.fromPers=100*((a.fromNumber-f.min)/b),a.fromX=Math.round(H/100*a.fromPers),q[0].style.left=a.fromX+"px"):"double"===f.type&&(a.fromPers=100*((a.fromNumber-f.min)/b),a.fromX=Math.round(H/100*a.fromPers),r[0].style.left=a.fromX+"px",a.toPers=100*((a.toNumber-f.min)/b),a.toX=Math.round(H/100*a.toPers),s[0].style.left=a.toX+"px",R()),C=a,V()},V=function(){var a,b,c,d,g,h;h=I/2,"single"===f.type?(f.hideText||(n[0].style.display="none",o[0].style.display="none",c=f.prefix+i(C.fromNumber)+f.postfix,p.html(c),g=p.outerWidth(),h=C.fromX-g/2+h,0>h&&(h=0),h>G-g&&(h=G-g),p[0].style.left=h+"px",l[0].style.display=E>h?"none":"block",m[0].style.display=h+g>G-F?"none":"block"),e.attr("value",parseInt(C.fromNumber,10))):"double"===f.type&&(f.hideText||(a=f.prefix+i(C.fromNumber)+f.postfix,b=f.prefix+i(C.toNumber)+f.postfix,c=C.fromNumber!=C.toNumber?f.prefix+i(C.fromNumber)+" — "+f.prefix+i(C.toNumber)+f.postfix:f.prefix+i(C.fromNumber)+f.postfix,n.html(a),o.html(b),p.html(c),a=n.outerWidth(),b=C.fromX-a/2+h,0>b&&(b=0),b>G-a&&(b=G-a),n[0].style.left=b+"px",c=o.outerWidth(),d=C.toX-c/2+h,0>d&&(d=0),d>G-c&&(d=G-c),o[0].style.left=d+"px",g=p.outerWidth(),h=C.fromX+(C.toX-C.fromX)/2-g/2+h,0>h&&(h=0),h>G-g&&(h=G-g),p[0].style.left=h+"px",d>b+a?(p[0].style.display="none",n[0].style.display="block",o[0].style.display="block"):(p[0].style.display="block",n[0].style.display="none",o[0].style.display="none"),l[0].style.display=E>h||E>b?"none":"block",m[0].style.display=h+g>G-F||d+c>G-F?"none":"block"),e.attr("value",parseInt(C.fromNumber,10)+";"+parseInt(C.toNumber,10))),"function"==typeof f.onChange&&f.onChange.call(this,C),"function"!=typeof f.onFinish||A||B||f.onFinish.call(this,C)},W=function(){w.addClass("irs-with-grid");var a,b="",c=0,c=0,d="";for(a=0;20>=a;a++)c=Math.floor(G/20*a),c>=G&&(c=G-1),d+='<span class="irs-grid-pol small" style="left: '+c+'px;"></span>';for(a=0;4>=a;a++)c=Math.floor(G/4*a),c>=G&&(c=G-1),d+='<span class="irs-grid-pol" style="left: '+c+'px;"></span>',N?(b=f.min+(f.max-f.min)/4*a,b=b/f.step*f.step,b=parseInt(b*N,10)/N):(b=Math.round(f.min+(f.max-f.min)/4*a),b=Math.round(b/f.step)*f.step,b=i(b)),0===a?d+='<span class="irs-grid-text" style="left: '+c+'px; text-align: left;">'+b+"</span>":4===a?(c-=100,d+='<span class="irs-grid-text" style="left: '+c+'px; text-align: right;">'+b+"</span>"):(c-=50,d+='<span class="irs-grid-text" style="left: '+c+'px;">'+b+"</span>");v.html(d)};O()}})},update:function(a){return this.each(function(){this.updateData(a)})},remove:function(){return this.each(function(){this.removeSlider()})}};a.fn.ionRangeSlider=function(b){return f[b]?f[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist for jQuery.ionRangeSlider"),void 0):f.init.apply(this,arguments)}}(jQuery),function(a,b){"use strict";"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var c=c||function(c){var d={debug:!0,element:null,modifier:"auto",placeholder:"",autofocus:!1,autoHR:!0,mode:"rich",maxLength:-1,modifiers:{66:"bold",73:"italicize",85:"underline",86:"paste"},tags:{paragraph:"p",outerLevel:["pre","blockquote","figure","hr"],innerLevel:["a","b","u","i","img","strong"]},cssClasses:{editor:"Medium",pasteHook:"Medium-paste-hook",placeholder:"Medium-placeholder"},attributes:{remove:["style","class"]}},e={initialized:!1,cmd:!1,focusedElement:null},f=function(a){d.debug&&console.log(a)},g={isCommand:function(a,b,c){return"ctrl"===d.modifier&&a.ctrlKey||"cmd"===d.modifier&&a.metaKey||"auto"===d.modifier&&(a.ctrlKey||a.metaKey)?b.call():c.call()},isShift:function(a,b,c){return a.shiftKey?b.call():c.call()},isModifier:function(a,b){var c=a.which,e=d.modifiers[c];return e?b.call(null,e):void 0},isNotSpecial:function(a){var b={16:"shift",17:"ctrl",18:"alt",91:"cmd",8:"delete"};return e.cmd?!1:!(a.which in b)},addEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},removeEvent:function(a,b,c){a.addEventListener?a.removeEventListener(b,c,!1):a.attachEvent&&a.detachEvent("on"+b,c)},preventDefaultEvent:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},getElementsByClassName:function(a,b){b=b?b:document.body;for(var c=[],d=new RegExp("(^| )"+a+"( |$)"),e=b.getElementsByTagName("*"),f=0,g=e.length;g>f;f++)d.test(e[f].className)&&c.push(e[f]);return c},deepExtend:function(a,b){for(var c in b)b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},g.deepExtend(a[c],b[c])):a[c]=b[c];return a},selection:{saveSelection:function(){if(a.getSelection){var c=a.getSelection();if(c.rangeCount>0)return c.getRangeAt(0)}else if(b.selection&&b.selection.createRange)return b.selection.createRange();return null},restoreSelection:function(c){if(c)if(a.getSelection){var d=a.getSelection();d.removeAllRanges(),d.addRange(c)}else b.selection&&c.select&&c.select()}},cursor:{set:function(c,d){if(b.createRange){var e=b.createRange(),f=a.getSelection(),h=g.html.lastChild(),i=g.html.text(h).length-1,j=d?d:h,k="undefined"!=typeof c?c:i;e.setStart(j,k),e.collapse(!0),f.removeAllRanges(),f.addRange(e)}else{var e=b.body.createTextRange();e.moveToElementText(d),e.collapse(!1),e.select()}}},html:{text:function(a,b){return a=a||d.element,b&&(a.textContent&&"undefined"!=typeof a.textContent?a.textContent=b:a.innerText=b),(a.textContent||a.innerText).trim()},changeTag:function(a,c){var d,e,f=b.createElement(c);for(d=a.firstChild;d;)e=d.nextSibling,f.appendChild(d),d=e;a.parentNode.insertBefore(f,a),a.parentNode.removeChild(a)},deleteNode:function(a){a.parentNode.removeChild(a)},placeholders:function(){var a=g.getElementsByClassName(d.cssClasses.placeholder,d.element),b=g.html.text(d.element);if(""===b){if(d.element.innerHTML="",d.placeholder.length>0){g.html.addTag(d.tags.paragraph,!1,!1);var c=g.html.lastChild();c.className=d.cssClasses.placeholder,g.html.text(c,d.placeholder)}g.html.addTag(d.tags.paragraph,e.initialized?!0:d.autofocus)}else if(b!==d.placeholder){var f;for(f=0;f<a.length;f++)g.html.deleteNode(a[f])}},clean:function(){var a,b,c,e=d.attributes.remove,f=d.tags.outerLevel.concat([d.tags.paragraph]),h=d.element.children;for(a=0;a<h.length;a++){var i=h[a],j=i.nodeName,k=!0;for(c=0;c<e.length;c++)i.hasAttribute(e[c])&&i.getAttribute(e[c])!==d.cssClasses.placeholder&&i.removeAttribute(e[c]);for(b=0;b<f.length;b++)f[b]===j.toLowerCase()&&(k=!1);if(k)switch(j.toLowerCase()){case"div":g.html.changeTag(i,d.tags.paragraph);break;default:g.html.deleteNode(i)}}},lastChild:function(){return d.element.lastChild},addTag:function(a,c,f,h){var i,j=b.createElement(a);"undefined"!=typeof f&&f===!1&&(j.contentEditable=!1),j.innerHTML=" ",h&&h.nextSibling?(h.parentNode.insertBefore(j,h.nextSibling),i=h.nextSibling):(d.element.appendChild(j),i=g.html.lastChild()),c&&(e.focusedElement=i,g.cursor.set(0,i))}},pasteHook:function(a){var c=b.createElement("textarea");c.className=d.cssClasses.pasteHook,d.element.appendChild(c);var e=g.getElementsByClassName(d.cssClasses.pasteHook,d.element)[0];e.focus(),setTimeout(function(){var b=e.value;a.call(null,b),g.html.deleteNode(e)},1)}},h={focus:function(){},down:function(a){if(g.isCommand(a,function(){e.cmd=!0},function(){e.cmd=!1}),g.isShift(a,function(){e.shift=!0},function(){e.shift=!1}),g.isModifier(a,function(b){if(e.cmd){if(("inline"===d.mode||"partial"===d.mode)&&"paste"!==b)return;h.command[b].call(null,a)}}),-1!==d.maxLength){var b=d.element.getElementsByClassName(d.cssClasses.placeholder)[0],c=g.html.text().length;if(d.placeholder&&b&&(c-=d.placeholder.length),c>=d.maxLength&&g.isNotSpecial(a))return g.preventDefaultEvent(a);f(c+"/"+d.maxLength)}13===a.which&&h.enterKey.call(null,a)},up:function(a){g.isCommand(a,function(){e.cmd=!1},function(){e.cmd=!0}),g.html.clean(),i.preserveElementFocus()},command:{bold:function(a){g.preventDefaultEvent(a),b.execCommand("bold",!1),f("Bold")},underline:function(a){g.preventDefaultEvent(a),b.execCommand("underline",!1),f("Underline")},italicize:function(a){g.preventDefaultEvent(a),b.execCommand("italic",!1),f("Italic")},quote:function(){},paste:function(){var a=g.selection.saveSelection();g.pasteHook(function(c){g.selection.restoreSelection(a),b.execCommand("insertHTML",!1,c.replace(/\n/g,"<br>"))})}},enterKey:function(a){if("inline"===d.mode)return g.preventDefaultEvent(a);if(!e.shift){g.preventDefaultEvent(a);var b=e.focusedElement;if(d.autoHR&&"partial"!==d.mode){var c=d.element.children,f=c[c.length-1],h=""===g.html.text(f)&&f.nodeName.toLowerCase()===d.tags.paragraph;if(h&&c.length>=2){var i=c[c.length-2];"hr"===i.nodeName.toLowerCase()&&(h=!1)}h&&(g.preventDefaultEvent(a),g.html.deleteNode(f),g.html.addTag("hr",!1,!1,b),b=b.nextSibling),g.html.addTag(d.tags.paragraph,!0,null,b)}else g.html.addTag(d.tags.paragraph,!0,null,b)}}},i={listen:function(){g.addEvent(d.element,"keyup",h.up),g.addEvent(d.element,"keydown",h.down),g.addEvent(d.element,"focus",h.focus)},preserveElementFocus:function(){var c=a.getSelection?a.getSelection().anchorNode:b.activeElement;if(c){var f,g=c.parentNode,h=d.element.children,i=g!==e.focusedElement,j=0;for(g===d.element&&(g=c),f=0;f<h.length;f++)if(g===h[f]){j=f;break}i&&(e.focusedElement=g,e.focusedElementIndex=j)}}},j=function(a){for(var b in d)if("object"!=typeof d[b]&&d.hasOwnProperty(b)&&a.element.getAttribute("data-medium-"+b)){var c=a.element.getAttribute("data-medium-"+b);("false"===c.toLowerCase()||"true"===c.toLowerCase())&&(c="true"===c.toLowerCase()),d[b]=c}g.deepExtend(d,a),d.element.contentEditable=!0,d.element.className+=" "+d.cssClasses.editor,d.element.className+=" "+d.cssClasses.editor+"-"+d.mode,g.html.clean(),i.preserveElementFocus(),i.listen(),e.initialized=!0};this.destroy=function(){g.removeEvent(d.element,"keyup",h.up),g.removeEvent(d.element,"keydown",h.down),g.removeEvent(d.element,"focus",h.focus)},j(c)};"undefined"!=typeof module&&module.exports&&(module.exports=c),"undefined"==typeof ender&&(this.Medium=c),"function"==typeof define&&define.amd&&define("Medium",[],function(){return c})}.call(this,window,document),!function(a){function b(a,b){return function(c){return i(a.call(this,c),b)}}function c(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function d(){}function e(a){g(this,a)}function f(a){var b=a.years||a.year||a.y||0,c=a.months||a.month||a.M||0,d=a.weeks||a.week||a.w||0,e=a.days||a.day||a.d||0,f=a.hours||a.hour||a.h||0,g=a.minutes||a.minute||a.m||0,h=a.seconds||a.second||a.s||0,i=a.milliseconds||a.millisecond||a.ms||0;this._input=a,this._milliseconds=i+1e3*h+6e4*g+36e5*f,this._days=e+7*d,this._months=c+12*b,this._data={},this._bubble()}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function h(a){return 0>a?Math.ceil(a):Math.floor(a)}function i(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function j(a,b,c,d){var e,f,g=b._milliseconds,h=b._days,i=b._months;g&&a._d.setTime(+a._d+g*c),(h||i)&&(e=a.minute(),f=a.hour()),h&&a.date(a.date()+h*c),i&&a.month(a.month()+i*c),g&&!d&&H.updateOffset(a),(h||i)&&(a.minute(e),a.hour(f))}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a,b){var c,d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(c=0;d>c;c++)~~a[c]!==~~b[c]&&f++;return f+e}function m(a){return a?eb[a]||a.toLowerCase().replace(/(.)s$/,"$1"):a}function n(a,b){return b.abbr=a,L[a]||(L[a]=new d),L[a].set(b),L[a]}function o(a){if(!a)return H.fn._lang;if(!L[a]&&M)try{require("./lang/"+a)}catch(b){return H.fn._lang}return L[a]}function p(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function q(a){var b,c,d=a.match(P);for(b=0,c=d.length;c>b;b++)d[b]=ib[d[b]]?ib[d[b]]:p(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function r(a,b){function c(b){return a.lang().longDateFormat(b)||b}for(var d=5;d--&&Q.test(b);)b=b.replace(Q,c);return fb[b]||(fb[b]=q(b)),fb[b](a)}function s(a,b){switch(a){case"DDDD":return T;case"YYYY":return U;case"YYYYY":return V;case"S":case"SS":case"SSS":case"DDD":return S;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return W;case"a":case"A":return o(b._l)._meridiemParse;case"X":return Z;case"Z":case"ZZ":return X;case"T":return Y;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return R;default:return new RegExp(a.replace("\\",""))}}function t(a){var b=(X.exec(a)||[])[0],c=(b+"").match(bb)||["-",0,0],d=+(60*c[1])+~~c[2];return"+"===c[0]?-d:d}function u(a,b,c){var d,e=c._a;switch(a){case"M":case"MM":e[1]=null==b?0:~~b-1;break;case"MMM":case"MMMM":d=o(c._l).monthsParse(b),null!=d?e[1]=d:c._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=b&&(e[2]=~~b);break;case"YY":e[0]=~~b+(~~b>68?1900:2e3);break;case"YYYY":case"YYYYY":e[0]=~~b;break;case"a":case"A":c._isPm=o(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[3]=~~b;break;case"m":case"mm":e[4]=~~b;break;case"s":case"ss":e[5]=~~b;break;case"S":case"SS":case"SSS":e[6]=~~(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=t(b)}null==b&&(c._isValid=!1)}function v(a){var b,c,d=[];if(!a._d){for(b=0;7>b;b++)a._a[b]=d[b]=null==a._a[b]?2===b?1:0:a._a[b];d[3]+=~~((a._tzm||0)/60),d[4]+=~~((a._tzm||0)%60),c=new Date(0),a._useUTC?(c.setUTCFullYear(d[0],d[1],d[2]),c.setUTCHours(d[3],d[4],d[5],d[6])):(c.setFullYear(d[0],d[1],d[2]),c.setHours(d[3],d[4],d[5],d[6])),a._d=c}}function w(a){var b,c,d=a._f.match(P),e=a._i;for(a._a=[],b=0;b<d.length;b++)c=(s(d[b],a).exec(e)||[])[0],c&&(e=e.slice(e.indexOf(c)+c.length)),ib[d[b]]&&u(d[b],c,a);e&&(a._il=e),a._isPm&&a._a[3]<12&&(a._a[3]+=12),a._isPm===!1&&12===a._a[3]&&(a._a[3]=0),v(a)}function x(a){var b,c,d,f,h,i=99;for(f=0;f<a._f.length;f++)b=g({},a),b._f=a._f[f],w(b),c=new e(b),h=l(b._a,c.toArray()),c._il&&(h+=c._il.length),i>h&&(i=h,d=c);g(a,d)}function y(a){var b,c=a._i,d=$.exec(c);if(d){for(a._f="YYYY-MM-DD"+(d[2]||" "),b=0;4>b;b++)if(ab[b][1].exec(c)){a._f+=ab[b][0];break}X.exec(c)&&(a._f+=" Z"),w(a)}else a._d=new Date(c)}function z(b){var c=b._i,d=N.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?y(b):k(c)?(b._a=c.slice(0),v(b)):b._d=c instanceof Date?new Date(+c):new Date(c)}function A(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function B(a,b,c){var d=K(Math.abs(a)/1e3),e=K(d/60),f=K(e/60),g=K(f/24),h=K(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",K(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,A.apply({},i)}function C(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=H(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function D(a){var b=a._i,c=a._f;return null===b||""===b?null:("string"==typeof b&&(a._i=b=o().preparse(b)),H.isMoment(b)?(a=g({},b),a._d=new Date(+b._d)):c?k(c)?x(a):w(a):z(a),new e(a))}function E(a,b){H.fn[a]=H.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),H.updateOffset(this),this):this._d["get"+c+b]()}}function F(a){H.duration.fn[a]=function(){return this._data[a]}}function G(a,b){H.duration.fn["as"+a]=function(){return+this/b}}for(var H,I,J="2.1.0",K=Math.round,L={},M="undefined"!=typeof module&&module.exports,N=/^\/?Date\((\-?\d+)/i,O=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,P=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,Q=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,R=/\d\d?/,S=/\d{1,3}/,T=/\d{3}/,U=/\d{1,4}/,V=/[+\-]?\d{1,6}/,W=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,X=/Z|[\+\-]\d\d:?\d\d/i,Y=/T/i,Z=/[\+\-]?\d+(\.\d{1,3})?/,$=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,_="YYYY-MM-DDTHH:mm:ssZ",ab=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bb=/([\+\-]|\d\d)/gi,cb="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),db={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},eb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},fb={},gb="DDD w W M D d".split(" "),hb="M D H h m s w W".split(" "),ib={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return i(this.year()%100,2)},YYYY:function(){return i(this.year(),4)},YYYYY:function(){return i(this.year(),5)},gg:function(){return i(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return i(this.weekYear(),5)},GG:function(){return i(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return i(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return i(~~(this.milliseconds()/10),2)},SSS:function(){return i(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(~~(a/60),2)+":"+i(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(~~(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};gb.length;)I=gb.pop(),ib[I+"o"]=c(ib[I],I);for(;hb.length;)I=hb.pop(),ib[I+I]=b(ib[I],2);for(ib.DDDD=b(ib.DDD,3),d.prototype={set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]
},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=H([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=H([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return C(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},H=function(a,b,c){return D({_i:a,_f:b,_l:c,_isUTC:!1})},H.utc=function(a,b,c){return D({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b})},H.unix=function(a){return H(1e3*a)},H.duration=function(a,b){var c,d,e=H.isDuration(a),g="number"==typeof a,h=e?a._input:g?{}:a,i=O.exec(a);return g?b?h[b]=a:h.milliseconds=a:i&&(c="-"===i[1]?-1:1,h={y:0,d:~~i[2]*c,h:~~i[3]*c,m:~~i[4]*c,s:~~i[5]*c,ms:~~i[6]*c}),d=new f(h),e&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},H.version=J,H.defaultFormat=_,H.updateOffset=function(){},H.lang=function(a,b){return a?(b?n(a,b):L[a]||o(a),H.duration.fn._lang=H.fn._lang=o(a),void 0):H.fn._lang._abbr},H.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),o(a)},H.isMoment=function(a){return a instanceof e},H.isDuration=function(a){return a instanceof f},H.fn=e.prototype={clone:function(){return H(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return r(H(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!l(this._a,(this._isUTC?H.utc(this._a):H(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=r(this,a||H.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?H.duration(+b,a):H.duration(a,b),j(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?H.duration(+b,a):H.duration(a,b),j(this,c,-1),this},diff:function(a,b,c){var d,e,f=this._isUTC?H(a).zone(this._offset||0):H(a).local(),g=6e4*(this.zone()-f.zone());return b=m(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-H(this).startOf("month")-(f-H(f).startOf("month")))/d,e-=6e4*(this.zone()-H(this).startOf("month").zone()-(f.zone()-H(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:h(e)},from:function(a,b){return H.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(H(),a)},calendar:function(){var a=this.diff(H().startOf("day"),"days",!0),b=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(b,this))},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?"string"==typeof a&&(a=this.lang().weekdaysParse(a),"number"!=typeof a)?this:this.add({d:a-b}):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),H.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=m(a)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),this},endOf:function(a){return this.startOf(a).add(a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+H(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+H(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+H(a).startOf(b)},min:function(a){return a=H.apply(null,arguments),this>a?this:a},max:function(a){return a=H.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=t(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,b!==a&&j(this,H.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return H.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=K((H(this).startOf("day")-H(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=C(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=C(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=C(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},lang:function(b){return b===a?this._lang:(this._lang=o(b),this)}},I=0;I<cb.length;I++)E(cb[I].toLowerCase().replace(/s$/,""),cb[I]);E("year","FullYear"),H.fn.days=H.fn.day,H.fn.months=H.fn.month,H.fn.weeks=H.fn.week,H.fn.isoWeeks=H.fn.isoWeek,H.fn.toJSON=H.fn.toISOString,H.duration.fn=f.prototype={_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,i=this._data;i.milliseconds=e%1e3,a=h(e/1e3),i.seconds=a%60,b=h(a/60),i.minutes=b%60,c=h(b/60),i.hours=c%24,f+=h(c/24),i.days=f%30,g+=h(f/30),i.months=g%12,d=h(g/12),i.years=d},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(a){var b=+this,c=B(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=H.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=H.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=m(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=m(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:H.fn.lang};for(I in db)db.hasOwnProperty(I)&&(G(I,db[I]),F(I.toLowerCase()));G("Weeks",6048e5),H.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},H.lang("en",{ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),M&&(module.exports=H),"undefined"==typeof ender&&(this.moment=H),"function"==typeof define&&define.amd&&define("moment",[],function(){return H})}.call(this),!function(a,b,c){"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;w={paneClass:"pane",sliderClass:"slider",contentClass:"content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},s="scrollbar",r="scroll",k="mousedown",l="mousemove",n="mousewheel",m="mouseup",q="resize",h="drag",u="up",p="panedown",f="DOMMouseScroll",g="down",v="wheel",i="keydown",j="keyup",t="touchmove",d="Microsoft Internet Explorer"===b.navigator.appName&&/msie 7./i.test(b.navigator.appVersion)&&b.ActiveXObject,e=null,x=function(){var a,b,d;return a=c.createElement("div"),b=a.style,b.position="absolute",b.width="100px",b.height="100px",b.overflow=r,b.top="-9999px",c.body.appendChild(a),d=a.offsetWidth-a.clientWidth,c.body.removeChild(a),d},o=function(){function i(d,f){this.el=d,this.options=f,e||(e=x()),this.$el=a(this.el),this.doc=a(this.options.documentContext||c),this.win=a(this.options.windowContext||b),this.$content=this.$el.children("."+f.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return i.prototype.preventScrolling=function(a,b){if(this.isActive)if(a.type===f)(b===g&&a.originalEvent.detail>0||b===u&&a.originalEvent.detail<0)&&a.preventDefault();else if(a.type===n){if(!a.originalEvent||!a.originalEvent.wheelDelta)return;(b===g&&a.originalEvent.wheelDelta<0||b===u&&a.originalEvent.wheelDelta>0)&&a.preventDefault()}},i.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},i.prototype.updateScrollValues=function(){var a;a=this.content,this.maxScrollTop=a.scrollHeight-a.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=a.scrollTop,this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},i.prototype.createEvents=function(){var a=this;this.events={down:function(b){return a.isBeingDragged=!0,a.offsetY=b.pageY-a.slider.offset().top,a.pane.addClass("active"),a.doc.bind(l,a.events[h]).bind(m,a.events[u]),!1},drag:function(b){return a.sliderY=b.pageY-a.$el.offset().top-a.offsetY,a.scroll(),a.updateScrollValues(),a.contentScrollTop>=a.maxScrollTop&&a.prevScrollTop!==a.maxScrollTop?a.$el.trigger("scrollend"):0===a.contentScrollTop&&0!==a.prevScrollTop&&a.$el.trigger("scrolltop"),!1},up:function(){return a.isBeingDragged=!1,a.pane.removeClass("active"),a.doc.unbind(l,a.events[h]).unbind(m,a.events[u]),!1},resize:function(){a.reset()},panedown:function(b){return a.sliderY=(b.offsetY||b.originalEvent.layerY)-.5*a.sliderHeight,a.scroll(),a.events.down(b),!1},scroll:function(b){a.isBeingDragged||(a.updateScrollValues(),a.iOSNativeScrolling||(a.sliderY=a.sliderTop,a.slider.css({top:a.sliderTop})),null!=b&&(a.contentScrollTop>=a.maxScrollTop?(a.options.preventPageScrolling&&a.preventScrolling(b,g),a.prevScrollTop!==a.maxScrollTop&&a.$el.trigger("scrollend")):0===a.contentScrollTop&&(a.options.preventPageScrolling&&a.preventScrolling(b,u),0!==a.prevScrollTop&&a.$el.trigger("scrolltop"))))},wheel:function(b){var c;return null!=b?(c=b.delta||b.wheelDelta||b.originalEvent&&b.originalEvent.wheelDelta||-b.detail||b.originalEvent&&-b.originalEvent.detail,c&&(a.sliderY+=-c/3),a.scroll(),!1):void 0}}},i.prototype.addEvents=function(){var a;this.removeEvents(),a=this.events,this.options.disableResize||this.win.bind(q,a[q]),this.iOSNativeScrolling||(this.slider.bind(k,a[g]),this.pane.bind(k,a[p]).bind(""+n+" "+f,a[v])),this.$content.bind(""+r+" "+n+" "+f+" "+t,a[r])},i.prototype.removeEvents=function(){var a;a=this.events,this.win.unbind(q,a[q]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+r+" "+n+" "+f+" "+t,a[r])},i.prototype.generate=function(){var a,b,c,d,f;return c=this.options,d=c.paneClass,f=c.sliderClass,a=c.contentClass,this.$el.find(""+d).length||this.$el.find(""+f).length||this.$el.append('<div class="'+d+'"><div class="'+f+'" /></div>'),this.pane=this.$el.children("."+d),this.slider=this.pane.find("."+f),e&&(b={right:-e},this.$el.addClass("has-scrollbar")),null!=b&&this.$content.css(b),this},i.prototype.restore=function(){this.stopped=!1,this.pane.show(),this.addEvents()},i.prototype.reset=function(){var a,b,c,f,g,h,i,j,k,l;return this.iOSNativeScrolling?(this.contentHeight=this.content.scrollHeight,void 0):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),a=this.content,c=a.style,f=c.overflowY,d&&this.$content.css({height:this.$content.height()}),b=a.scrollHeight+e,k=parseInt(this.$el.css("max-height"),10),k>0&&(this.$el.height(""),this.$el.height(a.scrollHeight>k?k:a.scrollHeight)),h=this.pane.outerHeight(!1),j=parseInt(this.pane.css("top"),10),g=parseInt(this.pane.css("bottom"),10),i=h+j+g,l=Math.round(i/b*i),l<this.options.sliderMinHeight?l=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&l>this.options.sliderMaxHeight&&(l=this.options.sliderMaxHeight),f===r&&c.overflowX!==r&&(l+=e),this.maxSliderTop=i-l,this.contentHeight=b,this.paneHeight=h,this.paneOuterHeight=i,this.sliderHeight=l,this.slider.height(l),this.events.scroll(),this.pane.show(),this.isActive=!0,a.scrollHeight===a.clientHeight||this.pane.outerHeight(!0)>=a.scrollHeight&&f!==r?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===a.scrollHeight&&f===r?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),this)},i.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(-1*((this.paneHeight-this.contentHeight+e)*this.sliderY/this.maxSliderTop)),this.iOSNativeScrolling||this.slider.css({top:this.sliderY}),this):void 0},i.prototype.scrollBottom=function(a){return this.isActive?(this.reset(),this.$content.scrollTop(this.contentHeight-this.$content.height()-a).trigger(n),this):void 0},i.prototype.scrollTop=function(a){return this.isActive?(this.reset(),this.$content.scrollTop(+a).trigger(n),this):void 0},i.prototype.scrollTo=function(b){return this.isActive?(this.reset(),this.scrollTop(a(b).get(0).offsetTop),this):void 0},i.prototype.stop=function(){return this.stopped=!0,this.removeEvents(),this.pane.hide(),this},i.prototype.destroy=function(){return this.stopped||this.stop(),this.pane.length&&this.pane.remove(),d&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},i.prototype.flash=function(){var a=this;return this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(){a.pane.removeClass("flashed")},this.options.flashDelay),this):void 0},i}(),a.fn.nanoScroller=function(b){return this.each(function(){var c,d;if((d=this.nanoscroller)||(c=a.extend({},w,b),this.nanoscroller=d=new o(this,c)),b&&"object"==typeof b){if(a.extend(d.options,b),b.scrollBottom)return d.scrollBottom(b.scrollBottom);if(b.scrollTop)return d.scrollTop(b.scrollTop);if(b.scrollTo)return d.scrollTo(b.scrollTo);if("bottom"===b.scroll)return d.scrollBottom(0);if("top"===b.scroll)return d.scrollTop(0);if(b.scroll&&b.scroll instanceof a)return d.scrollTo(b.scroll);if(b.stop)return d.stop();if(b.destroy)return d.destroy();if(b.flash)return d.flash()}return d.reset()})},a.fn.nanoScroller.Constructor=o}(jQuery,window,document),function(a){a.noty=function(b){var c=this;c.init=function(){c.options=a.extend({},a.noty.defaultOptions,b),"topLeft"!=c.options.layout&&"topRight"!=c.options.layout?(c.options.force?a.noty.queue.unshift({options:c.options}):a.noty.queue.push({options:c.options}),c.render(),a.noty.available=!1):(a.noty.available=!0,c.render({options:c.options}))},c.render=function(b){if(a.noty.available){var d="object"===jQuery.type(b)?b:a.noty.queue.shift();if("object"===jQuery.type(d)){"topLeft"==d.options.layout||"topRight"==d.options.layout?(a("ul.noty_container."+d.options.layout).length>0?c.$noty_container=a("ul.noty_container."+d.options.layout):(c.$noty_container=a("<ul/>").addClass("noty_container").addClass(d.options.layout),a("body").prepend(c.$noty_container)),c.$notyContainer=a("<li/>"),c.$noty_container.prepend(c.$notyContainer)):c.$notyContainer=a("body"),c.$bar=a("<div/>").addClass("noty_bar"),c.$message=a("<div/>").addClass("noty_message"),c.$text=a("<div/>").addClass("noty_text"),c.$close=a("<div/>").addClass("noty_close"),c.$message.append(c.$text).append(c.$close),c.$bar.append(c.$message);var e=c.$bar;e.data("noty_options",d.options),e.addClass(d.options.layout).addClass(d.options.type).addClass(d.options.theme),e.find(".noty_text").html(d.options.text).css({textAlign:d.options.textAlign}),d.options.closable?e.find(".noty_close").show():e.find(".noty_close").remove(),e.find(".noty_close").bind("click",function(){e.trigger("noty.close")}),d.options.closeOnSelfClick&&e.find(".noty_message").bind("click",function(){e.trigger("noty.close")}).css("cursor","pointer"),d.options.modal&&a("<div />").addClass("noty_modal").prependTo(a("body")).css(d.options.modalCss).fadeIn("fast"),c.$notyContainer.prepend(e),e.one("noty.close",function(b,d){var f=e.data("noty_options");f.modal&&a(".noty_modal").fadeOut("fast",function(){a(this).remove()}),e.stop().animate(e.data("noty_options").animateClose,e.data("noty_options").speed,e.data("noty_options").easing,e.data("noty_options").onClose).promise().done(function(){"topLeft"==f.layout||"topRight"==f.layout?e.parent().remove():e.remove(),a.isFunction(d)&&d.apply(),"topLeft"!=f.layout&&"topRight"!=f.layout&&(a.noty.available=!0,c.render())})}),d.options.buttons&&($buttons=a("<div/>").addClass("noty_buttons"),e.find(".noty_text").append($buttons),a.each(d.options.buttons,function(b,c){bclass=c.type?c.type:"gray",a("<button/>").addClass(bclass).html(c.text).appendTo(e.find(".noty_buttons")).one("click",function(){e.trigger("noty.close",c.click)})})),e.animate(d.options.animateOpen,d.options.speed,d.options.easing,d.options.onShow),d.options.timeout&&e.delay(d.options.timeout).promise().done(function(){e.trigger("noty.close")})}}},c.init()},a.noty.queue=[],a.noty.clearQueue=function(){a.noty.queue=[]},a.noty.close=function(){a(".noty_bar:first").trigger("noty.close")},a.noty.closeAll=function(){a.noty.clearQueue(),a(".noty_bar").trigger("noty.close")},a.noty.available=!0,a.noty.defaultOptions={layout:"top",theme:"default",animateOpen:{height:"toggle"},animateClose:{height:"toggle"},easing:"swing",text:"null",textAlign:"center",type:"alert",speed:500,timeout:5e3,closable:!0,closeOnSelfClick:!0,force:!1,onShow:!1,onClose:!1,buttons:!1,modal:!1,modalCss:{opacity:.6}},a.fn.noty=function(b){return new a.noty(b)}}(jQuery),function(a){"use strict";var b,c=!1;a(document).on("click","a[data-reveal-id]",function(c){c.preventDefault(),b=a(this).attr("data-reveal-id"),a("#"+b).reveal(a(this).data())}),a.fn.reveal=function(b){var d=a(document),e={animation:"fadeAndPop",animationSpeed:300,closeOnBackgroundClick:!0,dismissModalClass:"close-reveal-modal",open:a.noop,opened:a.noop,close:a.noop,closed:a.noop};return b=a.extend({},e,b),this.not(".reveal-modal.open").each(function(){function e(){q=!1}function f(){q=!0}function g(){var b=a(".reveal-modal.open");1===b.length&&(c=!0,b.trigger("reveal:close"))}function h(){q||(f(),g(),n.addClass("open"),"fadeAndPop"===b.animation&&(s.open.top=d.scrollTop()-p,s.open.opacity=0,n.css(s.open),r.fadeIn(b.animationSpeed/2),n.delay(b.animationSpeed/2).animate({top:d.scrollTop()+o+"px",marginLeft:"-"+n.width()/2+"px",opacity:1},b.animationSpeed,function(){n.trigger("reveal:opened")})),"fade"===b.animation&&(s.open.top=d.scrollTop()+o,s.open.opacity=0,n.css(s.open),r.fadeIn(b.animationSpeed/2),n.delay(b.animationSpeed/2).animate({opacity:1},b.animationSpeed,function(){n.trigger("reveal:opened")})),"none"===b.animation&&(s.open.top=d.scrollTop()+o,s.open.opacity=1,n.css(s.open),r.css({display:"block"}),n.trigger("reveal:opened")))}function i(){var a=n.find(".flex-video"),b=a.find("iframe");b.length>0&&(b.attr("src",b.data("src")),a.fadeIn(100))}function j(){q||(f(),n.removeClass("open"),"fadeAndPop"===b.animation&&(n.animate({top:d.scrollTop()-p+"px",opacity:0},b.animationSpeed/2,function(){n.css(s.close)}),c?n.trigger("reveal:closed"):r.delay(b.animationSpeed).fadeOut(b.animationSpeed,function(){n.trigger("reveal:closed")})),"fade"===b.animation&&(n.animate({opacity:0},b.animationSpeed,function(){n.css(s.close)}),c?n.trigger("reveal:closed"):r.delay(b.animationSpeed).fadeOut(b.animationSpeed,function(){n.trigger("reveal:closed")})),"none"===b.animation&&(n.css(s.close),c||r.css({display:"none"}),n.trigger("reveal:closed")),c=!1)}function k(){n.unbind(".reveal"),r.unbind(".reveal"),m.unbind(".reveal"),a("body").unbind(".reveal")}function l(){var a=n.find(".flex-video"),b=a.find("iframe");b.length>0&&(b.data("src",b.attr("src")),b.attr("src",""),a.fadeOut(100))}var m,n=a(this),o=parseInt(n.css("top"),10),p=n.height()+o,q=!1,r=a(".reveal-modal-bg"),s={open:{top:0,opacity:0,visibility:"visible",display:"block"},close:{top:o,opacity:1,visibility:"hidden",display:"none"}};0===r.length&&(r=a("<div />",{"class":"reveal-modal-bg"}).insertAfter(n),r.fadeTo("fast",1)),n.bind("reveal:open.reveal",h),n.bind("reveal:open.reveal",i),n.bind("reveal:close.reveal",j),n.bind("reveal:closed.reveal",l),n.bind("reveal:opened.reveal reveal:closed.reveal",e),n.bind("reveal:closed.reveal",k),n.bind("reveal:open.reveal",b.open),n.bind("reveal:opened.reveal",b.opened),n.bind("reveal:close.reveal",b.close),n.bind("reveal:closed.reveal",b.closed),n.trigger("reveal:open"),m=a("."+b.dismissModalClass).bind("click.reveal",function(){n.trigger("reveal:close")}),b.closeOnBackgroundClick&&(r.css({cursor:"pointer"}),r.bind("click.reveal",function(){n.trigger("reveal:close")})),a("body").bind("keyup.reveal",function(a){27===a.which&&n.trigger("reveal:close")})})}}(jQuery),function(a){function b(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var c,d=a.ui.mouse.prototype,e=d._mouseInit;d._touchStart=function(a){var d=this;!c&&d._mouseCapture(a.originalEvent.changedTouches[0])&&(c=!0,d._touchMoved=!1,b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))},d._touchMove=function(a){c&&(this._touchMoved=!0,b(a,"mousemove"))},d._touchEnd=function(a){c&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),c=!1)},d._mouseInit=function(){var b=this;b.element.bind("touchstart",a.proxy(b,"_touchStart")).bind("touchmove",a.proxy(b,"_touchMove")).bind("touchend",a.proxy(b,"_touchEnd")),e.call(b)}}}(jQuery),function(){var a;a=function(a){var b,c;return b=!1,a(function(){var d;return d=(document.body||document.documentElement).style,b=void 0!==d.animation||void 0!==d.WebkitAnimation||void 0!==d.MozAnimation||void 0!==d.MsAnimation||void 0!==d.OAnimation,a(window).bind("keyup.vex",function(a){return 27===a.keyCode?c.closeByEscape():void 0})}),c={globalID:1,animationEndEvent:"animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",baseClassNames:{vex:"vex",content:"vex-content",overlay:"vex-overlay",close:"vex-close",closing:"vex-closing",open:"vex-open"},defaultOptions:{content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",css:{},overlayClassName:"",overlayCSS:{},contentClassName:"",contentCSS:{},closeClassName:"",closeCSS:{}},open:function(b){return b=a.extend({},c.defaultOptions,b),b.id=c.globalID,c.globalID+=1,b.$vex=a("<div>").addClass(c.baseClassNames.vex).addClass(b.className).css(b.css).data({vex:b}),b.$vexOverlay=a("<div>").addClass(c.baseClassNames.overlay).addClass(b.overlayClassName).css(b.overlayCSS).data({vex:b}),b.overlayClosesOnClick&&b.$vexOverlay.bind("click.vex",function(b){return b.target===this?c.close(a(this).data().vex.id):void 0}),b.$vex.append(b.$vexOverlay),b.$vexContent=a("<div>").addClass(c.baseClassNames.content).addClass(b.contentClassName).css(b.contentCSS).append(b.content).data({vex:b}),b.$vex.append(b.$vexContent),b.showCloseButton&&(b.$closeButton=a("<div>").addClass(c.baseClassNames.close).addClass(b.closeClassName).css(b.closeCSS).data({vex:b}).bind("click.vex",function(){return c.close(a(this).data().vex.id)}),b.$vexContent.append(b.$closeButton)),a(b.appendLocation).append(b.$vex),c.setupBodyClassName(b.$vex),b.afterOpen&&b.afterOpen(b.$vexContent,b),setTimeout(function(){return b.$vexContent.trigger("vexOpen",b)},0),b.$vexContent},getAllVexes:function(){return a("."+c.baseClassNames.vex+':not(".'+c.baseClassNames.closing+'") .'+c.baseClassNames.content)},getVexByID:function(b){return c.getAllVexes().filter(function(){return a(this).data().vex.id===b})},close:function(a){var b;if(!a){if(b=c.getAllVexes().last(),!b.length)return!1;a=b.data().vex.id}return c.closeByID(a)},closeAll:function(){var b;return b=c.getAllVexes().map(function(){return a(this).data().vex.id}).toArray(),(null!=b?b.length:void 0)?(a.each(b.reverse(),function(a,b){return c.closeByID(b)}),!0):!1},closeByID:function(d){var e,f,g,h,i;return f=c.getVexByID(d),f.length?(e=f.data().vex.$vex,i=a.extend({},f.data().vex),g=function(){return i.beforeClose?i.beforeClose(f,i):void 0},h=function(){return f.trigger("vexClose",i),e.remove(),i.afterClose?i.afterClose(f,i):void 0},b?(g(),e.unbind(c.animationEndEvent).bind(c.animationEndEvent,function(){return h()}).addClass(c.baseClassNames.closing)):(g(),h()),!0):void 0},closeByEscape:function(){var b,d,e;return e=c.getAllVexes().map(function(){return a(this).data().vex.id}).toArray(),(null!=e?e.length:void 0)?(d=Math.max.apply(Math,e),b=c.getVexByID(d),b.data().vex.escapeButtonCloses!==!0?!1:c.closeByID(d)):!1},setupBodyClassName:function(b){return b.bind("vexOpen.vex",function(){return a("body").addClass(c.baseClassNames.open)}).bind("vexClose.vex",function(){return c.getAllVexes().length?void 0:a("body").removeClass(c.baseClassNames.open)})},hideLoading:function(){return a(".vex-loading-spinner").remove()},showLoading:function(){return c.hideLoading(),a("body").append('<div class="vex-loading-spinner '+c.defaultOptions.className+'"></div>')}}},"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):window.vex=a(jQuery)}.call(this),function(){var a;a=function(a,b){var c,d;return null==b?a.error("Vex is required to use vex.dialog"):(c=function(b){var c;return c={},a.each(b.serializeArray(),function(){return c[this.name]?(c[this.name].push||(c[this.name]=[c[this.name]]),c[this.name].push(this.value||"")):c[this.name]=this.value||""}),c},d={},d.buttons={YES:{text:"OK",type:"submit",className:"vex-dialog-button-primary"},NO:{text:"Cancel",type:"button",className:"vex-dialog-button-secondary",click:function(a){return a.data().vex.value=!1,b.close(a.data().vex.id)}}},d.defaultOptions={callback:function(a){return console&&console.log?console.log("Vex dialog callback:",a):void 0},afterOpen:function(){},message:"Message",input:'<input name="vex" type="hidden" value="_vex-empty-value" />',value:!1,buttons:[d.buttons.YES,d.buttons.NO],showCloseButton:!1,onSubmit:function(e){var f,g;return f=a(this),g=f.parent(),e.preventDefault(),e.stopPropagation(),g.data().vex.value=d.getFormValueOnSubmit(c(f)),b.close(g.data().vex.id)},focusFirstInput:!0},d.defaultAlertOptions={message:"Alert",buttons:[d.buttons.YES]},d.defaultConfirmOptions={message:"Confirm"},d.open=function(c){var e;return c=a.extend({},b.defaultOptions,d.defaultOptions,c),c.content=d.buildDialogForm(c),c.beforeClose=function(a){return c.callback(a.data().vex.value)},e=b.open(c),c.focusFirstInput&&e.find('input[type="text"], input[type="submit"]').first().focus(),e},d.alert=function(b){return"string"==typeof b&&(b={message:b}),b=a.extend({},d.defaultAlertOptions,b),d.open(b)},d.confirm=function(b){return"string"==typeof b?a.error("dialog.confirm(options) requires options.callback."):(b=a.extend({},d.defaultConfirmOptions,b),d.open(b))},d.prompt=function(b){var c;return"string"==typeof b?a.error("dialog.prompt(options) requires options.callback."):(c={message:'<label for="vex">'+(b.label||"Prompt:")+"</label>",input:'<input name="vex" type="text" class="vex-dialog-prompt-input" placeholder="'+(b.placeholder||"")+'" />'},b=a.extend({},c,b),d.open(b))},d.buildDialogForm=function(b){var c,e,f;return c=a('<form class="vex-dialog-form" />'),f=a('<div class="vex-dialog-message" />'),e=a('<div class="vex-dialog-input" />'),c.append(f.append(b.message)).append(e.append(b.input)).append(d.buttonsToDOM(b.buttons)).bind("submit.vex",b.onSubmit),c},d.getFormValueOnSubmit=function(a){return a.vex?"_vex-empty-value"===a.vex?!0:a.vex:a},d.buttonsToDOM=function(c){var d;return d=a('<div class="vex-dialog-buttons" />'),a.each(c,function(e,f){return d.append(a('<input type="'+f.type+'" />').val(f.text).addClass(f.className+" vex-dialog-button "+(0===e?"vex-first ":"")+(e===c.length-1?"vex-last ":"")).bind("click.vex",function(c){return f.click?f.click(a(this).parents("."+b.baseClassNames.content),c):void 0}))}),d},d)},"function"==typeof define&&define.amd?define(["jquery","vex"],a):"object"==typeof exports?module.exports=a(require("jquery"),require("vex")):window.vex.dialog=a(window.jQuery,window.vex)}.call(this);